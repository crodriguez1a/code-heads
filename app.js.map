{"version":3,"file":"app.js","sources":["../../node_modules/@glimmer/di/dist/modules/es2017/src/container.ts","../../node_modules/@glimmer/di/dist/modules/es2017/src/registry.ts","../../node_modules/@glimmer/di/dist/modules/es2017/src/owner.ts","../../node_modules/@glimmer/util/dist/modules/es2017/lib/namespaces.js","../../node_modules/@glimmer/util/dist/modules/es2017/lib/platform-utils.js","../../node_modules/@glimmer/util/dist/modules/es2017/lib/assert.js","../../node_modules/@glimmer/util/dist/modules/es2017/lib/logger.js","../../node_modules/@glimmer/util/dist/modules/es2017/lib/object-utils.js","../../node_modules/@glimmer/util/dist/modules/es2017/lib/guid.js","../../node_modules/@glimmer/util/dist/modules/es2017/lib/collections.js","../../node_modules/@glimmer/util/dist/modules/es2017/lib/list-utils.js","../../node_modules/@glimmer/util/dist/modules/es2017/lib/weakmap.js","../../node_modules/@glimmer/util/dist/modules/es2017/lib/array-utils.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/opcodes.js","../../node_modules/@glimmer/reference/dist/modules/es2017/lib/validators.js","../../node_modules/@glimmer/reference/dist/modules/es2017/lib/const.js","../../node_modules/@glimmer/reference/dist/modules/es2017/lib/iterable.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/compiled/expressions/concat.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/references.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/compiled/opcodes/expressions.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/compiled/opcodes/vm.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/vm/arguments.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/compiled/opcodes/dom.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/compiled/opcodes/component.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/bounds.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/upsert.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/component/interfaces.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/builder.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/compiled/opcodes/content.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/compiled/opcodes/debugger.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/compiled/opcodes/partial.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/compiled/opcodes/lists.js","../../node_modules/@glimmer/wire-format/dist/modules/es2017/lib/opcodes.js","../../node_modules/@glimmer/wire-format/dist/modules/es2017/index.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/compiled/blocks.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/compiled/opcodes/builder.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/compiler.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/scanner.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/syntax/functions.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/environment/constants.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/dom/sanitized-values.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/dom/props.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/compat/inner-html-fix.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/compat/svg-inner-html-fix.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/compat/text-node-merging-fix.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/dom/helper.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/dom/attribute-managers.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/environment.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/vm/update.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/vm/render-result.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/vm/append.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/template.js","../../node_modules/@glimmer/runtime/dist/modules/es2017/lib/dom/interfaces.js","../../node_modules/@glimmer/object-reference/dist/modules/es2017/lib/utils.js","../../node_modules/@glimmer/object-reference/dist/modules/es2017/lib/references/path.js","../../node_modules/@glimmer/object-reference/dist/modules/es2017/lib/references/root.js","../../node_modules/@glimmer/object-reference/dist/modules/es2017/lib/meta.js","../../node_modules/@glimmer/object-reference/dist/modules/es2017/lib/references/descriptors.js","../../node_modules/@glimmer/object-reference/dist/modules/es2017/lib/object.js","../../node_modules/@glimmer/application/dist/modules/es2017/src/application-registry.ts","../../node_modules/@glimmer/application/dist/modules/es2017/src/dynamic-scope.ts","../../node_modules/@glimmer/application/dist/modules/es2017/src/iterable.ts","../../node_modules/@glimmer/application/dist/modules/es2017/src/helpers/action.ts","../../node_modules/@glimmer/application/dist/modules/es2017/src/helpers/user-helper.ts","../../node_modules/@glimmer/application/dist/modules/es2017/src/environment.ts","../../node_modules/@glimmer/application/dist/modules/es2017/src/templates/main.ts","../../node_modules/@glimmer/application/dist/modules/es2017/src/application.ts","../../node_modules/@glimmer/resolver/node_modules/@glimmer/di/dist/modules/es2017/src/owner.ts","../../node_modules/@glimmer/resolver/node_modules/@glimmer/di/dist/modules/es2017/src/specifier.ts","../../node_modules/@glimmer/resolver/dist/modules/es2017/src/utils/debug.ts","../../node_modules/@glimmer/resolver/dist/modules/es2017/src/resolver.ts","../../node_modules/@glimmer/component/dist/modules/es2017/src/tracked.ts","../../node_modules/@glimmer/component/dist/modules/es2017/src/component.ts","../../node_modules/@glimmer/component/dist/modules/es2017/src/references.ts","../../node_modules/@glimmer/component/dist/modules/es2017/src/component-manager.ts","src/ui/components/about-overview/component.ts","src/ui/components/about-overview/template.ts","src/ui/components/about-resume/component.ts","src/ui/components/about-resume/template.ts","src/ui/components/article-card/template.ts","src/ui/components/article-modal/component.ts","src/ui/components/article-modal/template.ts","src/ui/components/bubble-chart/component.ts","src/ui/components/bubble-chart/template.ts","src/ui/components/equals/helper.ts","src/ui/components/html-safe/helper.ts","src/ui/components/str-contains/helper.ts","../../node_modules/lodash-es/_freeGlobal.js","../../node_modules/lodash-es/_root.js","../../node_modules/lodash-es/_Symbol.js","../../node_modules/lodash-es/_getRawTag.js","../../node_modules/lodash-es/_objectToString.js","../../node_modules/lodash-es/_baseGetTag.js","../../node_modules/lodash-es/_overArg.js","../../node_modules/lodash-es/_getPrototype.js","../../node_modules/lodash-es/isObjectLike.js","../../node_modules/lodash-es/isPlainObject.js","../../node_modules/symbol-observable/es/ponyfill.js","../../node_modules/symbol-observable/es/index.js","../../node_modules/redux/es/createStore.js","../../node_modules/redux/es/utils/warning.js","../../node_modules/redux/es/compose.js","../../node_modules/redux/es/index.js","src/ui/components/website-app/-utils/content.ts","src/ui/components/website-app/-utils/reducers.ts","../../node_modules/navigo/src/index.js","src/ui/components/website-app/-utils/router/watcher.ts","src/ui/components/website-app/-utils/router/router.ts","src/ui/components/website-app/component.ts","src/ui/components/website-app/template.ts","config/module-map.js","config/resolver-configuration.js","src/main.ts","src/index.ts"],"sourcesContent":["import { Factory, FactoryDefinition } from './factory';\nimport { RegistryReader, Injection } from './registry';\nimport { Resolver } from './resolver';\nimport { Dict } from './dict';\n\nexport default class Container {\n  private _registry: RegistryReader;\n  private _resolver: Resolver;\n  private _lookups: Dict<any>;\n  private _factoryDefinitionLookups: Dict<FactoryDefinition<any>>;\n\n  constructor(registry: RegistryReader, resolver: Resolver = null) {\n    this._registry = registry;\n    this._resolver = resolver;\n    this._lookups = {};\n    this._factoryDefinitionLookups = {};\n  }\n\n  factoryFor(specifier: string): Factory<any> {\n    let factoryDefinition: FactoryDefinition<any> = this._factoryDefinitionLookups[specifier];\n\n    if (!factoryDefinition) {\n      if (this._resolver) {\n        factoryDefinition = this._resolver.retrieve(specifier);\n      }\n\n      if (!factoryDefinition) {\n        factoryDefinition = this._registry.registration(specifier);\n      }\n\n      if (factoryDefinition) {\n        this._factoryDefinitionLookups[specifier] = factoryDefinition;\n      }\n    }\n\n    if (!factoryDefinition) {\n      return;\n    }\n\n    return this.buildFactory(specifier, factoryDefinition);\n  }\n\n  lookup(specifier: string): any {\n    let singleton = (this._registry.registeredOption(specifier, 'singleton') !== false);\n\n    if (singleton && this._lookups[specifier]) {\n      return this._lookups[specifier];\n    }\n\n    let factory = this.factoryFor(specifier);\n    if (!factory) { return; }\n\n    if (this._registry.registeredOption(specifier, 'instantiate') === false) {\n      return factory.class;\n    }\n\n    let object = factory.create();\n\n    if (singleton && object) {\n      this._lookups[specifier] = object;\n    }\n\n    return object;\n  }\n\n  defaultInjections(specifier: string): Object {\n    return {};\n  }\n\n  private buildInjections(specifier: string): Object {\n    let hash = this.defaultInjections(specifier);\n    let injections: Injection[] = this._registry.registeredInjections(specifier);\n    let injection: Injection;\n\n    for (let i = 0; i < injections.length; i++) {\n      injection = injections[i];\n      hash[injection.property] = this.lookup(injection.source);\n    }\n\n    return hash;\n  }\n\n  private buildFactory(specifier: string, factoryDefinition: FactoryDefinition<any>): Factory<any> {\n    let injections = this.buildInjections(specifier);\n\n    return {\n      class: factoryDefinition,\n      create(options) {\n        let mergedOptions = Object.assign({}, injections, options);\n\n        return factoryDefinition.create(mergedOptions);\n      }\n    }\n  }\n}\n","import { Dict } from './dict';\nimport { Factory, FactoryDefinition } from './factory';\n\nexport interface RegistrationOptions {\n  singleton?: boolean;\n  instantiate?: boolean;\n}\n\nexport interface Injection {\n  property: string,\n  source: string\n}\n\nexport interface RegistryWriter {\n  register(specifier: string, factory: any, options?: RegistrationOptions): void;\n  unregister(specifier: string): void;\n  registerOption(specifier: string, option: string, value: any): void;\n  unregisterOption(specifier: string, option: string): void;\n  registerInjection(specifier: string, property: string, source: string): void;\n}\n\nexport interface RegistryReader {\n  registration(specifier: string): any;\n  registeredOption(specifier: string, option: string): any;\n  registeredOptions(specifier: string): any;\n  registeredInjections(specifier: string): Injection[];\n}\n\nexport interface RegistryOptions {\n  fallback?: RegistryReader;\n}\n\nexport interface RegistryAccessor extends RegistryReader, RegistryWriter {}\n\nexport default class Registry implements RegistryAccessor {\n  private _registrations: Dict<FactoryDefinition<any>>;\n  private _registeredOptions: Dict<any>;\n  private _registeredInjections: Dict<Injection[]>;\n  private _fallback: RegistryReader;\n\n  constructor(options?: RegistryOptions) {\n    this._registrations = {};\n    this._registeredOptions = {};\n    this._registeredInjections = {};\n    if (options && options.fallback) {\n      this._fallback = options.fallback;\n    }\n  }\n\n  register(specifier: string, factoryDefinition: FactoryDefinition<any>, options?: RegistrationOptions): void {\n    this._registrations[specifier] = factoryDefinition;\n    if (options) {\n      this._registeredOptions[specifier] = options;\n    }\n  }\n\n  registration(specifier: string): FactoryDefinition<any> {\n    let registration = this._registrations[specifier];\n    if (registration === undefined && this._fallback) {\n      registration = this._fallback.registration(specifier);\n    }\n    return registration;\n  }\n\n  unregister(specifier: string): void {\n    delete this._registrations[specifier];\n    delete this._registeredOptions[specifier];\n    delete this._registeredInjections[specifier];\n  }\n\n  registerOption(specifier: string, option: string, value: any): void {\n    let options = this._registeredOptions[specifier];\n\n    if (!options) {\n      options = {};\n      this._registeredOptions[specifier] = options;\n    }\n\n    options[option] = value;\n  }\n\n  registeredOption(specifier: string, option: string): any {\n    let result: Boolean;\n    let options = this.registeredOptions(specifier);\n\n    if (options) {\n      result = options[option];\n    }\n\n    if (result === undefined && this._fallback !== undefined) {\n      result = this._fallback.registeredOption(specifier, option);\n    }\n\n    return result;\n  }\n\n  registeredOptions(specifier: string): any {\n    let options = this._registeredOptions[specifier];\n    if (options === undefined) {\n      let [type] = specifier.split(':');\n      options = this._registeredOptions[type];\n    }\n    return options;\n  }\n\n  unregisterOption(specifier: string, option: string): void {\n    let options = this._registeredOptions[specifier];\n\n    if (options) {\n      delete options[option];\n    }\n  }\n\n  registerInjection(specifier: string, property: string, source: string): void {\n    let injections = this._registeredInjections[specifier];\n    if (injections === undefined) {\n      this._registeredInjections[specifier] = injections = [];\n    }\n    injections.push({\n      property,\n      source\n    });\n  }\n\n  registeredInjections(specifier: string): Injection[] {\n    let [type] = specifier.split(':');\n    let injections: Injection[] = this._fallback ? this._fallback.registeredInjections(specifier) : [];\n    Array.prototype.push.apply(injections, this._registeredInjections[type]);\n    Array.prototype.push.apply(injections, this._registeredInjections[specifier]);\n    return injections;\n  }\n}\n","import { RegistrationOptions } from './registry';\nimport { Factory } from './factory';\n\n// TODO - use symbol\nexport const OWNER = '__owner__';\n\nexport function getOwner(object: Object): Owner {\n  return object[OWNER];\n}\n\nexport function setOwner(object: Object, owner: Owner): void {\n  object[OWNER] = owner;\n}\n\nexport interface Owner {\n  identify(specifier: string, referrer?: string): string;\n\n  factoryFor(specifier: string, referrer?: string): Factory<any>;\n  \n  lookup(specifier: string, referrer?: string): any;\n}\n","// There is a small whitelist of namespaced attributes specially\n// enumerated in\n// https://www.w3.org/TR/html/syntax.html#attributes-0\n//\n// > When a foreign element has one of the namespaced attributes given by\n// > the local name and namespace of the first and second cells of a row\n// > from the following table, it must be written using the name given by\n// > the third cell from the same row.\n//\n// In all other cases, colons are interpreted as a regular character\n// with no special meaning:\n//\n// > No other namespaced attribute can be expressed in the HTML syntax.\nconst XLINK = 'http://www.w3.org/1999/xlink';\nconst XML = 'http://www.w3.org/XML/1998/namespace';\nconst XMLNS = 'http://www.w3.org/2000/xmlns/';\nconst WHITELIST = {\n    'xlink:actuate': XLINK,\n    'xlink:arcrole': XLINK,\n    'xlink:href': XLINK,\n    'xlink:role': XLINK,\n    'xlink:show': XLINK,\n    'xlink:title': XLINK,\n    'xlink:type': XLINK,\n    'xml:base': XML,\n    'xml:lang': XML,\n    'xml:space': XML,\n    'xmlns': XMLNS,\n    'xmlns:xlink': XMLNS\n};\nexport function getAttrNamespace(attrName) {\n    return WHITELIST[attrName] || null;\n}","export function unwrap(val) {\n    if (val === null || val === undefined) throw new Error(`Expected value to be present`);\n    return val;\n}\nexport function expect(val, message) {\n    if (val === null || val === undefined) throw new Error(message);\n    return val;\n}\nexport function unreachable() {\n    return new Error('unreachable');\n}","// import Logger from './logger';\n// let alreadyWarned = false;\n// import Logger from './logger';\nexport function debugAssert(test, msg) {\n    // if (!alreadyWarned) {\n    //   alreadyWarned = true;\n    //   Logger.warn(\"Don't leave debug assertions on in public builds\");\n    // }\n    if (!test) {\n        throw new Error(msg || \"assertion failure\");\n    }\n}\nexport function prodAssert() {}\nexport default debugAssert;","export var LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"Trace\"] = 0] = \"Trace\";\n    LogLevel[LogLevel[\"Debug\"] = 1] = \"Debug\";\n    LogLevel[LogLevel[\"Warn\"] = 2] = \"Warn\";\n    LogLevel[LogLevel[\"Error\"] = 3] = \"Error\";\n})(LogLevel || (LogLevel = {}));\nclass NullConsole {\n    log(_message) {}\n    warn(_message) {}\n    error(_message) {}\n    trace() {}\n}\nlet ALWAYS;\nexport class Logger {\n    constructor({ console, level }) {\n        this.f = ALWAYS;\n        this.force = ALWAYS;\n        this.console = console;\n        this.level = level;\n    }\n    skipped(level) {\n        return level < this.level;\n    }\n    trace(message, { stackTrace = false } = {}) {\n        if (this.skipped(LogLevel.Trace)) return;\n        this.console.log(message);\n        if (stackTrace) this.console.trace();\n    }\n    debug(message, { stackTrace = false } = {}) {\n        if (this.skipped(LogLevel.Debug)) return;\n        this.console.log(message);\n        if (stackTrace) this.console.trace();\n    }\n    warn(message, { stackTrace = false } = {}) {\n        if (this.skipped(LogLevel.Warn)) return;\n        this.console.warn(message);\n        if (stackTrace) this.console.trace();\n    }\n    error(message) {\n        if (this.skipped(LogLevel.Error)) return;\n        this.console.error(message);\n    }\n}\nlet _console = typeof console === 'undefined' ? new NullConsole() : console;\nALWAYS = new Logger({ console: _console, level: LogLevel.Trace });\nconst LOG_LEVEL = LogLevel.Debug;\nexport default new Logger({ console: _console, level: LOG_LEVEL });","const { keys: objKeys } = Object;\nexport function assign(obj) {\n    for (let i = 1; i < arguments.length; i++) {\n        let assignment = arguments[i];\n        if (assignment === null || typeof assignment !== 'object') continue;\n        let keys = objKeys(assignment);\n        for (let j = 0; j < keys.length; j++) {\n            let key = keys[j];\n            obj[key] = assignment[key];\n        }\n    }\n    return obj;\n}\nexport function fillNulls(count) {\n    let arr = new Array(count);\n    for (let i = 0; i < count; i++) {\n        arr[i] = null;\n    }\n    return arr;\n}","let GUID = 0;\nexport function initializeGuid(object) {\n    return object._guid = ++GUID;\n}\nexport function ensureGuid(object) {\n    return object._guid || initializeGuid(object);\n}","import { ensureGuid } from './guid';\nlet proto = Object.create(null, {\n    // without this, we will always still end up with (new\n    // EmptyObject()).constructor === Object\n    constructor: {\n        value: undefined,\n        enumerable: false,\n        writable: true\n    }\n});\nfunction EmptyObject() {}\nEmptyObject.prototype = proto;\nexport function dict() {\n    // let d = Object.create(null);\n    // d.x = 1;\n    // delete d.x;\n    // return d;\n    return new EmptyObject();\n}\nexport class DictSet {\n    constructor() {\n        this.dict = dict();\n    }\n    add(obj) {\n        if (typeof obj === 'string') this.dict[obj] = obj;else this.dict[ensureGuid(obj)] = obj;\n        return this;\n    }\n    delete(obj) {\n        if (typeof obj === 'string') delete this.dict[obj];else if (obj._guid) delete this.dict[obj._guid];\n    }\n    forEach(callback) {\n        let { dict } = this;\n        Object.keys(dict).forEach(key => callback(dict[key]));\n    }\n    toArray() {\n        return Object.keys(this.dict);\n    }\n}\nexport class Stack {\n    constructor() {\n        this.stack = [];\n        this.current = null;\n    }\n    toArray() {\n        return this.stack;\n    }\n    push(item) {\n        this.current = item;\n        this.stack.push(item);\n    }\n    pop() {\n        let item = this.stack.pop();\n        let len = this.stack.length;\n        this.current = len === 0 ? null : this.stack[len - 1];\n        return item === undefined ? null : item;\n    }\n    isEmpty() {\n        return this.stack.length === 0;\n    }\n}","export class ListNode {\n    constructor(value) {\n        this.next = null;\n        this.prev = null;\n        this.value = value;\n    }\n}\nexport class LinkedList {\n    constructor() {\n        this.clear();\n    }\n    static fromSlice(slice) {\n        let list = new LinkedList();\n        slice.forEachNode(n => list.append(n.clone()));\n        return list;\n    }\n    head() {\n        return this._head;\n    }\n    tail() {\n        return this._tail;\n    }\n    clear() {\n        this._head = this._tail = null;\n    }\n    isEmpty() {\n        return this._head === null;\n    }\n    toArray() {\n        let out = [];\n        this.forEachNode(n => out.push(n));\n        return out;\n    }\n    splice(start, end, reference) {\n        let before;\n        if (reference === null) {\n            before = this._tail;\n            this._tail = end;\n        } else {\n            before = reference.prev;\n            end.next = reference;\n            reference.prev = end;\n        }\n        if (before) {\n            before.next = start;\n            start.prev = before;\n        }\n    }\n    nextNode(node) {\n        return node.next;\n    }\n    prevNode(node) {\n        return node.prev;\n    }\n    forEachNode(callback) {\n        let node = this._head;\n        while (node !== null) {\n            callback(node);\n            node = node.next;\n        }\n    }\n    contains(needle) {\n        let node = this._head;\n        while (node !== null) {\n            if (node === needle) return true;\n            node = node.next;\n        }\n        return false;\n    }\n    insertBefore(node, reference = null) {\n        if (reference === null) return this.append(node);\n        if (reference.prev) reference.prev.next = node;else this._head = node;\n        node.prev = reference.prev;\n        node.next = reference;\n        reference.prev = node;\n        return node;\n    }\n    append(node) {\n        let tail = this._tail;\n        if (tail) {\n            tail.next = node;\n            node.prev = tail;\n            node.next = null;\n        } else {\n            this._head = node;\n        }\n        return this._tail = node;\n    }\n    pop() {\n        if (this._tail) return this.remove(this._tail);\n        return null;\n    }\n    prepend(node) {\n        if (this._head) return this.insertBefore(node, this._head);\n        return this._head = this._tail = node;\n    }\n    remove(node) {\n        if (node.prev) node.prev.next = node.next;else this._head = node.next;\n        if (node.next) node.next.prev = node.prev;else this._tail = node.prev;\n        return node;\n    }\n}\nexport class ListSlice {\n    constructor(head, tail) {\n        this._head = head;\n        this._tail = tail;\n    }\n    static toList(slice) {\n        let list = new LinkedList();\n        slice.forEachNode(n => list.append(n.clone()));\n        return list;\n    }\n    forEachNode(callback) {\n        let node = this._head;\n        while (node !== null) {\n            callback(node);\n            node = this.nextNode(node);\n        }\n    }\n    contains(needle) {\n        let node = this._head;\n        while (node !== null) {\n            if (node === needle) return true;\n            node = node.next;\n        }\n        return false;\n    }\n    head() {\n        return this._head;\n    }\n    tail() {\n        return this._tail;\n    }\n    toArray() {\n        let out = [];\n        this.forEachNode(n => out.push(n));\n        return out;\n    }\n    nextNode(node) {\n        if (node === this._tail) return null;\n        return node.next;\n    }\n    prevNode(node) {\n        if (node === this._head) return null;\n        return node.prev;\n    }\n    isEmpty() {\n        return false;\n    }\n}\nexport const EMPTY_SLICE = new ListSlice(null, null);","export const HAS_NATIVE_WEAKMAP = function () {\n    // detect if `WeakMap` is even present\n    let hasWeakMap = typeof WeakMap === 'function';\n    if (!hasWeakMap) {\n        return false;\n    }\n    let instance = new WeakMap();\n    // use `Object`'s `.toString` directly to prevent us from detecting\n    // polyfills as native weakmaps\n    return Object.prototype.toString.call(instance) === '[object WeakMap]';\n}();","import { HAS_NATIVE_WEAKMAP } from './weakmap';\nconst HAS_TYPED_ARRAYS = typeof Uint32Array !== 'undefined';\nlet A;\nif (HAS_TYPED_ARRAYS) {\n    A = Uint32Array;\n} else {\n    A = Array;\n}\nexport default A;\nexport const EMPTY_ARRAY = HAS_NATIVE_WEAKMAP ? Object.freeze([]) : [];","import { initializeGuid, fillNulls, unreachable } from '@glimmer/util';\n\n/**\n * Registers\n *\n * For the most part, these follows MIPS naming conventions, however the\n * register numbers are different.\n */\nexport var Register;\n(function (Register) {\n    // $0 or $pc (program counter): pointer into `program` for the next insturction; -1 means exit\n    Register[Register[\"pc\"] = 0] = \"pc\";\n    // $1 or $ra (return address): pointer into `program` for the return\n    Register[Register[\"ra\"] = 1] = \"ra\";\n    // $2 or $fp (frame pointer): pointer into the `evalStack` for the base of the stack\n    Register[Register[\"fp\"] = 2] = \"fp\";\n    // $3 or $sp (stack pointer): pointer into the `evalStack` for the top of the stack\n    Register[Register[\"sp\"] = 3] = \"sp\";\n    // $4-$5 or $s0-$s1 (saved): callee saved general-purpose registers\n    Register[Register[\"s0\"] = 4] = \"s0\";\n    Register[Register[\"s1\"] = 5] = \"s1\";\n    // $6-$7 or $t0-$t1 (temporaries): caller saved general-purpose registers\n    Register[Register[\"t0\"] = 6] = \"t0\";\n    Register[Register[\"t1\"] = 7] = \"t1\";\n})(Register || (Register = {}));\nexport function debugSlice(env, start, end) {\n    if (!false && false) {\n        let { program, constants } = env;\n        // console is not available in IE9\n        if (typeof console === 'undefined') {\n            return;\n        }\n        // IE10 does not have `console.group`\n        if (typeof console.group !== 'function') {\n            return;\n        }\n        console.group(`%c${start}:${end}`, 'color: #999');\n        for (let i = start; i <= end; i += 4) {\n            let { type, op1, op2, op3 } = program.opcode(i);\n            let [name, params] = debug(constants, type, op1, op2, op3);\n            console.log(`${i}. ${logOpcode(name, params)}`);\n        }\n        console.groupEnd();\n    }\n}\nfunction logOpcode(type, params) {\n    if (!false && false) {\n        let out = type;\n        if (params) {\n            let args = Object.keys(params).map(p => ` ${p}=${json(params[p])}`).join('');\n            out += args;\n        }\n        return `(${out})`;\n    }\n}\nfunction json(param) {\n    if (typeof param === 'function') {\n        return '<function>';\n    }\n    let string = JSON.stringify(param);\n    if (string === undefined) return 'undefined';\n    let debug = JSON.parse(string);\n    if (typeof debug === 'object' && debug && debug['GlimmerDebug']) {\n        return debug['GlimmerDebug'];\n    }\n    return string;\n}\nfunction debug(c, op, op1, op2, op3) {\n    if (!false && false) {\n        switch (op) {\n            case 0 /* Bug */:\n                throw unreachable();\n            case 1 /* Helper */:\n                return ['Helper', { helper: c.getFunction(op1) }];\n            case 2 /* Function */:\n                return ['Function', { function: c.getFunction(op1) }];\n            case 4 /* SetVariable */:\n                return ['SetVariable', { symbol: op1 }];\n            case 5 /* GetVariable */:\n                return ['GetVariable', { symbol: op1 }];\n            case 6 /* GetProperty */:\n                return ['GetProperty', { key: c.getString(op1) }];\n            case 7 /* PushBlock */:\n                return ['PushBlock', { block: c.getBlock(op1) }];\n            case 8 /* GetBlock */:\n                return ['GetBlock', { symbol: op1 }];\n            case 9 /* HasBlock */:\n                return ['HasBlock', { block: op1 }];\n            case 10 /* HasBlockParams */:\n                return ['HasBlockParams', { block: op1 }];\n            case 11 /* Concat */:\n                return ['Concat', { size: op1 }];\n            case 12 /* Immediate */:\n                return ['Immediate', { value: op1 }];\n            case 13 /* Constant */:\n                return ['Constant', { value: c.getOther(op1) }];\n            case 14 /* PrimitiveReference */:\n                return ['PrimitiveReference', { primitive: op1 }];\n            case 15 /* Dup */:\n                return ['Dup', { register: Register[op1], offset: op2 }];\n            case 16 /* Pop */:\n                return ['Pop', { count: op1 }];\n            case 17 /* Load */:\n                return ['Load', { register: Register[op1] }];\n            case 18 /* Fetch */:\n                return ['Fetch', { register: Register[op1] }];\n            /// PRELUDE & EXIT\n            case 19 /* RootScope */:\n                return ['RootScope', { symbols: op1, bindCallerScope: !!op2 }];\n            case 20 /* ChildScope */:\n                return ['ChildScope', {}];\n            case 21 /* PopScope */:\n                return ['PopScope', {}];\n            case 22 /* Return */:\n                return ['Return', {}];\n            /// HTML\n            case 23 /* Text */:\n                return ['Text', { text: c.getString(op1) }];\n            case 24 /* Comment */:\n                return ['Comment', { comment: c.getString(op1) }];\n            case 25 /* DynamicContent */:\n                return ['DynamicContent', { value: c.getOther(op1) }];\n            case 26 /* OpenElement */:\n                return ['OpenElement', { tag: c.getString(op1) }];\n            case 27 /* OpenElementWithOperations */:\n                return ['OpenElementWithOperations', { tag: c.getString(op1) }];\n            case 28 /* OpenDynamicElement */:\n                return ['OpenDynamicElement', {}];\n            case 29 /* StaticAttr */:\n                return ['StaticAttr', { name: c.getString(op1), value: c.getString(op2), namespace: op3 ? c.getString(op3) : null }];\n            case 30 /* DynamicAttr */:\n                return ['DynamicAttr', { name: c.getString(op1), trusting: !!op2 }];\n            case 31 /* DynamicAttrNS */:\n                return ['DynamicAttrNS', { name: c.getString(op1), ns: c.getString(op2), trusting: !!op2 }];\n            case 32 /* FlushElement */:\n                return ['FlushElement', {}];\n            case 33 /* CloseElement */:\n                return ['CloseElement', {}];\n            /// MODIFIER\n            case 34 /* Modifier */:\n                return ['Modifier', {}];\n            /// WORMHOLE\n            case 35 /* PushRemoteElement */:\n                return ['PushRemoteElement', {}];\n            case 36 /* PopRemoteElement */:\n                return ['PopRemoteElement', {}];\n            /// DYNAMIC SCOPE\n            case 37 /* BindDynamicScope */:\n                return ['BindDynamicScope', {}];\n            case 38 /* PushDynamicScope */:\n                return ['PushDynamicScope', {}];\n            case 39 /* PopDynamicScope */:\n                return ['PopDynamicScope', {}];\n            /// VM\n            case 40 /* CompileDynamicBlock */:\n                return ['CompileDynamicBlock', {}];\n            case 41 /* InvokeStatic */:\n                return ['InvokeStatic', { block: c.getBlock(op1) }];\n            case 42 /* InvokeDynamic */:\n                return ['InvokeDynamic', { invoker: c.getOther(op1) }];\n            case 43 /* Jump */:\n                return ['Jump', { to: op1 }];\n            case 44 /* JumpIf */:\n                return ['JumpIf', { to: op1 }];\n            case 45 /* JumpUnless */:\n                return ['JumpUnless', { to: op1 }];\n            case 46 /* PushFrame */:\n                return ['PushFrame', {}];\n            case 47 /* PopFrame */:\n                return ['PopFrame', {}];\n            case 48 /* Enter */:\n                return ['Enter', { args: op1 }];\n            case 49 /* Exit */:\n                return ['Exit', {}];\n            case 50 /* Test */:\n                return ['ToBoolean', {}];\n            /// LISTS\n            case 51 /* EnterList */:\n                return ['EnterList', { start: op1 }];\n            case 52 /* ExitList */:\n                return ['ExitList', {}];\n            case 53 /* PutIterator */:\n                return ['PutIterator', {}];\n            case 54 /* Iterate */:\n                return ['Iterate', { end: op1 }];\n            /// COMPONENTS\n            case 55 /* PushComponentManager */:\n                return ['PushComponentManager', { definition: c.getOther(op1) }];\n            case 56 /* PushDynamicComponentManager */:\n                return ['PushDynamicComponentManager', {}];\n            case 57 /* InitializeComponentState */:\n                return ['InitializeComponentState', {}];\n            case 58 /* PushArgs */:\n                return ['PushArgs', { positional: op1, synthetic: !!op2 }];\n            case 59 /* PrepareArgs */:\n                return ['PrepareArgs', { state: Register[op1] }];\n            case 60 /* CreateComponent */:\n                return ['CreateComponent', { flags: op1, state: Register[op2] }];\n            case 61 /* RegisterComponentDestructor */:\n                return ['RegisterComponentDestructor', {}];\n            case 62 /* PushComponentOperations */:\n                return ['PushComponentOperations', {}];\n            case 63 /* GetComponentSelf */:\n                return ['GetComponentSelf', { state: Register[op1] }];\n            case 64 /* GetComponentLayout */:\n                return ['GetComponentLayout', { state: Register[op1] }];\n            case 65 /* BeginComponentTransaction */:\n                return ['BeginComponentTransaction', {}];\n            case 66 /* CommitComponentTransaction */:\n                return ['CommitComponentTransaction', {}];\n            case 67 /* DidCreateElement */:\n                return ['DidCreateElement', { state: Register[op1] }];\n            case 68 /* DidRenderLayout */:\n                return ['DidRenderLayout', {}];\n            /// PARTIALS\n            case 69 /* GetPartialTemplate */:\n                return ['CompilePartial', {}];\n            case 70 /* ResolveMaybeLocal */:\n                return ['ResolveMaybeLocal', { name: c.getString(op1) }];\n            /// DEBUGGER\n            case 71 /* Debugger */:\n                return ['Debugger', { symbols: c.getOther(op1), evalInfo: c.getArray(op2) }];\n            /// STATEMENTS\n            case 72 /* Size */:\n                throw unreachable();\n        }\n        throw unreachable();\n    }\n    return ['', {}];\n}\nexport class AppendOpcodes {\n    constructor() {\n        this.evaluateOpcode = fillNulls(72 /* Size */).slice();\n    }\n    add(name, evaluate) {\n        this.evaluateOpcode[name] = evaluate;\n    }\n    evaluate(vm, opcode, type) {\n        let func = this.evaluateOpcode[type];\n        if (!false && false) {\n            let [name, params] = debug(vm.constants, opcode.type, opcode.op1, opcode.op2, opcode.op3);\n            console.log(`${vm['pc'] - 4}. ${logOpcode(name, params)}`);\n            // console.log(...debug(vm.constants, type, opcode.op1, opcode.op2, opcode.op3));\n        }\n        func(vm, opcode);\n        if (!false && false) {\n            console.log('%c -> pc: %d, ra: %d, fp: %d, sp: %d, s0: %O, s1: %O, t0: %O, t1: %O', 'color: orange', vm['pc'], vm['ra'], vm['fp'], vm['sp'], vm['s0'], vm['s1'], vm['t0'], vm['t1']);\n            console.log('%c -> eval stack', 'color: red', vm.stack.toArray());\n            console.log('%c -> scope', 'color: green', vm.scope()['slots'].map(s => s && s['value'] ? s['value']() : s));\n            console.log('%c -> elements', 'color: blue', vm.elements()['elementStack'].toArray());\n        }\n    }\n}\nexport const APPEND_OPCODES = new AppendOpcodes();\nexport class AbstractOpcode {\n    constructor() {\n        initializeGuid(this);\n    }\n    toJSON() {\n        return { guid: this._guid, type: this.type };\n    }\n}\nexport class UpdatingOpcode extends AbstractOpcode {\n    constructor() {\n        super(...arguments);\n        this.next = null;\n        this.prev = null;\n    }\n}\nexport function inspect(opcodes) {\n    let buffer = [];\n    opcodes.forEach((opcode, i) => {\n        _inspect(opcode.toJSON(), buffer, 0, i);\n    });\n    return buffer.join('');\n}\nfunction _inspect(opcode, buffer, level, index) {\n    let indentation = [];\n    for (let i = 0; i < level; i++) {\n        indentation.push('  ');\n    }\n    buffer.push(...indentation);\n    buffer.push(`${index}. ${opcode.type}`);\n    if (opcode.args || opcode.details) {\n        buffer.push('(');\n        if (opcode.args) {\n            buffer.push(opcode.args.join(', '));\n        }\n        if (opcode.details) {\n            let keys = Object.keys(opcode.details);\n            if (keys.length) {\n                if (opcode.args && opcode.args.length) {\n                    buffer.push(', ');\n                }\n                buffer.push(keys.map(key => `${key}=${opcode.details && opcode.details[key]}`).join(', '));\n            }\n        }\n        buffer.push(')');\n    }\n    buffer.push('\\n');\n    if (opcode.children && opcode.children.length) {\n        for (let i = 0; i < opcode.children.length; i++) {\n            _inspect(opcode.children[i], buffer, level + 1, i);\n        }\n    }\n}","export const CONSTANT = 0;\nexport const INITIAL = 1;\nexport const VOLATILE = NaN;\nexport class RevisionTag {\n    validate(snapshot) {\n        return this.value() === snapshot;\n    }\n}\nRevisionTag.id = 0;\nconst VALUE = [];\nconst VALIDATE = [];\nexport class TagWrapper {\n    constructor(type, inner) {\n        this.type = type;\n        this.inner = inner;\n    }\n    value() {\n        let func = VALUE[this.type];\n        return func(this.inner);\n    }\n    validate(snapshot) {\n        let func = VALIDATE[this.type];\n        return func(this.inner, snapshot);\n    }\n}\nfunction register(Type) {\n    let type = VALUE.length;\n    VALUE.push(tag => tag.value());\n    VALIDATE.push((tag, snapshot) => tag.validate(snapshot));\n    Type.id = type;\n}\n///\n// CONSTANT: 0\nVALUE.push(() => CONSTANT);\nVALIDATE.push((_tag, snapshot) => snapshot === CONSTANT);\nexport const CONSTANT_TAG = new TagWrapper(0, null);\n// VOLATILE: 1\nVALUE.push(() => VOLATILE);\nVALIDATE.push((_tag, snapshot) => snapshot === VOLATILE);\nexport const VOLATILE_TAG = new TagWrapper(1, null);\n// CURRENT: 2\nVALUE.push(() => $REVISION);\nVALIDATE.push((_tag, snapshot) => snapshot === $REVISION);\nexport const CURRENT_TAG = new TagWrapper(2, null);\n///\nlet $REVISION = INITIAL;\nexport class DirtyableTag extends RevisionTag {\n    static create(revision = $REVISION) {\n        return new TagWrapper(this.id, new DirtyableTag(revision));\n    }\n    constructor(revision = $REVISION) {\n        super();\n        this.revision = revision;\n    }\n    value() {\n        return this.revision;\n    }\n    dirty() {\n        this.revision = ++$REVISION;\n    }\n}\nregister(DirtyableTag);\nexport function combineTagged(tagged) {\n    let optimized = [];\n    for (let i = 0, l = tagged.length; i < l; i++) {\n        let tag = tagged[i].tag;\n        if (tag === VOLATILE_TAG) return VOLATILE_TAG;\n        if (tag === CONSTANT_TAG) continue;\n        optimized.push(tag);\n    }\n    return _combine(optimized);\n}\nexport function combineSlice(slice) {\n    let optimized = [];\n    let node = slice.head();\n    while (node !== null) {\n        let tag = node.tag;\n        if (tag === VOLATILE_TAG) return VOLATILE_TAG;\n        if (tag !== CONSTANT_TAG) optimized.push(tag);\n        node = slice.nextNode(node);\n    }\n    return _combine(optimized);\n}\nexport function combine(tags) {\n    let optimized = [];\n    for (let i = 0, l = tags.length; i < l; i++) {\n        let tag = tags[i];\n        if (tag === VOLATILE_TAG) return VOLATILE_TAG;\n        if (tag === CONSTANT_TAG) continue;\n        optimized.push(tag);\n    }\n    return _combine(optimized);\n}\nfunction _combine(tags) {\n    switch (tags.length) {\n        case 0:\n            return CONSTANT_TAG;\n        case 1:\n            return tags[0];\n        case 2:\n            return TagsPair.create(tags[0], tags[1]);\n        default:\n            return TagsCombinator.create(tags);\n    }\n    ;\n}\nexport class CachedTag extends RevisionTag {\n    constructor() {\n        super(...arguments);\n        this.lastChecked = null;\n        this.lastValue = null;\n    }\n    value() {\n        let { lastChecked, lastValue } = this;\n        if (lastChecked !== $REVISION) {\n            this.lastChecked = $REVISION;\n            this.lastValue = lastValue = this.compute();\n        }\n        return this.lastValue;\n    }\n    invalidate() {\n        this.lastChecked = null;\n    }\n}\nclass TagsPair extends CachedTag {\n    static create(first, second) {\n        return new TagWrapper(this.id, new TagsPair(first, second));\n    }\n    constructor(first, second) {\n        super();\n        this.first = first;\n        this.second = second;\n    }\n    compute() {\n        return Math.max(this.first.value(), this.second.value());\n    }\n}\nregister(TagsPair);\nclass TagsCombinator extends CachedTag {\n    static create(tags) {\n        return new TagWrapper(this.id, new TagsCombinator(tags));\n    }\n    constructor(tags) {\n        super();\n        this.tags = tags;\n    }\n    compute() {\n        let { tags } = this;\n        let max = -1;\n        for (let i = 0; i < tags.length; i++) {\n            let value = tags[i].value();\n            max = Math.max(value, max);\n        }\n        return max;\n    }\n}\nregister(TagsCombinator);\nexport class UpdatableTag extends CachedTag {\n    static create(tag) {\n        return new TagWrapper(this.id, new UpdatableTag(tag));\n    }\n    constructor(tag) {\n        super();\n        this.tag = tag;\n        this.lastUpdated = INITIAL;\n    }\n    compute() {\n        return Math.max(this.lastUpdated, this.tag.value());\n    }\n    update(tag) {\n        if (tag !== this.tag) {\n            this.tag = tag;\n            this.lastUpdated = $REVISION;\n            this.invalidate();\n        }\n    }\n}\nregister(UpdatableTag);\nexport class CachedReference {\n    constructor() {\n        this.lastRevision = null;\n        this.lastValue = null;\n    }\n    value() {\n        let { tag, lastRevision, lastValue } = this;\n        if (!lastRevision || !tag.validate(lastRevision)) {\n            lastValue = this.lastValue = this.compute();\n            this.lastRevision = tag.value();\n        }\n        return lastValue;\n    }\n    invalidate() {\n        this.lastRevision = null;\n    }\n}\nclass MapperReference extends CachedReference {\n    constructor(reference, mapper) {\n        super();\n        this.tag = reference.tag;\n        this.reference = reference;\n        this.mapper = mapper;\n    }\n    compute() {\n        let { reference, mapper } = this;\n        return mapper(reference.value());\n    }\n}\nexport function map(reference, mapper) {\n    return new MapperReference(reference, mapper);\n}\n//////////\nexport class ReferenceCache {\n    constructor(reference) {\n        this.lastValue = null;\n        this.lastRevision = null;\n        this.initialized = false;\n        this.tag = reference.tag;\n        this.reference = reference;\n    }\n    peek() {\n        if (!this.initialized) {\n            return this.initialize();\n        }\n        return this.lastValue;\n    }\n    revalidate() {\n        if (!this.initialized) {\n            return this.initialize();\n        }\n        let { reference, lastRevision } = this;\n        let tag = reference.tag;\n        if (tag.validate(lastRevision)) return NOT_MODIFIED;\n        this.lastRevision = tag.value();\n        let { lastValue } = this;\n        let value = reference.value();\n        if (value === lastValue) return NOT_MODIFIED;\n        this.lastValue = value;\n        return value;\n    }\n    initialize() {\n        let { reference } = this;\n        let value = this.lastValue = reference.value();\n        this.lastRevision = reference.tag.value();\n        this.initialized = true;\n        return value;\n    }\n}\nconst NOT_MODIFIED = \"adb3b78e-3d22-4e4b-877a-6317c2c5c145\";\nexport function isModified(value) {\n    return value !== NOT_MODIFIED;\n}","import { CONSTANT_TAG } from './validators';\nexport class ConstReference {\n    constructor(inner) {\n        this.inner = inner;\n        this.tag = CONSTANT_TAG;\n    }\n    value() {\n        return this.inner;\n    }\n}\nexport function isConst(reference) {\n    return reference.tag === CONSTANT_TAG;\n}","import { LinkedList, ListNode, dict, expect } from '@glimmer/util';\nexport class ListItem extends ListNode {\n    constructor(iterable, result) {\n        super(iterable.valueReferenceFor(result));\n        this.retained = false;\n        this.seen = false;\n        this.key = result.key;\n        this.iterable = iterable;\n        this.memo = iterable.memoReferenceFor(result);\n    }\n    update(item) {\n        this.retained = true;\n        this.iterable.updateValueReference(this.value, item);\n        this.iterable.updateMemoReference(this.memo, item);\n    }\n    shouldRemove() {\n        return !this.retained;\n    }\n    reset() {\n        this.retained = false;\n        this.seen = false;\n    }\n}\nexport class IterationArtifacts {\n    constructor(iterable) {\n        this.map = dict();\n        this.list = new LinkedList();\n        this.tag = iterable.tag;\n        this.iterable = iterable;\n    }\n    isEmpty() {\n        let iterator = this.iterator = this.iterable.iterate();\n        return iterator.isEmpty();\n    }\n    iterate() {\n        let iterator = this.iterator || this.iterable.iterate();\n        this.iterator = null;\n        return iterator;\n    }\n    has(key) {\n        return !!this.map[key];\n    }\n    get(key) {\n        return this.map[key];\n    }\n    wasSeen(key) {\n        let node = this.map[key];\n        return node && node.seen;\n    }\n    append(item) {\n        let { map, list, iterable } = this;\n        let node = map[item.key] = new ListItem(iterable, item);\n        list.append(node);\n        return node;\n    }\n    insertBefore(item, reference) {\n        let { map, list, iterable } = this;\n        let node = map[item.key] = new ListItem(iterable, item);\n        node.retained = true;\n        list.insertBefore(node, reference);\n        return node;\n    }\n    move(item, reference) {\n        let { list } = this;\n        item.retained = true;\n        list.remove(item);\n        list.insertBefore(item, reference);\n    }\n    remove(item) {\n        let { list } = this;\n        list.remove(item);\n        delete this.map[item.key];\n    }\n    nextNode(item) {\n        return this.list.nextNode(item);\n    }\n    head() {\n        return this.list.head();\n    }\n}\nexport class ReferenceIterator {\n    // if anyone needs to construct this object with something other than\n    // an iterable, let @wycats know.\n    constructor(iterable) {\n        this.iterator = null;\n        let artifacts = new IterationArtifacts(iterable);\n        this.artifacts = artifacts;\n    }\n    next() {\n        let { artifacts } = this;\n        let iterator = this.iterator = this.iterator || artifacts.iterate();\n        let item = iterator.next();\n        if (!item) return null;\n        return artifacts.append(item);\n    }\n}\nvar Phase;\n(function (Phase) {\n    Phase[Phase[\"Append\"] = 0] = \"Append\";\n    Phase[Phase[\"Prune\"] = 1] = \"Prune\";\n    Phase[Phase[\"Done\"] = 2] = \"Done\";\n})(Phase || (Phase = {}));\nexport class IteratorSynchronizer {\n    constructor({ target, artifacts }) {\n        this.target = target;\n        this.artifacts = artifacts;\n        this.iterator = artifacts.iterate();\n        this.current = artifacts.head();\n    }\n    sync() {\n        let phase = Phase.Append;\n        while (true) {\n            switch (phase) {\n                case Phase.Append:\n                    phase = this.nextAppend();\n                    break;\n                case Phase.Prune:\n                    phase = this.nextPrune();\n                    break;\n                case Phase.Done:\n                    this.nextDone();\n                    return;\n            }\n        }\n    }\n    advanceToKey(key) {\n        let { current, artifacts } = this;\n        let seek = current;\n        while (seek && seek.key !== key) {\n            seek.seen = true;\n            seek = artifacts.nextNode(seek);\n        }\n        this.current = seek && artifacts.nextNode(seek);\n    }\n    nextAppend() {\n        let { iterator, current, artifacts } = this;\n        let item = iterator.next();\n        if (item === null) {\n            return this.startPrune();\n        }\n        let { key } = item;\n        if (current && current.key === key) {\n            this.nextRetain(item);\n        } else if (artifacts.has(key)) {\n            this.nextMove(item);\n        } else {\n            this.nextInsert(item);\n        }\n        return Phase.Append;\n    }\n    nextRetain(item) {\n        let { artifacts, current } = this;\n        current = expect(current, 'BUG: current is empty');\n        current.update(item);\n        this.current = artifacts.nextNode(current);\n        this.target.retain(item.key, current.value, current.memo);\n    }\n    nextMove(item) {\n        let { current, artifacts, target } = this;\n        let { key } = item;\n        let found = artifacts.get(item.key);\n        found.update(item);\n        if (artifacts.wasSeen(item.key)) {\n            artifacts.move(found, current);\n            target.move(found.key, found.value, found.memo, current ? current.key : null);\n        } else {\n            this.advanceToKey(key);\n        }\n    }\n    nextInsert(item) {\n        let { artifacts, target, current } = this;\n        let node = artifacts.insertBefore(item, current);\n        target.insert(node.key, node.value, node.memo, current ? current.key : null);\n    }\n    startPrune() {\n        this.current = this.artifacts.head();\n        return Phase.Prune;\n    }\n    nextPrune() {\n        let { artifacts, target, current } = this;\n        if (current === null) {\n            return Phase.Done;\n        }\n        let node = current;\n        this.current = artifacts.nextNode(node);\n        if (node.shouldRemove()) {\n            artifacts.remove(node);\n            target.delete(node.key);\n        } else {\n            node.reset();\n        }\n        return Phase.Prune;\n    }\n    nextDone() {\n        this.target.done();\n    }\n}","import { CachedReference, combineTagged } from '@glimmer/reference';\nexport class ConcatReference extends CachedReference {\n    constructor(parts) {\n        super();\n        this.parts = parts;\n        this.tag = combineTagged(parts);\n    }\n    compute() {\n        let parts = new Array();\n        for (let i = 0; i < this.parts.length; i++) {\n            let value = this.parts[i].value();\n            if (value !== null && value !== undefined) {\n                parts[i] = castToString(value);\n            }\n        }\n        if (parts.length > 0) {\n            return parts.join('');\n        }\n        return null;\n    }\n}\nfunction castToString(value) {\n    if (typeof value['toString'] !== 'function') {\n        return '';\n    }\n    return String(value);\n}","import { ConstReference } from '@glimmer/reference';\nexport class PrimitiveReference extends ConstReference {\n    constructor(value) {\n        super(value);\n    }\n    static create(value) {\n        if (value === undefined) {\n            return UNDEFINED_REFERENCE;\n        } else if (value === null) {\n            return NULL_REFERENCE;\n        } else if (value === true) {\n            return TRUE_REFERENCE;\n        } else if (value === false) {\n            return FALSE_REFERENCE;\n        } else if (typeof value === 'number') {\n            return new ValueReference(value);\n        } else {\n            return new StringReference(value);\n        }\n    }\n    get(_key) {\n        return UNDEFINED_REFERENCE;\n    }\n}\nclass StringReference extends PrimitiveReference {\n    constructor() {\n        super(...arguments);\n        this.lengthReference = null;\n    }\n    get(key) {\n        if (key === 'length') {\n            let { lengthReference } = this;\n            if (lengthReference === null) {\n                lengthReference = this.lengthReference = new ValueReference(this.inner.length);\n            }\n            return lengthReference;\n        } else {\n            return super.get(key);\n        }\n    }\n}\nclass ValueReference extends PrimitiveReference {\n    constructor(value) {\n        super(value);\n    }\n}\nexport const UNDEFINED_REFERENCE = new ValueReference(undefined);\nexport const NULL_REFERENCE = new ValueReference(null);\nexport const TRUE_REFERENCE = new ValueReference(true);\nexport const FALSE_REFERENCE = new ValueReference(false);\nexport class ConditionalReference {\n    constructor(inner) {\n        this.inner = inner;\n        this.tag = inner.tag;\n    }\n    value() {\n        return this.toBool(this.inner.value());\n    }\n    toBool(value) {\n        return !!value;\n    }\n}","import { APPEND_OPCODES } from '../../opcodes';\nimport { ConcatReference } from '../expressions/concat';\nimport { TRUE_REFERENCE, FALSE_REFERENCE } from '../../references';\nAPPEND_OPCODES.add(1 /* Helper */, (vm, { op1: _helper }) => {\n    let stack = vm.stack;\n    let helper = vm.constants.getFunction(_helper);\n    let args = stack.pop();\n    let value = helper(vm, args);\n    args.clear();\n    vm.stack.push(value);\n});\nAPPEND_OPCODES.add(2 /* Function */, (vm, { op1: _function }) => {\n    let func = vm.constants.getFunction(_function);\n    vm.stack.push(func(vm));\n});\nAPPEND_OPCODES.add(5 /* GetVariable */, (vm, { op1: symbol }) => {\n    let expr = vm.referenceForSymbol(symbol);\n    vm.stack.push(expr);\n});\nAPPEND_OPCODES.add(4 /* SetVariable */, (vm, { op1: symbol }) => {\n    let expr = vm.stack.pop();\n    vm.scope().bindSymbol(symbol, expr);\n});\nAPPEND_OPCODES.add(70 /* ResolveMaybeLocal */, (vm, { op1: _name }) => {\n    let name = vm.constants.getString(_name);\n    let locals = vm.scope().getPartialMap();\n    let ref = locals[name];\n    if (ref === undefined) {\n        ref = vm.getSelf().get(name);\n    }\n    vm.stack.push(ref);\n});\nAPPEND_OPCODES.add(19 /* RootScope */, (vm, { op1: symbols, op2: bindCallerScope }) => {\n    vm.pushRootScope(symbols, !!bindCallerScope);\n});\nAPPEND_OPCODES.add(6 /* GetProperty */, (vm, { op1: _key }) => {\n    let key = vm.constants.getString(_key);\n    let expr = vm.stack.pop();\n    vm.stack.push(expr.get(key));\n});\nAPPEND_OPCODES.add(7 /* PushBlock */, (vm, { op1: _block }) => {\n    let block = _block ? vm.constants.getBlock(_block) : null;\n    vm.stack.push(block);\n});\nAPPEND_OPCODES.add(8 /* GetBlock */, (vm, { op1: _block }) => {\n    vm.stack.push(vm.scope().getBlock(_block));\n});\nAPPEND_OPCODES.add(9 /* HasBlock */, (vm, { op1: _block }) => {\n    let hasBlock = !!vm.scope().getBlock(_block);\n    vm.stack.push(hasBlock ? TRUE_REFERENCE : FALSE_REFERENCE);\n});\nAPPEND_OPCODES.add(10 /* HasBlockParams */, (vm, { op1: _block }) => {\n    let block = vm.scope().getBlock(_block);\n    let hasBlockParams = block && block.symbolTable.parameters.length;\n    vm.stack.push(hasBlockParams ? TRUE_REFERENCE : FALSE_REFERENCE);\n});\nAPPEND_OPCODES.add(11 /* Concat */, (vm, { op1: count }) => {\n    let out = [];\n    for (let i = count; i > 0; i--) {\n        out.push(vm.stack.pop());\n    }\n    vm.stack.push(new ConcatReference(out.reverse()));\n});","import { UpdatingOpcode } from '../../opcodes';\nimport { ConstReference } from '@glimmer/reference';\nimport { initializeGuid } from '@glimmer/util';\nimport { CONSTANT_TAG, ReferenceCache, isConst, isModified } from '@glimmer/reference';\nimport { APPEND_OPCODES } from '../../opcodes';\nimport { NULL_REFERENCE, UNDEFINED_REFERENCE, TRUE_REFERENCE, FALSE_REFERENCE, PrimitiveReference } from '../../references';\nAPPEND_OPCODES.add(20 /* ChildScope */, vm => vm.pushChildScope());\nAPPEND_OPCODES.add(21 /* PopScope */, vm => vm.popScope());\nAPPEND_OPCODES.add(38 /* PushDynamicScope */, vm => vm.pushDynamicScope());\nAPPEND_OPCODES.add(39 /* PopDynamicScope */, vm => vm.popDynamicScope());\nAPPEND_OPCODES.add(12 /* Immediate */, (vm, { op1: number }) => {\n    vm.stack.push(number);\n});\nAPPEND_OPCODES.add(13 /* Constant */, (vm, { op1: other }) => {\n    vm.stack.push(vm.constants.getOther(other));\n});\nAPPEND_OPCODES.add(14 /* PrimitiveReference */, (vm, { op1: primitive }) => {\n    let stack = vm.stack;\n    let flag = (primitive & 3 << 30) >>> 30;\n    let value = primitive & ~(3 << 30);\n    switch (flag) {\n        case 0:\n            stack.push(PrimitiveReference.create(value));\n            break;\n        case 1:\n            stack.push(PrimitiveReference.create(vm.constants.getString(value)));\n            break;\n        case 2:\n            switch (value) {\n                case 0:\n                    stack.push(FALSE_REFERENCE);\n                    break;\n                case 1:\n                    stack.push(TRUE_REFERENCE);\n                    break;\n                case 2:\n                    stack.push(NULL_REFERENCE);\n                    break;\n                case 3:\n                    stack.push(UNDEFINED_REFERENCE);\n                    break;\n            }\n            break;\n    }\n});\nAPPEND_OPCODES.add(15 /* Dup */, (vm, { op1: register, op2: offset }) => {\n    let position = vm.fetchValue(register) - offset;\n    vm.stack.dup(position);\n});\nAPPEND_OPCODES.add(16 /* Pop */, (vm, { op1: count }) => vm.stack.pop(count));\nAPPEND_OPCODES.add(17 /* Load */, (vm, { op1: register }) => vm.load(register));\nAPPEND_OPCODES.add(18 /* Fetch */, (vm, { op1: register }) => vm.fetch(register));\nAPPEND_OPCODES.add(37 /* BindDynamicScope */, (vm, { op1: _names }) => {\n    let names = vm.constants.getArray(_names);\n    vm.bindDynamicScope(names);\n});\nAPPEND_OPCODES.add(46 /* PushFrame */, vm => vm.pushFrame());\nAPPEND_OPCODES.add(47 /* PopFrame */, vm => vm.popFrame());\nAPPEND_OPCODES.add(48 /* Enter */, (vm, { op1: args }) => vm.enter(args));\nAPPEND_OPCODES.add(49 /* Exit */, vm => vm.exit());\nAPPEND_OPCODES.add(40 /* CompileDynamicBlock */, vm => {\n    let stack = vm.stack;\n    let block = stack.pop();\n    stack.push(block ? block.compileDynamic(vm.env) : null);\n});\nAPPEND_OPCODES.add(41 /* InvokeStatic */, (vm, { op1: _block }) => {\n    let block = vm.constants.getBlock(_block);\n    let compiled = block.compileStatic(vm.env);\n    vm.call(compiled.start);\n});\nAPPEND_OPCODES.add(42 /* InvokeDynamic */, (vm, { op1: _invoker }) => {\n    let invoker = vm.constants.getOther(_invoker);\n    let block = vm.stack.pop();\n    invoker.invoke(vm, block);\n});\nAPPEND_OPCODES.add(43 /* Jump */, (vm, { op1: target }) => vm.goto(target));\nAPPEND_OPCODES.add(44 /* JumpIf */, (vm, { op1: target }) => {\n    let reference = vm.stack.pop();\n    if (isConst(reference)) {\n        if (reference.value()) {\n            vm.goto(target);\n        }\n    } else {\n        let cache = new ReferenceCache(reference);\n        if (cache.peek()) {\n            vm.goto(target);\n        }\n        vm.updateWith(new Assert(cache));\n    }\n});\nAPPEND_OPCODES.add(45 /* JumpUnless */, (vm, { op1: target }) => {\n    let reference = vm.stack.pop();\n    if (isConst(reference)) {\n        if (!reference.value()) {\n            vm.goto(target);\n        }\n    } else {\n        let cache = new ReferenceCache(reference);\n        if (!cache.peek()) {\n            vm.goto(target);\n        }\n        vm.updateWith(new Assert(cache));\n    }\n});\nAPPEND_OPCODES.add(22 /* Return */, vm => vm.return());\nexport const ConstTest = function (ref, _env) {\n    return new ConstReference(!!ref.value());\n};\nexport const SimpleTest = function (ref, _env) {\n    return ref;\n};\nexport const EnvironmentTest = function (ref, env) {\n    return env.toConditionalReference(ref);\n};\nAPPEND_OPCODES.add(50 /* Test */, (vm, { op1: _func }) => {\n    let stack = vm.stack;\n    let operand = stack.pop();\n    let func = vm.constants.getFunction(_func);\n    stack.push(func(operand, vm.env));\n});\nexport class Assert extends UpdatingOpcode {\n    constructor(cache) {\n        super();\n        this.type = \"assert\";\n        this.tag = cache.tag;\n        this.cache = cache;\n    }\n    evaluate(vm) {\n        let { cache } = this;\n        if (isModified(cache.revalidate())) {\n            vm.throw();\n        }\n    }\n    toJSON() {\n        let { type, _guid, cache } = this;\n        let expected;\n        try {\n            expected = JSON.stringify(cache.peek());\n        } catch (e) {\n            expected = String(cache.peek());\n        }\n        return {\n            guid: _guid,\n            type,\n            args: [],\n            details: { expected }\n        };\n    }\n}\nexport class JumpIfNotModifiedOpcode extends UpdatingOpcode {\n    constructor(tag, target) {\n        super();\n        this.target = target;\n        this.type = \"jump-if-not-modified\";\n        this.tag = tag;\n        this.lastRevision = tag.value();\n    }\n    evaluate(vm) {\n        let { tag, target, lastRevision } = this;\n        if (!vm.alwaysRevalidate && tag.validate(lastRevision)) {\n            vm.goto(target);\n        }\n    }\n    didModify() {\n        this.lastRevision = this.tag.value();\n    }\n    toJSON() {\n        return {\n            guid: this._guid,\n            type: this.type,\n            args: [JSON.stringify(this.target.inspect())]\n        };\n    }\n}\nexport class DidModifyOpcode extends UpdatingOpcode {\n    constructor(target) {\n        super();\n        this.target = target;\n        this.type = \"did-modify\";\n        this.tag = CONSTANT_TAG;\n    }\n    evaluate() {\n        this.target.didModify();\n    }\n}\nexport class LabelOpcode {\n    constructor(label) {\n        this.tag = CONSTANT_TAG;\n        this.type = \"label\";\n        this.label = null;\n        this.prev = null;\n        this.next = null;\n        initializeGuid(this);\n        if (label) this.label = label;\n    }\n    evaluate() {}\n    inspect() {\n        return `${this.label} [${this._guid}]`;\n    }\n    toJSON() {\n        return {\n            guid: this._guid,\n            type: this.type,\n            args: [JSON.stringify(this.inspect())]\n        };\n    }\n}","import { dict, EMPTY_ARRAY } from '@glimmer/util';\nimport { combineTagged } from '@glimmer/reference';\nimport { PrimitiveReference, UNDEFINED_REFERENCE } from '../references';\nexport class Arguments {\n    constructor() {\n        this.stack = null;\n        this.positional = new PositionalArguments();\n        this.named = new NamedArguments();\n    }\n    empty() {\n        this.setup(null, 0, true);\n        return this;\n    }\n    setup(stack, positionalCount, synthetic) {\n        this.stack = stack;\n        let names = stack.fromTop(0);\n        let namedCount = names.length;\n        let start = positionalCount + namedCount + 1;\n        let positional = this.positional;\n        positional.setup(stack, start, positionalCount);\n        let named = this.named;\n        named.setup(stack, namedCount, names, synthetic);\n    }\n    get tag() {\n        return combineTagged([this.positional, this.named]);\n    }\n    get length() {\n        return this.positional.length + this.named.length;\n    }\n    at(pos) {\n        return this.positional.at(pos);\n    }\n    get(name) {\n        return this.named.get(name);\n    }\n    capture() {\n        return {\n            tag: this.tag,\n            length: this.length,\n            positional: this.positional.capture(),\n            named: this.named.capture()\n        };\n    }\n    clear() {\n        let { stack, length } = this;\n        let pops = length + 1;\n        while (--pops >= 0) {\n            stack.pop();\n        }\n    }\n}\nclass PositionalArguments {\n    constructor() {\n        this.length = 0;\n        this.stack = null;\n        this.start = 0;\n        this._tag = null;\n        this._references = null;\n    }\n    setup(stack, start, length) {\n        this.stack = stack;\n        this.start = start;\n        this.length = length;\n        this._tag = null;\n        this._references = null;\n    }\n    get tag() {\n        let tag = this._tag;\n        if (!tag) {\n            tag = this._tag = combineTagged(this.references);\n        }\n        return tag;\n    }\n    at(position) {\n        let { start, length } = this;\n        if (position < 0 || position >= length) {\n            return UNDEFINED_REFERENCE;\n        }\n        // stack: pos1, pos2, pos3, named1, named2\n        // start: 4 (top - 4)\n        //\n        // at(0) === pos1 === top - start\n        // at(1) === pos2 === top - (start - 1)\n        // at(2) === pos3 === top - (start - 2)\n        let fromTop = start - position - 1;\n        return this.stack.fromTop(fromTop);\n    }\n    capture() {\n        return new CapturedPositionalArguments(this.tag, this.references);\n    }\n    get references() {\n        let references = this._references;\n        if (!references) {\n            let { length } = this;\n            references = this._references = new Array(length);\n            for (let i = 0; i < length; i++) {\n                references[i] = this.at(i);\n            }\n        }\n        return references;\n    }\n}\nclass CapturedPositionalArguments {\n    constructor(tag, references, length = references.length) {\n        this.tag = tag;\n        this.references = references;\n        this.length = length;\n    }\n    at(position) {\n        return this.references[position];\n    }\n    value() {\n        return this.references.map(this.valueOf);\n    }\n    get(name) {\n        let { references, length } = this;\n        if (name === 'length') {\n            return PrimitiveReference.create(length);\n        } else {\n            let idx = parseInt(name, 10);\n            if (idx < 0 || idx >= length) {\n                return UNDEFINED_REFERENCE;\n            } else {\n                return references[idx];\n            }\n        }\n    }\n    valueOf(reference) {\n        return reference.value();\n    }\n}\nclass NamedArguments {\n    constructor() {\n        this.length = 0;\n        this._tag = null;\n        this._references = null;\n        this._names = null;\n        this._realNames = EMPTY_ARRAY;\n    }\n    setup(stack, length, names, synthetic) {\n        this.stack = stack;\n        this.length = length;\n        this._tag = null;\n        this._references = null;\n        if (synthetic) {\n            this._names = names;\n            this._realNames = EMPTY_ARRAY;\n        } else {\n            this._names = null;\n            this._realNames = names;\n        }\n    }\n    get tag() {\n        return combineTagged(this.references);\n    }\n    get names() {\n        let names = this._names;\n        if (!names) {\n            names = this._names = this._realNames.map(this.sliceName);\n        }\n        return names;\n    }\n    has(name) {\n        return this.names.indexOf(name) !== -1;\n    }\n    get(name) {\n        let { names, length } = this;\n        let idx = names.indexOf(name);\n        if (idx === -1) {\n            return UNDEFINED_REFERENCE;\n        }\n        // stack: pos1, pos2, pos3, named1, named2\n        // start: 4 (top - 4)\n        // namedDict: { named1: 1, named2: 0 };\n        //\n        // get('named1') === named1 === top - (start - 1)\n        // get('named2') === named2 === top - start\n        let fromTop = length - idx;\n        return this.stack.fromTop(fromTop);\n    }\n    capture() {\n        return new CapturedNamedArguments(this.tag, this.names, this.references);\n    }\n    get references() {\n        let references = this._references;\n        if (!references) {\n            let { names, length } = this;\n            references = this._references = [];\n            for (let i = 0; i < length; i++) {\n                references[i] = this.get(names[i]);\n            }\n        }\n        return references;\n    }\n    sliceName(name) {\n        return name.slice(1);\n    }\n}\nclass CapturedNamedArguments {\n    constructor(tag, names, references) {\n        this.tag = tag;\n        this.names = names;\n        this.references = references;\n        this.length = names.length;\n        this._map = null;\n    }\n    get map() {\n        let map = this._map;\n        if (!map) {\n            let { names, references } = this;\n            map = this._map = dict();\n            names.forEach((name, i) => map[name] = references[i]);\n        }\n        return map;\n    }\n    has(name) {\n        return this.names.indexOf(name) !== -1;\n    }\n    get(name) {\n        let { names, references } = this;\n        let idx = names.indexOf(name);\n        if (idx === -1) {\n            return UNDEFINED_REFERENCE;\n        } else {\n            return references[idx];\n        }\n    }\n    value() {\n        let { names, references } = this;\n        let out = dict();\n        names.forEach((name, i) => out[name] = references[i].value());\n        return out;\n    }\n}\nexport default new Arguments();","import { UpdatingOpcode } from '../../opcodes';\nimport { unwrap, expect } from '@glimmer/util';\nimport { CachedReference, ReferenceCache, combineTagged, isConst as isConstReference, isModified } from '@glimmer/reference';\nimport { NULL_REFERENCE, PrimitiveReference } from '../../references';\nimport { Assert } from './vm';\nimport { APPEND_OPCODES } from '../../opcodes';\nAPPEND_OPCODES.add(23 /* Text */, (vm, { op1: text }) => {\n    vm.elements().appendText(vm.constants.getString(text));\n});\nAPPEND_OPCODES.add(24 /* Comment */, (vm, { op1: text }) => {\n    vm.elements().appendComment(vm.constants.getString(text));\n});\nAPPEND_OPCODES.add(26 /* OpenElement */, (vm, { op1: tag }) => {\n    vm.elements().openElement(vm.constants.getString(tag));\n});\nAPPEND_OPCODES.add(27 /* OpenElementWithOperations */, (vm, { op1: tag }) => {\n    let tagName = vm.constants.getString(tag);\n    let operations = vm.stack.pop();\n    vm.elements().openElement(tagName, operations);\n});\nAPPEND_OPCODES.add(28 /* OpenDynamicElement */, vm => {\n    let operations = vm.stack.pop();\n    let tagName = vm.stack.pop().value();\n    vm.elements().openElement(tagName, operations);\n});\nAPPEND_OPCODES.add(35 /* PushRemoteElement */, vm => {\n    let elementRef = vm.stack.pop();\n    let nextSiblingRef = vm.stack.pop();\n    let element;\n    let nextSibling;\n    if (isConstReference(elementRef)) {\n        element = elementRef.value();\n    } else {\n        let cache = new ReferenceCache(elementRef);\n        element = cache.peek();\n        vm.updateWith(new Assert(cache));\n    }\n    if (isConstReference(nextSiblingRef)) {\n        nextSibling = nextSiblingRef.value();\n    } else {\n        let cache = new ReferenceCache(nextSiblingRef);\n        nextSibling = cache.peek();\n        vm.updateWith(new Assert(cache));\n    }\n    vm.elements().pushRemoteElement(element, nextSibling);\n});\nAPPEND_OPCODES.add(36 /* PopRemoteElement */, vm => vm.elements().popRemoteElement());\nclass ClassList {\n    constructor() {\n        this.list = null;\n        this.isConst = true;\n    }\n    append(reference) {\n        let { list, isConst } = this;\n        if (list === null) list = this.list = [];\n        list.push(reference);\n        this.isConst = isConst && isConstReference(reference);\n    }\n    toReference() {\n        let { list, isConst } = this;\n        if (!list) return NULL_REFERENCE;\n        if (isConst) return PrimitiveReference.create(toClassName(list));\n        return new ClassListReference(list);\n    }\n}\nclass ClassListReference extends CachedReference {\n    constructor(list) {\n        super();\n        this.list = [];\n        this.tag = combineTagged(list);\n        this.list = list;\n    }\n    compute() {\n        return toClassName(this.list);\n    }\n}\nfunction toClassName(list) {\n    let ret = [];\n    for (let i = 0; i < list.length; i++) {\n        let value = list[i].value();\n        if (value !== false && value !== null && value !== undefined) ret.push(value);\n    }\n    return ret.length === 0 ? null : ret.join(' ');\n}\nexport class SimpleElementOperations {\n    constructor(env) {\n        this.env = env;\n        this.opcodes = null;\n        this.classList = null;\n    }\n    addStaticAttribute(element, name, value) {\n        if (name === 'class') {\n            this.addClass(PrimitiveReference.create(value));\n        } else {\n            this.env.getAppendOperations().setAttribute(element, name, value);\n        }\n    }\n    addStaticAttributeNS(element, namespace, name, value) {\n        this.env.getAppendOperations().setAttribute(element, name, value, namespace);\n    }\n    addDynamicAttribute(element, name, reference, isTrusting) {\n        if (name === 'class') {\n            this.addClass(reference);\n        } else {\n            let attributeManager = this.env.attributeFor(element, name, isTrusting);\n            let attribute = new DynamicAttribute(element, attributeManager, name, reference);\n            this.addAttribute(attribute);\n        }\n    }\n    addDynamicAttributeNS(element, namespace, name, reference, isTrusting) {\n        let attributeManager = this.env.attributeFor(element, name, isTrusting, namespace);\n        let nsAttribute = new DynamicAttribute(element, attributeManager, name, reference, namespace);\n        this.addAttribute(nsAttribute);\n    }\n    flush(element, vm) {\n        let { env } = vm;\n        let { opcodes, classList } = this;\n        for (let i = 0; opcodes && i < opcodes.length; i++) {\n            vm.updateWith(opcodes[i]);\n        }\n        if (classList) {\n            let attributeManager = env.attributeFor(element, 'class', false);\n            let attribute = new DynamicAttribute(element, attributeManager, 'class', classList.toReference());\n            let opcode = attribute.flush(env);\n            if (opcode) {\n                vm.updateWith(opcode);\n            }\n        }\n        this.opcodes = null;\n        this.classList = null;\n    }\n    addClass(reference) {\n        let { classList } = this;\n        if (!classList) {\n            classList = this.classList = new ClassList();\n        }\n        classList.append(reference);\n    }\n    addAttribute(attribute) {\n        let opcode = attribute.flush(this.env);\n        if (opcode) {\n            let { opcodes } = this;\n            if (!opcodes) {\n                opcodes = this.opcodes = [];\n            }\n            opcodes.push(opcode);\n        }\n    }\n}\nexport class ComponentElementOperations {\n    constructor(env) {\n        this.env = env;\n        this.attributeNames = null;\n        this.attributes = null;\n        this.classList = null;\n    }\n    addStaticAttribute(element, name, value) {\n        if (name === 'class') {\n            this.addClass(PrimitiveReference.create(value));\n        } else if (this.shouldAddAttribute(name)) {\n            this.addAttribute(name, new StaticAttribute(element, name, value));\n        }\n    }\n    addStaticAttributeNS(element, namespace, name, value) {\n        if (this.shouldAddAttribute(name)) {\n            this.addAttribute(name, new StaticAttribute(element, name, value, namespace));\n        }\n    }\n    addDynamicAttribute(element, name, reference, isTrusting) {\n        if (name === 'class') {\n            this.addClass(reference);\n        } else if (this.shouldAddAttribute(name)) {\n            let attributeManager = this.env.attributeFor(element, name, isTrusting);\n            let attribute = new DynamicAttribute(element, attributeManager, name, reference);\n            this.addAttribute(name, attribute);\n        }\n    }\n    addDynamicAttributeNS(element, namespace, name, reference, isTrusting) {\n        if (this.shouldAddAttribute(name)) {\n            let attributeManager = this.env.attributeFor(element, name, isTrusting, namespace);\n            let nsAttribute = new DynamicAttribute(element, attributeManager, name, reference, namespace);\n            this.addAttribute(name, nsAttribute);\n        }\n    }\n    flush(element, vm) {\n        let { env } = this;\n        let { attributes, classList } = this;\n        for (let i = 0; attributes && i < attributes.length; i++) {\n            let opcode = attributes[i].flush(env);\n            if (opcode) {\n                vm.updateWith(opcode);\n            }\n        }\n        if (classList) {\n            let attributeManager = env.attributeFor(element, 'class', false);\n            let attribute = new DynamicAttribute(element, attributeManager, 'class', classList.toReference());\n            let opcode = attribute.flush(env);\n            if (opcode) {\n                vm.updateWith(opcode);\n            }\n        }\n    }\n    shouldAddAttribute(name) {\n        return !this.attributeNames || this.attributeNames.indexOf(name) === -1;\n    }\n    addClass(reference) {\n        let { classList } = this;\n        if (!classList) {\n            classList = this.classList = new ClassList();\n        }\n        classList.append(reference);\n    }\n    addAttribute(name, attribute) {\n        let { attributeNames, attributes } = this;\n        if (!attributeNames) {\n            attributeNames = this.attributeNames = [];\n            attributes = this.attributes = [];\n        }\n        attributeNames.push(name);\n        unwrap(attributes).push(attribute);\n    }\n}\nAPPEND_OPCODES.add(32 /* FlushElement */, vm => {\n    let stack = vm.elements();\n    let action = 'FlushElementOpcode#evaluate';\n    stack.expectOperations(action).flush(stack.expectConstructing(action), vm);\n    stack.flushElement();\n});\nAPPEND_OPCODES.add(33 /* CloseElement */, vm => vm.elements().closeElement());\nAPPEND_OPCODES.add(29 /* StaticAttr */, (vm, { op1: _name, op2: _value, op3: _namespace }) => {\n    let name = vm.constants.getString(_name);\n    let value = vm.constants.getString(_value);\n    if (_namespace) {\n        let namespace = vm.constants.getString(_namespace);\n        vm.elements().setStaticAttributeNS(namespace, name, value);\n    } else {\n        vm.elements().setStaticAttribute(name, value);\n    }\n});\nAPPEND_OPCODES.add(34 /* Modifier */, (vm, { op1: _manager }) => {\n    let manager = vm.constants.getOther(_manager);\n    let stack = vm.stack;\n    let args = stack.pop();\n    let tag = args.tag;\n    let { constructing: element, updateOperations } = vm.elements();\n    let dynamicScope = vm.dynamicScope();\n    let modifier = manager.create(element, args, dynamicScope, updateOperations);\n    args.clear();\n    vm.env.scheduleInstallModifier(modifier, manager);\n    let destructor = manager.getDestructor(modifier);\n    if (destructor) {\n        vm.newDestroyable(destructor);\n    }\n    vm.updateWith(new UpdateModifierOpcode(tag, manager, modifier));\n});\nexport class UpdateModifierOpcode extends UpdatingOpcode {\n    constructor(tag, manager, modifier) {\n        super();\n        this.tag = tag;\n        this.manager = manager;\n        this.modifier = modifier;\n        this.type = \"update-modifier\";\n        this.lastUpdated = tag.value();\n    }\n    evaluate(vm) {\n        let { manager, modifier, tag, lastUpdated } = this;\n        if (!tag.validate(lastUpdated)) {\n            vm.env.scheduleUpdateModifier(modifier, manager);\n            this.lastUpdated = tag.value();\n        }\n    }\n    toJSON() {\n        return {\n            guid: this._guid,\n            type: this.type\n        };\n    }\n}\nexport class StaticAttribute {\n    constructor(element, name, value, namespace) {\n        this.element = element;\n        this.name = name;\n        this.value = value;\n        this.namespace = namespace;\n    }\n    flush(env) {\n        env.getAppendOperations().setAttribute(this.element, this.name, this.value, this.namespace);\n        return null;\n    }\n}\nexport class DynamicAttribute {\n    constructor(element, attributeManager, name, reference, namespace) {\n        this.element = element;\n        this.attributeManager = attributeManager;\n        this.name = name;\n        this.reference = reference;\n        this.namespace = namespace;\n        this.cache = null;\n        this.tag = reference.tag;\n    }\n    patch(env) {\n        let { element, cache } = this;\n        let value = expect(cache, 'must patch after flush').revalidate();\n        if (isModified(value)) {\n            this.attributeManager.updateAttribute(env, element, value, this.namespace);\n        }\n    }\n    flush(env) {\n        let { reference, element } = this;\n        if (isConstReference(reference)) {\n            let value = reference.value();\n            this.attributeManager.setAttribute(env, element, value, this.namespace);\n            return null;\n        } else {\n            let cache = this.cache = new ReferenceCache(reference);\n            let value = cache.peek();\n            this.attributeManager.setAttribute(env, element, value, this.namespace);\n            return new PatchElementOpcode(this);\n        }\n    }\n    toJSON() {\n        let { element, namespace, name, cache } = this;\n        let formattedElement = formatElement(element);\n        let lastValue = expect(cache, 'must serialize after flush').peek();\n        if (namespace) {\n            return {\n                element: formattedElement,\n                type: 'attribute',\n                namespace,\n                name,\n                lastValue\n            };\n        }\n        return {\n            element: formattedElement,\n            type: 'attribute',\n            namespace: namespace === undefined ? null : namespace,\n            name,\n            lastValue\n        };\n    }\n}\nfunction formatElement(element) {\n    return JSON.stringify(`<${element.tagName.toLowerCase()} />`);\n}\nAPPEND_OPCODES.add(31 /* DynamicAttrNS */, (vm, { op1: _name, op2: _namespace, op3: trusting }) => {\n    let name = vm.constants.getString(_name);\n    let namespace = vm.constants.getString(_namespace);\n    let reference = vm.stack.pop();\n    vm.elements().setDynamicAttributeNS(namespace, name, reference, !!trusting);\n});\nAPPEND_OPCODES.add(30 /* DynamicAttr */, (vm, { op1: _name, op2: trusting }) => {\n    let name = vm.constants.getString(_name);\n    let reference = vm.stack.pop();\n    vm.elements().setDynamicAttribute(name, reference, !!trusting);\n});\nexport class PatchElementOpcode extends UpdatingOpcode {\n    constructor(operation) {\n        super();\n        this.type = \"patch-element\";\n        this.tag = operation.tag;\n        this.operation = operation;\n    }\n    evaluate(vm) {\n        this.operation.patch(vm.env);\n    }\n    toJSON() {\n        let { _guid, type, operation } = this;\n        return {\n            guid: _guid,\n            type,\n            details: operation.toJSON()\n        };\n    }\n}","import { APPEND_OPCODES, UpdatingOpcode } from '../../opcodes';\nimport { Assert } from './vm';\nimport ARGS from '../../vm/arguments';\nimport { ComponentElementOperations } from './dom';\nimport { CONSTANT_TAG, ReferenceCache, combine, isConst } from '@glimmer/reference';\nAPPEND_OPCODES.add(55 /* PushComponentManager */, (vm, { op1: _definition }) => {\n    let definition = vm.constants.getOther(_definition);\n    let stack = vm.stack;\n    stack.push(definition);\n    stack.push(definition.manager);\n});\nAPPEND_OPCODES.add(56 /* PushDynamicComponentManager */, vm => {\n    let stack = vm.stack;\n    let reference = stack.pop();\n    let cache = isConst(reference) ? undefined : new ReferenceCache(reference);\n    let definition = cache ? cache.peek() : reference.value();\n    stack.push(definition);\n    stack.push(definition.manager);\n    if (cache) {\n        vm.updateWith(new Assert(cache));\n    }\n});\nAPPEND_OPCODES.add(57 /* InitializeComponentState */, vm => {\n    let stack = vm.stack;\n    let manager = stack.pop();\n    let definition = stack.pop();\n    stack.push({ definition, manager, component: null });\n});\nAPPEND_OPCODES.add(58 /* PushArgs */, (vm, { op1: positional, op2: synthetic }) => {\n    let stack = vm.stack;\n    ARGS.setup(stack, positional, !!synthetic);\n    stack.push(ARGS);\n});\nAPPEND_OPCODES.add(59 /* PrepareArgs */, (vm, { op1: _state }) => {\n    let stack = vm.stack;\n    let { definition, manager } = vm.fetchValue(_state);\n    let args = stack.pop();\n    let preparedArgs = manager.prepareArgs(definition, args);\n    if (preparedArgs) {\n        args.clear();\n        let { positional, named } = preparedArgs;\n        let positionalCount = positional.length;\n        for (let i = 0; i < positionalCount; i++) {\n            stack.push(positional[i]);\n        }\n        let names = Object.keys(named);\n        let namedCount = names.length;\n        for (let i = 0; i < namedCount; i++) {\n            stack.push(named[names[i]]);\n        }\n        stack.push(names);\n        args.setup(stack, positionalCount, true);\n    }\n    stack.push(args);\n});\nAPPEND_OPCODES.add(60 /* CreateComponent */, (vm, { op1: flags, op2: _state }) => {\n    let definition, manager;\n    let args = vm.stack.pop();\n    let dynamicScope = vm.dynamicScope();\n    let state = ({ definition, manager } = vm.fetchValue(_state));\n    let hasDefaultBlock = flags & 0b01;\n    let component = manager.create(vm.env, definition, args, dynamicScope, vm.getSelf(), !!hasDefaultBlock);\n    state.component = component;\n    vm.updateWith(new UpdateComponentOpcode(args.tag, definition.name, component, manager, dynamicScope));\n});\nAPPEND_OPCODES.add(61 /* RegisterComponentDestructor */, (vm, { op1: _state }) => {\n    let { manager, component } = vm.fetchValue(_state);\n    let destructor = manager.getDestructor(component);\n    if (destructor) vm.newDestroyable(destructor);\n});\nAPPEND_OPCODES.add(65 /* BeginComponentTransaction */, vm => {\n    vm.beginCacheGroup();\n    vm.elements().pushSimpleBlock();\n});\nAPPEND_OPCODES.add(62 /* PushComponentOperations */, vm => {\n    vm.stack.push(new ComponentElementOperations(vm.env));\n});\nAPPEND_OPCODES.add(67 /* DidCreateElement */, (vm, { op1: _state }) => {\n    let { manager, component } = vm.fetchValue(_state);\n    let action = 'DidCreateElementOpcode#evaluate';\n    manager.didCreateElement(component, vm.elements().expectConstructing(action), vm.elements().expectOperations(action));\n});\nAPPEND_OPCODES.add(63 /* GetComponentSelf */, (vm, { op1: _state }) => {\n    let state = vm.fetchValue(_state);\n    vm.stack.push(state.manager.getSelf(state.component));\n});\nAPPEND_OPCODES.add(64 /* GetComponentLayout */, (vm, { op1: _state }) => {\n    let { manager, definition, component } = vm.fetchValue(_state);\n    vm.stack.push(manager.layoutFor(definition, component, vm.env));\n});\nAPPEND_OPCODES.add(68 /* DidRenderLayout */, (vm, { op1: _state }) => {\n    let { manager, component } = vm.fetchValue(_state);\n    let bounds = vm.elements().popBlock();\n    manager.didRenderLayout(component, bounds);\n    vm.env.didCreate(component, manager);\n    vm.updateWith(new DidUpdateLayoutOpcode(manager, component, bounds));\n});\nAPPEND_OPCODES.add(66 /* CommitComponentTransaction */, vm => vm.commitCacheGroup());\nexport class UpdateComponentOpcode extends UpdatingOpcode {\n    constructor(tag, name, component, manager, dynamicScope) {\n        super();\n        this.name = name;\n        this.component = component;\n        this.manager = manager;\n        this.dynamicScope = dynamicScope;\n        this.type = \"update-component\";\n        let componentTag = manager.getTag(component);\n        if (componentTag) {\n            this.tag = combine([tag, componentTag]);\n        } else {\n            this.tag = tag;\n        }\n    }\n    evaluate(_vm) {\n        let { component, manager, dynamicScope } = this;\n        manager.update(component, dynamicScope);\n    }\n    toJSON() {\n        return {\n            guid: this._guid,\n            type: this.type,\n            args: [JSON.stringify(this.name)]\n        };\n    }\n}\nexport class DidUpdateLayoutOpcode extends UpdatingOpcode {\n    constructor(manager, component, bounds) {\n        super();\n        this.manager = manager;\n        this.component = component;\n        this.bounds = bounds;\n        this.type = \"did-update-layout\";\n        this.tag = CONSTANT_TAG;\n    }\n    evaluate(vm) {\n        let { manager, component, bounds } = this;\n        manager.didUpdateLayout(component, bounds);\n        vm.env.didUpdate(component, manager);\n    }\n}","export class Cursor {\n    constructor(element, nextSibling) {\n        this.element = element;\n        this.nextSibling = nextSibling;\n    }\n}\nexport class RealDOMBounds {\n    constructor(bounds) {\n        this.bounds = bounds;\n    }\n    parentElement() {\n        return this.bounds.parentElement();\n    }\n    firstNode() {\n        return this.bounds.firstNode();\n    }\n    lastNode() {\n        return this.bounds.lastNode();\n    }\n}\nexport class ConcreteBounds {\n    constructor(parentNode, first, last) {\n        this.parentNode = parentNode;\n        this.first = first;\n        this.last = last;\n    }\n    parentElement() {\n        return this.parentNode;\n    }\n    firstNode() {\n        return this.first;\n    }\n    lastNode() {\n        return this.last;\n    }\n}\nexport class SingleNodeBounds {\n    constructor(parentNode, node) {\n        this.parentNode = parentNode;\n        this.node = node;\n    }\n    parentElement() {\n        return this.parentNode;\n    }\n    firstNode() {\n        return this.node;\n    }\n    lastNode() {\n        return this.node;\n    }\n}\nexport function bounds(parent, first, last) {\n    return new ConcreteBounds(parent, first, last);\n}\nexport function single(parent, node) {\n    return new SingleNodeBounds(parent, node);\n}\nexport function move(bounds, reference) {\n    let parent = bounds.parentElement();\n    let first = bounds.firstNode();\n    let last = bounds.lastNode();\n    let node = first;\n    while (node) {\n        let next = node.nextSibling;\n        parent.insertBefore(node, reference);\n        if (node === last) return next;\n        node = next;\n    }\n    return null;\n}\nexport function clear(bounds) {\n    let parent = bounds.parentElement();\n    let first = bounds.firstNode();\n    let last = bounds.lastNode();\n    let node = first;\n    while (node) {\n        let next = node.nextSibling;\n        parent.removeChild(node);\n        if (node === last) return next;\n        node = next;\n    }\n    return null;\n}","import { unreachable } from '@glimmer/util';\nimport { SingleNodeBounds, single, clear } from './bounds';\nexport function isSafeString(value) {\n    return !!value && typeof value['toHTML'] === 'function';\n}\nexport function isNode(value) {\n    return value !== null && typeof value === 'object' && typeof value['nodeType'] === 'number';\n}\nexport function isString(value) {\n    return typeof value === 'string';\n}\nclass Upsert {\n    constructor(bounds) {\n        this.bounds = bounds;\n    }\n}\nexport default Upsert;\nexport function cautiousInsert(dom, cursor, value) {\n    if (isString(value)) {\n        return TextUpsert.insert(dom, cursor, value);\n    }\n    if (isSafeString(value)) {\n        return SafeStringUpsert.insert(dom, cursor, value);\n    }\n    if (isNode(value)) {\n        return NodeUpsert.insert(dom, cursor, value);\n    }\n    throw unreachable();\n}\nexport function trustingInsert(dom, cursor, value) {\n    if (isString(value)) {\n        return HTMLUpsert.insert(dom, cursor, value);\n    }\n    if (isNode(value)) {\n        return NodeUpsert.insert(dom, cursor, value);\n    }\n    throw unreachable();\n}\nclass TextUpsert extends Upsert {\n    static insert(dom, cursor, value) {\n        let textNode = dom.createTextNode(value);\n        dom.insertBefore(cursor.element, textNode, cursor.nextSibling);\n        let bounds = new SingleNodeBounds(cursor.element, textNode);\n        return new TextUpsert(bounds, textNode);\n    }\n    constructor(bounds, textNode) {\n        super(bounds);\n        this.textNode = textNode;\n    }\n    update(_dom, value) {\n        if (isString(value)) {\n            let { textNode } = this;\n            textNode.nodeValue = value;\n            return true;\n        } else {\n            return false;\n        }\n    }\n}\nclass HTMLUpsert extends Upsert {\n    static insert(dom, cursor, value) {\n        let bounds = dom.insertHTMLBefore(cursor.element, value, cursor.nextSibling);\n        return new HTMLUpsert(bounds);\n    }\n    update(dom, value) {\n        if (isString(value)) {\n            let { bounds } = this;\n            let parentElement = bounds.parentElement();\n            let nextSibling = clear(bounds);\n            this.bounds = dom.insertHTMLBefore(parentElement, nextSibling, value);\n            return true;\n        } else {\n            return false;\n        }\n    }\n}\nclass SafeStringUpsert extends Upsert {\n    constructor(bounds, lastStringValue) {\n        super(bounds);\n        this.lastStringValue = lastStringValue;\n    }\n    static insert(dom, cursor, value) {\n        let stringValue = value.toHTML();\n        let bounds = dom.insertHTMLBefore(cursor.element, stringValue, cursor.nextSibling);\n        return new SafeStringUpsert(bounds, stringValue);\n    }\n    update(dom, value) {\n        if (isSafeString(value)) {\n            let stringValue = value.toHTML();\n            if (stringValue !== this.lastStringValue) {\n                let { bounds } = this;\n                let parentElement = bounds.parentElement();\n                let nextSibling = clear(bounds);\n                this.bounds = dom.insertHTMLBefore(parentElement, nextSibling, stringValue);\n                this.lastStringValue = stringValue;\n            }\n            return true;\n        } else {\n            return false;\n        }\n    }\n}\nclass NodeUpsert extends Upsert {\n    static insert(dom, cursor, node) {\n        dom.insertBefore(cursor.element, node, cursor.nextSibling);\n        return new NodeUpsert(single(cursor.element, node));\n    }\n    update(dom, value) {\n        if (isNode(value)) {\n            let { bounds } = this;\n            let parentElement = bounds.parentElement();\n            let nextSibling = clear(bounds);\n            this.bounds = dom.insertNodeBefore(parentElement, value, nextSibling);\n            return true;\n        } else {\n            return false;\n        }\n    }\n}","const COMPONENT_DEFINITION_BRAND = 'COMPONENT DEFINITION [id=e59c754e-61eb-4392-8c4a-2c0ac72bfcd4]';\nexport function isComponentDefinition(obj) {\n    return typeof obj === 'object' && obj !== null && obj[COMPONENT_DEFINITION_BRAND];\n}\nexport class ComponentDefinition {\n    constructor(name, manager, ComponentClass) {\n        this[COMPONENT_DEFINITION_BRAND] = true;\n        this.name = name;\n        this.manager = manager;\n        this.ComponentClass = ComponentClass;\n    }\n}","import { clear } from './bounds';\nimport { Stack, assert, expect } from '@glimmer/util';\nimport { SimpleElementOperations } from './compiled/opcodes/dom';\nclass First {\n    constructor(node) {\n        this.node = node;\n    }\n    firstNode() {\n        return this.node;\n    }\n}\nclass Last {\n    constructor(node) {\n        this.node = node;\n    }\n    lastNode() {\n        return this.node;\n    }\n}\nexport class Fragment {\n    constructor(bounds) {\n        this.bounds = bounds;\n    }\n    parentElement() {\n        return this.bounds.parentElement();\n    }\n    firstNode() {\n        return this.bounds.firstNode();\n    }\n    lastNode() {\n        return this.bounds.lastNode();\n    }\n    update(bounds) {\n        this.bounds = bounds;\n    }\n}\nexport class ElementStack {\n    constructor(env, parentNode, nextSibling) {\n        this.constructing = null;\n        this.operations = null;\n        this.elementStack = new Stack();\n        this.nextSiblingStack = new Stack();\n        this.blockStack = new Stack();\n        this.env = env;\n        this.dom = env.getAppendOperations();\n        this.updateOperations = env.getDOM();\n        this.element = parentNode;\n        this.nextSibling = nextSibling;\n        this.defaultOperations = new SimpleElementOperations(env);\n        this.pushSimpleBlock();\n        this.elementStack.push(this.element);\n        this.nextSiblingStack.push(this.nextSibling);\n    }\n    static forInitialRender(env, parentNode, nextSibling) {\n        return new ElementStack(env, parentNode, nextSibling);\n    }\n    static resume(env, tracker, nextSibling) {\n        let parentNode = tracker.parentElement();\n        let stack = new ElementStack(env, parentNode, nextSibling);\n        stack.pushBlockTracker(tracker);\n        return stack;\n    }\n    expectConstructing(method) {\n        return expect(this.constructing, `${method} should only be called while constructing an element`);\n    }\n    expectOperations(method) {\n        return expect(this.operations, `${method} should only be called while constructing an element`);\n    }\n    block() {\n        return expect(this.blockStack.current, \"Expected a current block tracker\");\n    }\n    popElement() {\n        let { elementStack, nextSiblingStack } = this;\n        let topElement = elementStack.pop();\n        nextSiblingStack.pop();\n        // LOGGER.debug(`-> element stack ${this.elementStack.toArray().map(e => e.tagName).join(', ')}`);\n        this.element = expect(elementStack.current, \"can't pop past the last element\");\n        this.nextSibling = nextSiblingStack.current;\n        return topElement;\n    }\n    pushSimpleBlock() {\n        let tracker = new SimpleBlockTracker(this.element);\n        this.pushBlockTracker(tracker);\n        return tracker;\n    }\n    pushUpdatableBlock() {\n        let tracker = new UpdatableBlockTracker(this.element);\n        this.pushBlockTracker(tracker);\n        return tracker;\n    }\n    pushBlockTracker(tracker, isRemote = false) {\n        let current = this.blockStack.current;\n        if (current !== null) {\n            current.newDestroyable(tracker);\n            if (!isRemote) {\n                current.newBounds(tracker);\n            }\n        }\n        this.blockStack.push(tracker);\n        return tracker;\n    }\n    pushBlockList(list) {\n        let tracker = new BlockListTracker(this.element, list);\n        let current = this.blockStack.current;\n        if (current !== null) {\n            current.newDestroyable(tracker);\n            current.newBounds(tracker);\n        }\n        this.blockStack.push(tracker);\n        return tracker;\n    }\n    popBlock() {\n        this.block().finalize(this);\n        return expect(this.blockStack.pop(), \"Expected popBlock to return a block\");\n    }\n    openElement(tag, _operations) {\n        // workaround argument.length transpile of arg initializer\n        let operations = _operations === undefined ? this.defaultOperations : _operations;\n        let element = this.dom.createElement(tag, this.element);\n        this.constructing = element;\n        this.operations = operations;\n        return element;\n    }\n    flushElement() {\n        let parent = this.element;\n        let element = expect(this.constructing, `flushElement should only be called when constructing an element`);\n        this.dom.insertBefore(parent, element, this.nextSibling);\n        this.constructing = null;\n        this.operations = null;\n        this.pushElement(element, null);\n        this.block().openElement(element);\n    }\n    pushRemoteElement(element, nextSibling = null) {\n        this.pushElement(element, nextSibling);\n        let tracker = new RemoteBlockTracker(element);\n        this.pushBlockTracker(tracker, true);\n    }\n    popRemoteElement() {\n        this.popBlock();\n        this.popElement();\n    }\n    pushElement(element, nextSibling) {\n        this.element = element;\n        this.elementStack.push(element);\n        // LOGGER.debug(`-> element stack ${this.elementStack.toArray().map(e => e.tagName).join(', ')}`);\n        this.nextSibling = nextSibling;\n        this.nextSiblingStack.push(nextSibling);\n    }\n    newDestroyable(d) {\n        this.block().newDestroyable(d);\n    }\n    newBounds(bounds) {\n        this.block().newBounds(bounds);\n    }\n    appendText(string) {\n        let { dom } = this;\n        let text = dom.createTextNode(string);\n        dom.insertBefore(this.element, text, this.nextSibling);\n        this.block().newNode(text);\n        return text;\n    }\n    appendComment(string) {\n        let { dom } = this;\n        let comment = dom.createComment(string);\n        dom.insertBefore(this.element, comment, this.nextSibling);\n        this.block().newNode(comment);\n        return comment;\n    }\n    setStaticAttribute(name, value) {\n        this.expectOperations('setStaticAttribute').addStaticAttribute(this.expectConstructing('setStaticAttribute'), name, value);\n    }\n    setStaticAttributeNS(namespace, name, value) {\n        this.expectOperations('setStaticAttributeNS').addStaticAttributeNS(this.expectConstructing('setStaticAttributeNS'), namespace, name, value);\n    }\n    setDynamicAttribute(name, reference, isTrusting) {\n        this.expectOperations('setDynamicAttribute').addDynamicAttribute(this.expectConstructing('setDynamicAttribute'), name, reference, isTrusting);\n    }\n    setDynamicAttributeNS(namespace, name, reference, isTrusting) {\n        this.expectOperations('setDynamicAttributeNS').addDynamicAttributeNS(this.expectConstructing('setDynamicAttributeNS'), namespace, name, reference, isTrusting);\n    }\n    closeElement() {\n        this.block().closeElement();\n        this.popElement();\n    }\n}\nexport class SimpleBlockTracker {\n    constructor(parent) {\n        this.parent = parent;\n        this.first = null;\n        this.last = null;\n        this.destroyables = null;\n        this.nesting = 0;\n    }\n    destroy() {\n        let { destroyables } = this;\n        if (destroyables && destroyables.length) {\n            for (let i = 0; i < destroyables.length; i++) {\n                destroyables[i].destroy();\n            }\n        }\n    }\n    parentElement() {\n        return this.parent;\n    }\n    firstNode() {\n        return this.first && this.first.firstNode();\n    }\n    lastNode() {\n        return this.last && this.last.lastNode();\n    }\n    openElement(element) {\n        this.newNode(element);\n        this.nesting++;\n    }\n    closeElement() {\n        this.nesting--;\n    }\n    newNode(node) {\n        if (this.nesting !== 0) return;\n        if (!this.first) {\n            this.first = new First(node);\n        }\n        this.last = new Last(node);\n    }\n    newBounds(bounds) {\n        if (this.nesting !== 0) return;\n        if (!this.first) {\n            this.first = bounds;\n        }\n        this.last = bounds;\n    }\n    newDestroyable(d) {\n        this.destroyables = this.destroyables || [];\n        this.destroyables.push(d);\n    }\n    finalize(stack) {\n        if (!this.first) {\n            stack.appendComment('');\n        }\n    }\n}\nclass RemoteBlockTracker extends SimpleBlockTracker {\n    destroy() {\n        super.destroy();\n        clear(this);\n    }\n}\nexport class UpdatableBlockTracker extends SimpleBlockTracker {\n    reset(env) {\n        let { destroyables } = this;\n        if (destroyables && destroyables.length) {\n            for (let i = 0; i < destroyables.length; i++) {\n                env.didDestroy(destroyables[i]);\n            }\n        }\n        let nextSibling = clear(this);\n        this.first = null;\n        this.last = null;\n        this.destroyables = null;\n        this.nesting = 0;\n        return nextSibling;\n    }\n}\nclass BlockListTracker {\n    constructor(parent, boundList) {\n        this.parent = parent;\n        this.boundList = boundList;\n        this.parent = parent;\n        this.boundList = boundList;\n    }\n    destroy() {\n        this.boundList.forEachNode(node => node.destroy());\n    }\n    parentElement() {\n        return this.parent;\n    }\n    firstNode() {\n        let head = this.boundList.head();\n        return head && head.firstNode();\n    }\n    lastNode() {\n        let tail = this.boundList.tail();\n        return tail && tail.lastNode();\n    }\n    openElement(_element) {\n        assert(false, 'Cannot openElement directly inside a block list');\n    }\n    closeElement() {\n        assert(false, 'Cannot closeElement directly inside a block list');\n    }\n    newNode(_node) {\n        assert(false, 'Cannot create a new node directly inside a block list');\n    }\n    newBounds(_bounds) {}\n    newDestroyable(_d) {}\n    finalize(_stack) {}\n}","import { isSafeString, isNode, isString, cautiousInsert, trustingInsert } from '../../upsert';\nimport { isComponentDefinition } from '../../component/interfaces';\nimport { UpdatingOpcode } from '../../opcodes';\nimport { ReferenceCache, isModified, isConst, map } from '@glimmer/reference';\nimport { Cursor, clear } from '../../bounds';\nimport { Fragment } from '../../builder';\nimport { ConditionalReference } from '../../references';\nimport { APPEND_OPCODES } from '../../opcodes';\nAPPEND_OPCODES.add(25 /* DynamicContent */, (vm, { op1: append }) => {\n    let opcode = vm.constants.getOther(append);\n    opcode.evaluate(vm);\n});\nfunction isEmpty(value) {\n    return value === null || value === undefined || typeof value['toString'] !== 'function';\n}\nexport function normalizeTextValue(value) {\n    if (isEmpty(value)) {\n        return '';\n    }\n    return String(value);\n}\nfunction normalizeTrustedValue(value) {\n    if (isEmpty(value)) {\n        return '';\n    }\n    if (isString(value)) {\n        return value;\n    }\n    if (isSafeString(value)) {\n        return value.toHTML();\n    }\n    if (isNode(value)) {\n        return value;\n    }\n    return String(value);\n}\nfunction normalizeValue(value) {\n    if (isEmpty(value)) {\n        return '';\n    }\n    if (isString(value)) {\n        return value;\n    }\n    if (isSafeString(value) || isNode(value)) {\n        return value;\n    }\n    return String(value);\n}\nexport class AppendDynamicOpcode {\n    evaluate(vm) {\n        let reference = vm.stack.pop();\n        let normalized = this.normalize(reference);\n        let value, cache;\n        if (isConst(reference)) {\n            value = normalized.value();\n        } else {\n            cache = new ReferenceCache(normalized);\n            value = cache.peek();\n        }\n        let stack = vm.elements();\n        let upsert = this.insert(vm.env.getAppendOperations(), stack, value);\n        let bounds = new Fragment(upsert.bounds);\n        stack.newBounds(bounds);\n        if (cache /* i.e. !isConst(reference) */) {\n                vm.updateWith(this.updateWith(vm, reference, cache, bounds, upsert));\n            }\n    }\n}\nexport class IsComponentDefinitionReference extends ConditionalReference {\n    static create(inner) {\n        return new IsComponentDefinitionReference(inner);\n    }\n    toBool(value) {\n        return isComponentDefinition(value);\n    }\n}\nclass UpdateOpcode extends UpdatingOpcode {\n    constructor(cache, bounds, upsert) {\n        super();\n        this.cache = cache;\n        this.bounds = bounds;\n        this.upsert = upsert;\n        this.tag = cache.tag;\n    }\n    evaluate(vm) {\n        let value = this.cache.revalidate();\n        if (isModified(value)) {\n            let { bounds, upsert } = this;\n            let { dom } = vm;\n            if (!this.upsert.update(dom, value)) {\n                let cursor = new Cursor(bounds.parentElement(), clear(bounds));\n                upsert = this.upsert = this.insert(vm.env.getAppendOperations(), cursor, value);\n            }\n            bounds.update(upsert.bounds);\n        }\n    }\n    toJSON() {\n        let { _guid: guid, type, cache } = this;\n        return {\n            guid,\n            type,\n            details: { lastValue: JSON.stringify(cache.peek()) }\n        };\n    }\n}\nexport class OptimizedCautiousAppendOpcode extends AppendDynamicOpcode {\n    constructor() {\n        super(...arguments);\n        this.type = 'optimized-cautious-append';\n    }\n    normalize(reference) {\n        return map(reference, normalizeValue);\n    }\n    insert(dom, cursor, value) {\n        return cautiousInsert(dom, cursor, value);\n    }\n    updateWith(_vm, _reference, cache, bounds, upsert) {\n        return new OptimizedCautiousUpdateOpcode(cache, bounds, upsert);\n    }\n}\nclass OptimizedCautiousUpdateOpcode extends UpdateOpcode {\n    constructor() {\n        super(...arguments);\n        this.type = 'optimized-cautious-update';\n    }\n    insert(dom, cursor, value) {\n        return cautiousInsert(dom, cursor, value);\n    }\n}\nexport class OptimizedTrustingAppendOpcode extends AppendDynamicOpcode {\n    constructor() {\n        super(...arguments);\n        this.type = 'optimized-trusting-append';\n    }\n    normalize(reference) {\n        return map(reference, normalizeTrustedValue);\n    }\n    insert(dom, cursor, value) {\n        return trustingInsert(dom, cursor, value);\n    }\n    updateWith(_vm, _reference, cache, bounds, upsert) {\n        return new OptimizedTrustingUpdateOpcode(cache, bounds, upsert);\n    }\n}\nclass OptimizedTrustingUpdateOpcode extends UpdateOpcode {\n    constructor() {\n        super(...arguments);\n        this.type = 'optimized-trusting-update';\n    }\n    insert(dom, cursor, value) {\n        return trustingInsert(dom, cursor, value);\n    }\n}","import { APPEND_OPCODES } from '../../opcodes';\nimport { dict } from '@glimmer/util';\n/* tslint:disable */\nfunction debugCallback(context, get) {\n    console.info('Use `context`, and `get(<path>)` to debug this template.');\n    // for example...\n    context === get('this');\n    debugger;\n}\n/* tslint:enable */\nlet callback = debugCallback;\n// For testing purposes\nexport function setDebuggerCallback(cb) {\n    callback = cb;\n}\nexport function resetDebuggerCallback() {\n    callback = debugCallback;\n}\nclass ScopeInspector {\n    constructor(scope, symbols, evalInfo) {\n        this.scope = scope;\n        this.locals = dict();\n        evalInfo.forEach(slot => {\n            let name = symbols[slot - 1];\n            let ref = scope.getSymbol(slot);\n            this.locals[name] = ref;\n        });\n    }\n    get(path) {\n        let { scope, locals } = this;\n        let parts = path.split('.');\n        let [head, ...tail] = path.split('.');\n        let evalScope = scope.getEvalScope();\n        let ref;\n        if (head === 'this') {\n            ref = scope.getSelf();\n        } else if (locals[head]) {\n            ref = locals[head];\n        } else if (head.indexOf('@') === 0 && evalScope[head]) {\n            ref = evalScope[head];\n        } else {\n            ref = this.scope.getSelf();\n            tail = parts;\n        }\n        return tail.reduce((ref, part) => ref.get(part), ref);\n    }\n}\nAPPEND_OPCODES.add(71 /* Debugger */, (vm, { op1: _symbols, op2: _evalInfo }) => {\n    let symbols = vm.constants.getOther(_symbols);\n    let evalInfo = vm.constants.getArray(_evalInfo);\n    let inspector = new ScopeInspector(vm.scope(), symbols, evalInfo);\n    callback(vm.getSelf().value(), path => inspector.get(path).value());\n});","import { APPEND_OPCODES } from '../../opcodes';\nAPPEND_OPCODES.add(69 /* GetPartialTemplate */, vm => {\n    let stack = vm.stack;\n    let definition = stack.pop();\n    stack.push(definition.value().template.asPartial());\n});","import { ReferenceIterator } from '@glimmer/reference';\nimport { APPEND_OPCODES } from '../../opcodes';\nclass IterablePresenceReference {\n    constructor(artifacts) {\n        this.tag = artifacts.tag;\n        this.artifacts = artifacts;\n    }\n    value() {\n        return !this.artifacts.isEmpty();\n    }\n}\nAPPEND_OPCODES.add(53 /* PutIterator */, vm => {\n    let stack = vm.stack;\n    let listRef = stack.pop();\n    let key = stack.pop();\n    let iterable = vm.env.iterableFor(listRef, key.value());\n    let iterator = new ReferenceIterator(iterable);\n    stack.push(iterator);\n    stack.push(new IterablePresenceReference(iterator.artifacts));\n});\nAPPEND_OPCODES.add(51 /* EnterList */, (vm, { op1: start }) => {\n    vm.enterList(start);\n});\nAPPEND_OPCODES.add(52 /* ExitList */, vm => vm.exitList());\nAPPEND_OPCODES.add(54 /* Iterate */, (vm, { op1: breaks }) => {\n    let stack = vm.stack;\n    let item = stack.peek().next();\n    if (item) {\n        let tryOpcode = vm.iterate(item.memo, item.value);\n        vm.enterItem(item.key, tryOpcode);\n    } else {\n        vm.goto(breaks);\n    }\n});","export var Opcodes;\n(function (Opcodes) {\n    // Statements\n    Opcodes[Opcodes[\"Text\"] = 0] = \"Text\";\n    Opcodes[Opcodes[\"Append\"] = 1] = \"Append\";\n    Opcodes[Opcodes[\"Comment\"] = 2] = \"Comment\";\n    Opcodes[Opcodes[\"Modifier\"] = 3] = \"Modifier\";\n    Opcodes[Opcodes[\"Block\"] = 4] = \"Block\";\n    Opcodes[Opcodes[\"Component\"] = 5] = \"Component\";\n    Opcodes[Opcodes[\"OpenElement\"] = 6] = \"OpenElement\";\n    Opcodes[Opcodes[\"FlushElement\"] = 7] = \"FlushElement\";\n    Opcodes[Opcodes[\"CloseElement\"] = 8] = \"CloseElement\";\n    Opcodes[Opcodes[\"StaticAttr\"] = 9] = \"StaticAttr\";\n    Opcodes[Opcodes[\"DynamicAttr\"] = 10] = \"DynamicAttr\";\n    Opcodes[Opcodes[\"Yield\"] = 11] = \"Yield\";\n    Opcodes[Opcodes[\"Partial\"] = 12] = \"Partial\";\n    Opcodes[Opcodes[\"DynamicArg\"] = 13] = \"DynamicArg\";\n    Opcodes[Opcodes[\"StaticArg\"] = 14] = \"StaticArg\";\n    Opcodes[Opcodes[\"TrustingAttr\"] = 15] = \"TrustingAttr\";\n    Opcodes[Opcodes[\"Debugger\"] = 16] = \"Debugger\";\n    Opcodes[Opcodes[\"ClientSideStatement\"] = 17] = \"ClientSideStatement\";\n    // Expressions\n    Opcodes[Opcodes[\"Unknown\"] = 18] = \"Unknown\";\n    Opcodes[Opcodes[\"Get\"] = 19] = \"Get\";\n    Opcodes[Opcodes[\"MaybeLocal\"] = 20] = \"MaybeLocal\";\n    Opcodes[Opcodes[\"FixThisBeforeWeMerge\"] = 21] = \"FixThisBeforeWeMerge\";\n    Opcodes[Opcodes[\"HasBlock\"] = 22] = \"HasBlock\";\n    Opcodes[Opcodes[\"HasBlockParams\"] = 23] = \"HasBlockParams\";\n    Opcodes[Opcodes[\"Undefined\"] = 24] = \"Undefined\";\n    Opcodes[Opcodes[\"Helper\"] = 25] = \"Helper\";\n    Opcodes[Opcodes[\"Concat\"] = 26] = \"Concat\";\n    Opcodes[Opcodes[\"ClientSideExpression\"] = 27] = \"ClientSideExpression\";\n})(Opcodes || (Opcodes = {}));","import { Opcodes } from './lib/opcodes';\nexport { Opcodes as Ops } from './lib/opcodes';\nexport function is(variant) {\n    return function (value) {\n        return Array.isArray(value) && value[0] === variant;\n    };\n}\nexport var Expressions;\n(function (Expressions) {\n    Expressions.isUnknown = is(Opcodes.Unknown);\n    Expressions.isGet = is(Opcodes.Get);\n    Expressions.isConcat = is(Opcodes.Concat);\n    Expressions.isHelper = is(Opcodes.Helper);\n    Expressions.isHasBlock = is(Opcodes.HasBlock);\n    Expressions.isHasBlockParams = is(Opcodes.HasBlockParams);\n    Expressions.isUndefined = is(Opcodes.Undefined);\n    Expressions.isClientSide = is(Opcodes.ClientSideExpression);\n    Expressions.isMaybeLocal = is(Opcodes.MaybeLocal);\n    function isPrimitiveValue(value) {\n        if (value === null) {\n            return true;\n        }\n        return typeof value !== 'object';\n    }\n    Expressions.isPrimitiveValue = isPrimitiveValue;\n})(Expressions || (Expressions = {}));\nexport var Statements;\n(function (Statements) {\n    Statements.isText = is(Opcodes.Text);\n    Statements.isAppend = is(Opcodes.Append);\n    Statements.isComment = is(Opcodes.Comment);\n    Statements.isModifier = is(Opcodes.Modifier);\n    Statements.isBlock = is(Opcodes.Block);\n    Statements.isComponent = is(Opcodes.Component);\n    Statements.isOpenElement = is(Opcodes.OpenElement);\n    Statements.isFlushElement = is(Opcodes.FlushElement);\n    Statements.isCloseElement = is(Opcodes.CloseElement);\n    Statements.isStaticAttr = is(Opcodes.StaticAttr);\n    Statements.isDynamicAttr = is(Opcodes.DynamicAttr);\n    Statements.isYield = is(Opcodes.Yield);\n    Statements.isPartial = is(Opcodes.Partial);\n    Statements.isDynamicArg = is(Opcodes.DynamicArg);\n    Statements.isStaticArg = is(Opcodes.StaticArg);\n    Statements.isTrustingAttr = is(Opcodes.TrustingAttr);\n    Statements.isDebugger = is(Opcodes.Debugger);\n    Statements.isClientSide = is(Opcodes.ClientSideStatement);\n    function isAttribute(val) {\n        return val[0] === Opcodes.StaticAttr || val[0] === Opcodes.DynamicAttr || val[0] === Opcodes.TrustingAttr;\n    }\n    Statements.isAttribute = isAttribute;\n    function isArgument(val) {\n        return val[0] === Opcodes.StaticArg || val[0] === Opcodes.DynamicArg;\n    }\n    Statements.isArgument = isArgument;\n    function isParameter(val) {\n        return isAttribute(val) || isArgument(val);\n    }\n    Statements.isParameter = isParameter;\n    function getParameterName(s) {\n        return s[1];\n    }\n    Statements.getParameterName = getParameterName;\n    function isInElementHead(val) {\n        return isParameter(val) || Statements.isModifier(val) || Statements.isFlushElement(val);\n    }\n    Statements.isInElementHead = isInElementHead;\n})(Statements || (Statements = {}));","export class CompiledStaticTemplate {\n    constructor(start, end) {\n        this.start = start;\n        this.end = end;\n    }\n}\nexport class CompiledDynamicTemplate {\n    constructor(start, end, symbolTable) {\n        this.start = start;\n        this.end = end;\n        this.symbolTable = symbolTable;\n    }\n}","import * as content from './content';\nimport * as vm from './vm';\nimport { Register } from '../../opcodes';\nimport { Stack, dict, expect, fillNulls, EMPTY_ARRAY } from '@glimmer/util';\nimport { ComponentBuilder } from '../../compiler';\nimport { RawInlineBlock } from '../../scanner';\nimport { InvokeDynamicLayout, expr } from '../../syntax/functions';\nimport { IsComponentDefinitionReference } from '../opcodes/content';\nclass Labels {\n    constructor() {\n        this.labels = dict();\n        this.targets = [];\n    }\n    label(name, index) {\n        this.labels[name] = index;\n    }\n    target(at, Target, target) {\n        this.targets.push({ at, Target, target });\n    }\n    patch(opcodes) {\n        for (let { at, Target, target } of this.targets) {\n            opcodes.set(at, Target, this.labels[target]);\n        }\n    }\n}\nexport class BasicOpcodeBuilder {\n    constructor(env, meta, program) {\n        this.env = env;\n        this.meta = meta;\n        this.program = program;\n        this.labelsStack = new Stack();\n        this.constants = env.constants;\n        this.start = program.next;\n    }\n    get pos() {\n        return this.program.current;\n    }\n    get nextPos() {\n        return this.program.next;\n    }\n    upvars(count) {\n        return fillNulls(count);\n    }\n    reserve(name) {\n        this.push(name, 0, 0, 0);\n    }\n    push(name, op1 = 0, op2 = 0, op3 = 0) {\n        return this.program.push(name, op1, op2, op3);\n    }\n    finalize() {\n        return this.push(22 /* Return */);\n    }\n    // args\n    pushArgs(positional, synthetic) {\n        this.push(58 /* PushArgs */, positional, synthetic | 0);\n    }\n    // helpers\n    get labels() {\n        return expect(this.labelsStack.current, 'bug: not in a label stack');\n    }\n    startLabels() {\n        this.labelsStack.push(new Labels());\n    }\n    stopLabels() {\n        let label = expect(this.labelsStack.pop(), 'unbalanced push and pop labels');\n        label.patch(this.program);\n    }\n    // components\n    pushComponentManager(definition) {\n        this.push(55 /* PushComponentManager */, this.other(definition));\n    }\n    pushDynamicComponentManager() {\n        this.push(56 /* PushDynamicComponentManager */);\n    }\n    initializeComponentState() {\n        this.push(57 /* InitializeComponentState */);\n    }\n    prepareArgs(state) {\n        this.push(59 /* PrepareArgs */, state);\n    }\n    createComponent(state, hasDefault, hasInverse) {\n        let flag = hasDefault | 0 | (hasInverse | 0) << 1;\n        this.push(60 /* CreateComponent */, flag, state);\n    }\n    registerComponentDestructor(state) {\n        this.push(61 /* RegisterComponentDestructor */, state);\n    }\n    beginComponentTransaction() {\n        this.push(65 /* BeginComponentTransaction */);\n    }\n    commitComponentTransaction() {\n        this.push(66 /* CommitComponentTransaction */);\n    }\n    pushComponentOperations() {\n        this.push(62 /* PushComponentOperations */);\n    }\n    getComponentSelf(state) {\n        this.push(63 /* GetComponentSelf */, state);\n    }\n    getComponentLayout(state) {\n        this.push(64 /* GetComponentLayout */, state);\n    }\n    didCreateElement(state) {\n        this.push(67 /* DidCreateElement */, state);\n    }\n    didRenderLayout(state) {\n        this.push(68 /* DidRenderLayout */, state);\n    }\n    // partial\n    getPartialTemplate() {\n        this.push(69 /* GetPartialTemplate */);\n    }\n    resolveMaybeLocal(name) {\n        this.push(70 /* ResolveMaybeLocal */, this.string(name));\n    }\n    // debugger\n    debugger(symbols, evalInfo) {\n        this.push(71 /* Debugger */, this.constants.other(symbols), this.constants.array(evalInfo));\n    }\n    // content\n    dynamicContent(Opcode) {\n        this.push(25 /* DynamicContent */, this.other(Opcode));\n    }\n    cautiousAppend() {\n        this.dynamicContent(new content.OptimizedCautiousAppendOpcode());\n    }\n    trustingAppend() {\n        this.dynamicContent(new content.OptimizedTrustingAppendOpcode());\n    }\n    // dom\n    text(text) {\n        this.push(23 /* Text */, this.constants.string(text));\n    }\n    openPrimitiveElement(tag) {\n        this.push(26 /* OpenElement */, this.constants.string(tag));\n    }\n    openElementWithOperations(tag) {\n        this.push(27 /* OpenElementWithOperations */, this.constants.string(tag));\n    }\n    openDynamicElement() {\n        this.push(28 /* OpenDynamicElement */);\n    }\n    flushElement() {\n        this.push(32 /* FlushElement */);\n    }\n    closeElement() {\n        this.push(33 /* CloseElement */);\n    }\n    staticAttr(_name, _namespace, _value) {\n        let name = this.constants.string(_name);\n        let namespace = _namespace ? this.constants.string(_namespace) : 0;\n        let value = this.constants.string(_value);\n        this.push(29 /* StaticAttr */, name, value, namespace);\n    }\n    dynamicAttrNS(_name, _namespace, trusting) {\n        let name = this.constants.string(_name);\n        let namespace = this.constants.string(_namespace);\n        this.push(31 /* DynamicAttrNS */, name, namespace, trusting | 0);\n    }\n    dynamicAttr(_name, trusting) {\n        let name = this.constants.string(_name);\n        this.push(30 /* DynamicAttr */, name, trusting | 0);\n    }\n    comment(_comment) {\n        let comment = this.constants.string(_comment);\n        this.push(24 /* Comment */, comment);\n    }\n    modifier(_definition) {\n        this.push(34 /* Modifier */, this.other(_definition));\n    }\n    // lists\n    putIterator() {\n        this.push(53 /* PutIterator */);\n    }\n    enterList(start) {\n        this.reserve(51 /* EnterList */);\n        this.labels.target(this.pos, 51 /* EnterList */, start);\n    }\n    exitList() {\n        this.push(52 /* ExitList */);\n    }\n    iterate(breaks) {\n        this.reserve(54 /* Iterate */);\n        this.labels.target(this.pos, 54 /* Iterate */, breaks);\n    }\n    // expressions\n    setVariable(symbol) {\n        this.push(4 /* SetVariable */, symbol);\n    }\n    getVariable(symbol) {\n        this.push(5 /* GetVariable */, symbol);\n    }\n    getProperty(key) {\n        this.push(6 /* GetProperty */, this.string(key));\n    }\n    getBlock(symbol) {\n        this.push(8 /* GetBlock */, symbol);\n    }\n    hasBlock(symbol) {\n        this.push(9 /* HasBlock */, symbol);\n    }\n    hasBlockParams(symbol) {\n        this.push(10 /* HasBlockParams */, symbol);\n    }\n    concat(size) {\n        this.push(11 /* Concat */, size);\n    }\n    function(f) {\n        this.push(2 /* Function */, this.func(f));\n    }\n    load(register) {\n        this.push(17 /* Load */, register);\n    }\n    fetch(register) {\n        this.push(18 /* Fetch */, register);\n    }\n    dup(register = Register.sp, offset = 0) {\n        return this.push(15 /* Dup */, register, offset);\n    }\n    pop(count = 1) {\n        return this.push(16 /* Pop */, count);\n    }\n    // vm\n    pushRemoteElement() {\n        this.push(35 /* PushRemoteElement */);\n    }\n    popRemoteElement() {\n        this.push(36 /* PopRemoteElement */);\n    }\n    label(name) {\n        this.labels.label(name, this.nextPos);\n    }\n    pushRootScope(symbols, bindCallerScope) {\n        this.push(19 /* RootScope */, symbols, bindCallerScope | 0);\n    }\n    pushChildScope() {\n        this.push(20 /* ChildScope */);\n    }\n    popScope() {\n        this.push(21 /* PopScope */);\n    }\n    returnTo(label) {\n        this.reserve(12 /* Immediate */);\n        this.labels.target(this.pos, 12 /* Immediate */, label);\n        this.load(Register.ra);\n    }\n    pushDynamicScope() {\n        this.push(38 /* PushDynamicScope */);\n    }\n    popDynamicScope() {\n        this.push(39 /* PopDynamicScope */);\n    }\n    pushImmediate(value) {\n        this.push(13 /* Constant */, this.other(value));\n    }\n    primitive(_primitive) {\n        let flag = 0;\n        let primitive;\n        switch (typeof _primitive) {\n            case 'number':\n                primitive = _primitive;\n                break;\n            case 'string':\n                primitive = this.string(_primitive);\n                flag = 1;\n                break;\n            case 'boolean':\n                primitive = _primitive | 0;\n                flag = 2;\n                break;\n            case 'object':\n                // assume null\n                primitive = 2;\n                flag = 2;\n                break;\n            case 'undefined':\n                primitive = 3;\n                flag = 2;\n                break;\n            default:\n                throw new Error('Invalid primitive passed to pushPrimitive');\n        }\n        this.push(14 /* PrimitiveReference */, flag << 30 | primitive);\n    }\n    helper(func) {\n        this.push(1 /* Helper */, this.func(func));\n    }\n    pushBlock(block) {\n        this.push(7 /* PushBlock */, this.block(block));\n    }\n    bindDynamicScope(_names) {\n        this.push(37 /* BindDynamicScope */, this.names(_names));\n    }\n    enter(args) {\n        this.push(48 /* Enter */, args);\n    }\n    exit() {\n        this.push(49 /* Exit */);\n    }\n    return() {\n        this.push(22 /* Return */);\n    }\n    pushFrame() {\n        this.push(46 /* PushFrame */);\n    }\n    popFrame() {\n        this.push(47 /* PopFrame */);\n    }\n    compileDynamicBlock() {\n        this.push(40 /* CompileDynamicBlock */);\n    }\n    invokeDynamic(invoker) {\n        this.push(42 /* InvokeDynamic */, this.other(invoker));\n    }\n    invokeStatic(block, callerCount = 0) {\n        let { parameters } = block.symbolTable;\n        let calleeCount = parameters.length;\n        let count = Math.min(callerCount, calleeCount);\n        this.pushFrame();\n        if (count) {\n            this.pushChildScope();\n            for (let i = 0; i < count; i++) {\n                this.dup(Register.fp, callerCount - i);\n                this.setVariable(parameters[i]);\n            }\n        }\n        let _block = this.constants.block(block);\n        this.push(41 /* InvokeStatic */, _block);\n        if (count) {\n            this.popScope();\n        }\n        this.popFrame();\n    }\n    test(testFunc) {\n        let _func;\n        if (testFunc === 'const') {\n            _func = vm.ConstTest;\n        } else if (testFunc === 'simple') {\n            _func = vm.SimpleTest;\n        } else if (testFunc === 'environment') {\n            _func = vm.EnvironmentTest;\n        } else if (typeof testFunc === 'function') {\n            _func = testFunc;\n        } else {\n            throw new Error('unreachable');\n        }\n        let func = this.constants.function(_func);\n        this.push(50 /* Test */, func);\n    }\n    jump(target) {\n        this.reserve(43 /* Jump */);\n        this.labels.target(this.pos, 43 /* Jump */, target);\n    }\n    jumpIf(target) {\n        this.reserve(44 /* JumpIf */);\n        this.labels.target(this.pos, 44 /* JumpIf */, target);\n    }\n    jumpUnless(target) {\n        this.reserve(45 /* JumpUnless */);\n        this.labels.target(this.pos, 45 /* JumpUnless */, target);\n    }\n    string(_string) {\n        return this.constants.string(_string);\n    }\n    names(_names) {\n        let names = _names.map(n => this.constants.string(n));\n        return this.constants.array(names);\n    }\n    symbols(symbols) {\n        return this.constants.array(symbols);\n    }\n    other(value) {\n        return this.constants.other(value);\n    }\n    block(block) {\n        return block ? this.constants.block(block) : 0;\n    }\n    func(func) {\n        return this.constants.function(func);\n    }\n}\nfunction isCompilableExpression(expr) {\n    return expr && typeof expr['compile'] === 'function';\n}\nexport default class OpcodeBuilder extends BasicOpcodeBuilder {\n    constructor(env, meta, program = env.program) {\n        super(env, meta, program);\n        this.component = new ComponentBuilder(this);\n    }\n    compileArgs(params, hash, synthetic) {\n        let positional = 0;\n        if (params) {\n            params.forEach(p => expr(p, this));\n            positional = params.length;\n        }\n        let names = EMPTY_ARRAY;\n        if (hash) {\n            names = hash[0];\n            hash[1].forEach(v => expr(v, this));\n        }\n        this.pushImmediate(names);\n        this.pushArgs(positional, synthetic);\n    }\n    compile(expr) {\n        if (isCompilableExpression(expr)) {\n            return expr.compile(this);\n        } else {\n            return expr;\n        }\n    }\n    guardedAppend(expression, trusting) {\n        this.startLabels();\n        this.pushFrame();\n        this.returnTo('END');\n        expr(expression, this);\n        this.dup();\n        this.test(reference => {\n            return IsComponentDefinitionReference.create(reference);\n        });\n        this.enter(2);\n        this.jumpUnless('ELSE');\n        this.pushDynamicComponentManager();\n        this.invokeComponent(null, null, null, null, null);\n        this.exit();\n        this.return();\n        this.label('ELSE');\n        if (trusting) {\n            this.trustingAppend();\n        } else {\n            this.cautiousAppend();\n        }\n        this.exit();\n        this.return();\n        this.label('END');\n        this.popFrame();\n        this.stopLabels();\n    }\n    guardedCautiousAppend(expression) {\n        expr(expression, this);\n        this.dynamicContent(new content.GuardedCautiousAppendOpcode());\n    }\n    guardedTrustingAppend(expression) {\n        expr(expression, this);\n        this.dynamicContent(new content.GuardedTrustingAppendOpcode());\n    }\n    invokeComponent(attrs, params, hash, block, inverse = null) {\n        this.initializeComponentState();\n        this.fetch(Register.s0);\n        this.dup(Register.sp, 1);\n        this.load(Register.s0);\n        this.pushBlock(block);\n        this.pushBlock(inverse);\n        this.compileArgs(params, hash, false);\n        this.prepareArgs(Register.s0);\n        this.beginComponentTransaction();\n        this.pushDynamicScope();\n        this.createComponent(Register.s0, true, inverse === null);\n        this.registerComponentDestructor(Register.s0);\n        this.getComponentSelf(Register.s0);\n        this.getComponentLayout(Register.s0);\n        this.invokeDynamic(new InvokeDynamicLayout(attrs && attrs.scan()));\n        this.popFrame();\n        this.popScope();\n        this.popDynamicScope();\n        this.commitComponentTransaction();\n        this.load(Register.s0);\n    }\n    template(block) {\n        if (!block) return null;\n        return new RawInlineBlock(this.env, this.meta, block.statements, block.parameters);\n    }\n}","import { CompiledDynamicTemplate } from './compiled/blocks';\nimport { Ops } from '@glimmer/wire-format';\nimport { Register, debugSlice } from './opcodes';\nimport { ATTRS_BLOCK, ClientSide, compileStatement } from './scanner';\nimport { expr } from './syntax/functions';\nimport OpcodeBuilderDSL from './compiled/opcodes/builder';\nexport function compileLayout(compilable, env) {\n    let builder = new ComponentLayoutBuilder(env);\n    compilable.compile(builder);\n    return builder.compile();\n}\nclass ComponentLayoutBuilder {\n    constructor(env) {\n        this.env = env;\n    }\n    wrapLayout(layout) {\n        this.inner = new WrappedBuilder(this.env, layout);\n    }\n    fromLayout(layout) {\n        this.inner = new UnwrappedBuilder(this.env, layout);\n    }\n    compile() {\n        return this.inner.compile();\n    }\n    get tag() {\n        return this.inner.tag;\n    }\n    get attrs() {\n        return this.inner.attrs;\n    }\n}\nclass WrappedBuilder {\n    constructor(env, layout) {\n        this.env = env;\n        this.layout = layout;\n        this.tag = new ComponentTagBuilder();\n        this.attrs = new ComponentAttrsBuilder();\n    }\n    compile() {\n        //========DYNAMIC\n        //        PutValue(TagExpr)\n        //        Test\n        //        JumpUnless(BODY)\n        //        OpenDynamicPrimitiveElement\n        //        DidCreateElement\n        //        ...attr statements...\n        //        FlushElement\n        // BODY:  Noop\n        //        ...body statements...\n        //        PutValue(TagExpr)\n        //        Test\n        //        JumpUnless(END)\n        //        CloseElement\n        // END:   Noop\n        //        DidRenderLayout\n        //        Exit\n        //\n        //========STATIC\n        //        OpenPrimitiveElementOpcode\n        //        DidCreateElement\n        //        ...attr statements...\n        //        FlushElement\n        //        ...body statements...\n        //        CloseElement\n        //        DidRenderLayout\n        //        Exit\n        let { env, layout } = this;\n        let meta = { templateMeta: layout.meta, symbols: layout.symbols, asPartial: false };\n        let dynamicTag = this.tag.getDynamic();\n        let staticTag = this.tag.getStatic();\n        let b = builder(env, meta);\n        b.startLabels();\n        if (dynamicTag) {\n            b.fetch(Register.s1);\n            expr(dynamicTag, b);\n            b.dup();\n            b.load(Register.s1);\n            b.test('simple');\n            b.jumpUnless('BODY');\n            b.fetch(Register.s1);\n            b.pushComponentOperations();\n            b.openDynamicElement();\n        } else if (staticTag) {\n            b.pushComponentOperations();\n            b.openElementWithOperations(staticTag);\n        }\n        if (dynamicTag || staticTag) {\n            b.didCreateElement(Register.s0);\n            let attrs = this.attrs['buffer'];\n            for (let i = 0; i < attrs.length; i++) {\n                compileStatement(attrs[i], b);\n            }\n            b.flushElement();\n        }\n        b.label('BODY');\n        b.invokeStatic(layout.asBlock());\n        if (dynamicTag) {\n            b.fetch(Register.s1);\n            b.test('simple');\n            b.jumpUnless('END');\n            b.closeElement();\n        } else if (staticTag) {\n            b.closeElement();\n        }\n        b.label('END');\n        b.didRenderLayout(Register.s0);\n        if (dynamicTag) {\n            b.load(Register.s1);\n        }\n        b.stopLabels();\n        let start = b.start;\n        let end = b.finalize();\n        debugSlice(env, start, end);\n        return new CompiledDynamicTemplate(start, end, {\n            meta,\n            hasEval: layout.hasEval,\n            symbols: layout.symbols.concat([ATTRS_BLOCK])\n        });\n    }\n}\nclass UnwrappedBuilder {\n    constructor(env, layout) {\n        this.env = env;\n        this.layout = layout;\n        this.attrs = new ComponentAttrsBuilder();\n    }\n    get tag() {\n        throw new Error('BUG: Cannot call `tag` on an UnwrappedBuilder');\n    }\n    compile() {\n        let { env, layout } = this;\n        return layout.asLayout(this.attrs['buffer']).compileDynamic(env);\n    }\n}\nclass ComponentTagBuilder {\n    constructor() {\n        this.isDynamic = null;\n        this.isStatic = null;\n        this.staticTagName = null;\n        this.dynamicTagName = null;\n    }\n    getDynamic() {\n        if (this.isDynamic) {\n            return this.dynamicTagName;\n        }\n    }\n    getStatic() {\n        if (this.isStatic) {\n            return this.staticTagName;\n        }\n    }\n    static(tagName) {\n        this.isStatic = true;\n        this.staticTagName = tagName;\n    }\n    dynamic(tagName) {\n        this.isDynamic = true;\n        this.dynamicTagName = [Ops.ClientSideExpression, ClientSide.Ops.FunctionExpression, tagName];\n    }\n}\nclass ComponentAttrsBuilder {\n    constructor() {\n        this.buffer = [];\n    }\n    static(name, value) {\n        this.buffer.push([Ops.StaticAttr, name, value, null]);\n    }\n    dynamic(name, value) {\n        this.buffer.push([Ops.DynamicAttr, name, [Ops.ClientSideExpression, ClientSide.Ops.FunctionExpression, value], null]);\n    }\n}\nexport class ComponentBuilder {\n    constructor(builder) {\n        this.builder = builder;\n        this.env = builder.env;\n    }\n    static(definition, args) {\n        let [params, hash, _default, inverse] = args;\n        let { builder } = this;\n        builder.pushComponentManager(definition);\n        builder.invokeComponent(null, params, hash, _default, inverse);\n    }\n    dynamic(definitionArgs, getDefinition, args) {\n        let [params, hash, block, inverse] = args;\n        let { builder } = this;\n        if (!definitionArgs || definitionArgs.length === 0) {\n            throw new Error(\"Dynamic syntax without an argument\");\n        }\n        let meta = this.builder.meta.templateMeta;\n        function helper(vm, args) {\n            return getDefinition(vm, args, meta);\n        }\n        builder.startLabels();\n        builder.pushFrame();\n        builder.returnTo('END');\n        builder.compileArgs(definitionArgs[0], definitionArgs[1], true);\n        builder.helper(helper);\n        builder.dup();\n        builder.test('simple');\n        builder.enter(2);\n        builder.jumpUnless('ELSE');\n        builder.pushDynamicComponentManager();\n        builder.invokeComponent(null, params, hash, block, inverse);\n        builder.label('ELSE');\n        builder.exit();\n        builder.return();\n        builder.label('END');\n        builder.popFrame();\n        builder.stopLabels();\n    }\n}\nexport function builder(env, meta) {\n    return new OpcodeBuilderDSL(env, meta);\n}","import { CompiledDynamicTemplate, CompiledStaticTemplate } from './compiled/blocks';\nimport { builder } from './compiler';\nimport { EMPTY_ARRAY } from '@glimmer/util';\nimport * as WireFormat from '@glimmer/wire-format';\nimport { debugSlice } from './opcodes';\nimport { STATEMENTS } from './syntax/functions';\nexport function compileStatement(statement, builder) {\n    STATEMENTS.compile(statement, builder);\n}\nexport class CompilableTemplate {\n    constructor(statements, symbolTable) {\n        this.statements = statements;\n        this.symbolTable = symbolTable;\n        this.compiledStatic = null;\n        this.compiledDynamic = null;\n    }\n    compileStatic(env) {\n        let { compiledStatic } = this;\n        if (!compiledStatic) {\n            let builder = compileStatements(this.statements, this.symbolTable.meta, env);\n            let start = builder.start;\n            let end = builder.finalize();\n            debugSlice(env, start, end);\n            compiledStatic = this.compiledStatic = new CompiledStaticTemplate(start, end);\n        }\n        return compiledStatic;\n    }\n    compileDynamic(env) {\n        let { compiledDynamic } = this;\n        if (!compiledDynamic) {\n            let staticBlock = this.compileStatic(env);\n            compiledDynamic = new CompiledDynamicTemplate(staticBlock.start, staticBlock.end, this.symbolTable);\n        }\n        return compiledDynamic;\n    }\n    toJSON() {\n        return { GlimmerDebug: '<template>' };\n    }\n}\nfunction compileStatements(statements, meta, env) {\n    let b = builder(env, meta);\n    for (let statement of statements) {\n        compileStatement(statement, b);\n    }\n    return b;\n}\nexport const ATTRS_BLOCK = '&attrs';\nexport function layout(prelude, head, body, symbolTable) {\n    let [, tag] = prelude.pop();\n    prelude.push([Ops.ClientSideStatement, ClientSide.Ops.OpenComponentElement, tag]);\n    prelude.push([Ops.ClientSideStatement, ClientSide.Ops.DidCreateElement]);\n    let attrsSymbol = symbolTable.symbols.length + 1;\n    symbolTable.symbols.push(ATTRS_BLOCK);\n    let statements = prelude.concat([[Ops.Yield, attrsSymbol, EMPTY_ARRAY]]).concat(head).concat(body).concat([[Ops.ClientSideStatement, ClientSide.Ops.DidRenderLayout]]);\n    return new CompilableTemplate(statements, symbolTable);\n}\nexport default class Scanner {\n    constructor(block, env) {\n        this.block = block;\n        this.env = env;\n    }\n    scanEntryPoint(meta) {\n        let { block, env } = this;\n        let statements;\n        if (block.prelude && block.head) {\n            statements = block.prelude.concat(block.head).concat(block.statements);\n        } else {\n            statements = block.statements;\n        }\n        return new RawProgram(env, meta, statements, block.symbols, block.hasEval).scan();\n    }\n    scanBlock(meta) {\n        let { block, env } = this;\n        let statements;\n        if (block.prelude && block.head) {\n            statements = block.prelude.concat(block.head).concat(block.statements);\n        } else {\n            statements = block.statements;\n        }\n        return new RawInlineBlock(env, meta, statements, EMPTY_ARRAY).scan();\n    }\n    scanLayout(meta, attrs) {\n        let { block } = this;\n        let { symbols, hasEval } = block;\n        if (!block.prelude || !block.head) {\n            throw new Error(`A layout must have a top-level element`);\n        }\n        let symbolTable = { meta, hasEval, symbols };\n        let { statements: prelude } = scanBlock({ statements: block.prelude, parameters: EMPTY_ARRAY }, meta, this.env);\n        let { statements: head } = scanBlock({ statements: [...attrs, ...block.head], parameters: EMPTY_ARRAY }, meta, this.env);\n        let { statements: body } = scanBlock({ statements: block.statements, parameters: EMPTY_ARRAY }, meta, this.env);\n        return layout(prelude, head, body, symbolTable);\n    }\n}\nexport function scanBlock(block, meta, env) {\n    return new RawInlineBlock(env, meta, block.statements, EMPTY_ARRAY).scan();\n}\nexport var ClientSide;\n(function (ClientSide) {\n    var Ops;\n    (function (Ops) {\n        Ops[Ops[\"OpenComponentElement\"] = 0] = \"OpenComponentElement\";\n        Ops[Ops[\"DidCreateElement\"] = 1] = \"DidCreateElement\";\n        Ops[Ops[\"DidRenderLayout\"] = 2] = \"DidRenderLayout\";\n        Ops[Ops[\"OptimizedAppend\"] = 3] = \"OptimizedAppend\";\n        Ops[Ops[\"UnoptimizedAppend\"] = 4] = \"UnoptimizedAppend\";\n        Ops[Ops[\"StaticPartial\"] = 5] = \"StaticPartial\";\n        Ops[Ops[\"DynamicPartial\"] = 6] = \"DynamicPartial\";\n        Ops[Ops[\"NestedBlock\"] = 7] = \"NestedBlock\";\n        Ops[Ops[\"ScannedBlock\"] = 8] = \"ScannedBlock\";\n        Ops[Ops[\"FunctionExpression\"] = 9] = \"FunctionExpression\";\n    })(Ops = ClientSide.Ops || (ClientSide.Ops = {}));\n    function is(variant) {\n        return function (value) {\n            return value[0] === WireFormat.Ops.ClientSideExpression || value[0] === WireFormat.Ops.ClientSideStatement && value[1] === variant;\n        };\n    }\n    ClientSide.is = is;\n})(ClientSide || (ClientSide = {}));\nconst { Ops } = WireFormat;\nexport class RawBlock {\n    constructor(env, meta, statements) {\n        this.env = env;\n        this.meta = meta;\n        this.statements = statements;\n    }\n    scanStatements() {\n        let buffer = [];\n        let statements = this.statements;\n        for (let statement of statements) {\n            buffer.push(statement);\n        }\n        return buffer;\n    }\n    child(block) {\n        if (!block) return null;\n        return new RawInlineBlock(this.env, this.meta, block.statements, block.parameters);\n    }\n}\nexport class RawInlineBlock extends RawBlock {\n    constructor(env, meta, statements, parameters) {\n        super(env, meta, statements);\n        this.parameters = parameters;\n    }\n    scan() {\n        let statements = this.scanStatements();\n        return new CompilableTemplate(statements, { parameters: this.parameters, meta: this.meta });\n    }\n}\nexport class RawProgram extends RawBlock {\n    constructor(env, meta, statements, symbols, hasEval) {\n        super(env, meta, statements);\n        this.symbols = symbols;\n        this.hasEval = hasEval;\n    }\n    scan() {\n        let statements = this.scanStatements();\n        return new CompilableTemplate(statements, { symbols: this.symbols, hasEval: this.hasEval, meta: this.meta });\n    }\n}","import * as WireFormat from '@glimmer/wire-format';\nimport { Register } from '../opcodes';\nimport { ATTRS_BLOCK, ClientSide, RawInlineBlock } from '../scanner';\nimport { LOGGER, EMPTY_ARRAY, dict, assert, unwrap } from '@glimmer/util';\nimport { map } from '@glimmer/reference';\nvar Ops = WireFormat.Ops;\nexport class Compilers {\n    constructor(offset = 0) {\n        this.offset = offset;\n        this.names = dict();\n        this.funcs = [];\n    }\n    add(name, func) {\n        this.funcs.push(func);\n        this.names[name] = this.funcs.length - 1;\n    }\n    compile(sexp, builder) {\n        let name = sexp[this.offset];\n        let index = this.names[name];\n        let func = this.funcs[index];\n        assert(!!func, `expected an implementation for ${this.offset === 0 ? Ops[sexp[0]] : ClientSide.Ops[sexp[1]]}`);\n        func(sexp, builder);\n    }\n}\nexport const STATEMENTS = new Compilers();\nexport const CLIENT_SIDE = new Compilers(1);\nSTATEMENTS.add(Ops.Text, (sexp, builder) => {\n    builder.text(sexp[1]);\n});\nSTATEMENTS.add(Ops.Comment, (sexp, builder) => {\n    builder.comment(sexp[1]);\n});\nSTATEMENTS.add(Ops.CloseElement, (_sexp, builder) => {\n    LOGGER.trace('close-element statement');\n    builder.closeElement();\n});\nSTATEMENTS.add(Ops.FlushElement, (_sexp, builder) => {\n    builder.flushElement();\n});\nSTATEMENTS.add(Ops.Modifier, (sexp, builder) => {\n    let { env, meta } = builder;\n    let [, name, params, hash] = sexp;\n    if (env.hasModifier(name, meta.templateMeta)) {\n        builder.compileArgs(params, hash, true);\n        builder.modifier(env.lookupModifier(name, meta.templateMeta));\n    } else {\n        throw new Error(`Compile Error ${name} is not a modifier: Helpers may not be used in the element form.`);\n    }\n});\nSTATEMENTS.add(Ops.StaticAttr, (sexp, builder) => {\n    let [, name, value, namespace] = sexp;\n    builder.staticAttr(name, namespace, value);\n});\nSTATEMENTS.add(Ops.DynamicAttr, (sexp, builder) => {\n    dynamicAttr(sexp, false, builder);\n});\nSTATEMENTS.add(Ops.TrustingAttr, (sexp, builder) => {\n    dynamicAttr(sexp, true, builder);\n});\nfunction dynamicAttr(sexp, trusting, builder) {\n    let [, name, value, namespace] = sexp;\n    expr(value, builder);\n    if (namespace) {\n        builder.dynamicAttrNS(name, namespace, trusting);\n    } else {\n        builder.dynamicAttr(name, trusting);\n    }\n}\nSTATEMENTS.add(Ops.OpenElement, (sexp, builder) => {\n    builder.openPrimitiveElement(sexp[1]);\n});\nCLIENT_SIDE.add(ClientSide.Ops.OpenComponentElement, (sexp, builder) => {\n    builder.pushComponentOperations();\n    builder.openElementWithOperations(sexp[2]);\n});\nCLIENT_SIDE.add(ClientSide.Ops.DidCreateElement, (_sexp, builder) => {\n    builder.didCreateElement(Register.s0);\n});\nCLIENT_SIDE.add(ClientSide.Ops.DidRenderLayout, (_sexp, builder) => {\n    builder.didRenderLayout(Register.s0);\n});\nSTATEMENTS.add(Ops.Append, (sexp, builder) => {\n    let [, value, trusting] = sexp;\n    let { inlines } = builder.env.macros();\n    let returned = inlines.compile(sexp, builder) || value;\n    if (returned === true) return;\n    let isGet = E.isGet(value);\n    let isMaybeLocal = E.isMaybeLocal(value);\n    if (trusting) {\n        builder.guardedAppend(value, true);\n    } else {\n        if (isGet || isMaybeLocal) {\n            builder.guardedAppend(value, false);\n        } else {\n            expr(value, builder);\n            builder.cautiousAppend();\n        }\n    }\n});\n// CLIENT_SIDE.add(ClientSide.Ops.UnoptimizedAppend, (sexp: ClientSide.UnoptimizedAppend, builder) => {\n//   let [,, value, trustingMorph] = sexp;\n//   let { inlines } = builder.env.macros();\n//   let returned = inlines.compile(sexp, builder) || value;\n//   if (returned === true) return;\n//   if (trustingMorph) {\n//     builder.guardedTrustingAppend(returned[1]);\n//   } else {\n//     builder.guardedCautiousAppend(returned[1]);\n//   }\n// });\nSTATEMENTS.add(Ops.Block, (sexp, builder) => {\n    let [, name, params, hash, _template, _inverse] = sexp;\n    let template = builder.template(_template);\n    let inverse = builder.template(_inverse);\n    let templateBlock = template && template.scan();\n    let inverseBlock = inverse && inverse.scan();\n    let { blocks } = builder.env.macros();\n    blocks.compile(name, params, hash, templateBlock, inverseBlock, builder);\n});\nexport class InvokeDynamicLayout {\n    constructor(attrs) {\n        this.attrs = attrs;\n    }\n    invoke(vm, layout) {\n        let { symbols, hasEval } = layout.symbolTable;\n        let stack = vm.stack;\n        let scope = vm.pushRootScope(symbols.length + 1, true);\n        scope.bindSelf(stack.pop());\n        scope.bindBlock(symbols.indexOf(ATTRS_BLOCK) + 1, this.attrs);\n        let lookup = null;\n        let $eval = -1;\n        if (hasEval) {\n            $eval = symbols.indexOf('$eval') + 1;\n            lookup = dict();\n        }\n        let callerNames = stack.pop();\n        for (let i = callerNames.length - 1; i >= 0; i--) {\n            let symbol = symbols.indexOf(callerNames[i]);\n            let value = stack.pop();\n            if (symbol !== -1) scope.bindSymbol(symbol + 1, value);\n            if (hasEval) lookup[callerNames[i]] = value;\n        }\n        let inverseSymbol = symbols.indexOf('&inverse');\n        let inverse = stack.pop();\n        if (inverseSymbol !== -1) {\n            scope.bindBlock(inverseSymbol + 1, inverse);\n        }\n        if (lookup) lookup['&inverse'] = inverse;\n        let defaultSymbol = symbols.indexOf('&default');\n        let defaultBlock = stack.pop();\n        if (defaultSymbol !== -1) {\n            scope.bindBlock(defaultSymbol + 1, defaultBlock);\n        }\n        if (lookup) lookup['&default'] = defaultBlock;\n        if (lookup) scope.bindEvalScope(lookup);\n        vm.pushFrame();\n        vm.call(layout.start);\n    }\n    toJSON() {\n        return { GlimmerDebug: '<invoke-dynamic-layout>' };\n    }\n}\nSTATEMENTS.add(Ops.Component, (sexp, builder) => {\n    let [, tag, attrs, args, block] = sexp;\n    if (builder.env.hasComponentDefinition(tag, builder.meta.templateMeta)) {\n        let child = builder.template(block);\n        let attrsBlock = new RawInlineBlock(builder.env, builder.meta, attrs, EMPTY_ARRAY);\n        let definition = builder.env.getComponentDefinition(tag, builder.meta.templateMeta);\n        builder.pushComponentManager(definition);\n        builder.invokeComponent(attrsBlock, null, args, child && child.scan());\n    } else if (block && block.parameters.length) {\n        throw new Error(`Compile Error: Cannot find component ${tag}`);\n    } else {\n        builder.openPrimitiveElement(tag);\n        attrs.forEach(attr => STATEMENTS.compile(attr, builder));\n        builder.flushElement();\n        if (block) block.statements.forEach(s => STATEMENTS.compile(s, builder));\n        builder.closeElement();\n    }\n});\nexport class PartialInvoker {\n    constructor(outerSymbols, evalInfo) {\n        this.outerSymbols = outerSymbols;\n        this.evalInfo = evalInfo;\n    }\n    invoke(vm, _partial) {\n        let partial = unwrap(_partial);\n        let partialSymbols = partial.symbolTable.symbols;\n        let outerScope = vm.scope();\n        let partialScope = vm.pushRootScope(partialSymbols.length, false);\n        partialScope.bindCallerScope(outerScope.getCallerScope());\n        partialScope.bindEvalScope(outerScope.getEvalScope());\n        partialScope.bindSelf(outerScope.getSelf());\n        let { evalInfo, outerSymbols } = this;\n        let locals = dict();\n        evalInfo.forEach(slot => {\n            let name = outerSymbols[slot - 1];\n            let ref = outerScope.getSymbol(slot);\n            locals[name] = ref;\n        });\n        let evalScope = outerScope.getEvalScope();\n        partialSymbols.forEach((name, i) => {\n            let symbol = i + 1;\n            let value = evalScope[name];\n            if (value !== undefined) partialScope.bind(symbol, value);\n        });\n        partialScope.bindPartialMap(locals);\n        vm.pushFrame();\n        vm.call(partial.start);\n    }\n}\nSTATEMENTS.add(Ops.Partial, (sexp, builder) => {\n    let [, name, evalInfo] = sexp;\n    let { templateMeta, symbols } = builder.meta;\n    function helper(vm, args) {\n        let { env } = vm;\n        let nameRef = args.positional.at(0);\n        return map(nameRef, name => {\n            if (typeof name === 'string' && name) {\n                if (!env.hasPartial(name, templateMeta)) {\n                    throw new Error(`Could not find a partial named \"${name}\"`);\n                }\n                return env.lookupPartial(name, templateMeta);\n            } else if (name) {\n                throw new Error(`Could not find a partial named \"${String(name)}\"`);\n            } else {\n                return null;\n            }\n        });\n    }\n    builder.startLabels();\n    builder.pushFrame();\n    builder.returnTo('END');\n    expr(name, builder);\n    builder.pushImmediate(EMPTY_ARRAY);\n    builder.pushArgs(1, true);\n    builder.helper(helper);\n    builder.dup();\n    builder.test('simple');\n    builder.enter(2);\n    builder.jumpUnless('ELSE');\n    builder.getPartialTemplate();\n    builder.compileDynamicBlock();\n    builder.invokeDynamic(new PartialInvoker(symbols, evalInfo));\n    builder.popScope();\n    builder.popFrame();\n    builder.label('ELSE');\n    builder.exit();\n    builder.return();\n    builder.label('END');\n    builder.popFrame();\n    builder.stopLabels();\n});\nclass InvokeDynamicYield {\n    constructor(callerCount) {\n        this.callerCount = callerCount;\n    }\n    invoke(vm, block) {\n        let { callerCount } = this;\n        let stack = vm.stack;\n        if (!block) {\n            // To balance the pop{Frame,Scope}\n            vm.pushFrame();\n            vm.pushCallerScope();\n            return;\n        }\n        let table = block.symbolTable;\n        let locals = table.parameters; // always present in inline blocks\n        let calleeCount = locals ? locals.length : 0;\n        let count = Math.min(callerCount, calleeCount);\n        vm.pushFrame();\n        vm.pushCallerScope(calleeCount > 0);\n        let scope = vm.scope();\n        for (let i = 0; i < count; i++) {\n            scope.bindSymbol(locals[i], stack.fromBase(callerCount - i));\n        }\n        vm.call(block.start);\n    }\n    toJSON() {\n        return { GlimmerDebug: `<invoke-dynamic-yield caller-count=${this.callerCount}>` };\n    }\n}\nSTATEMENTS.add(Ops.Yield, (sexp, builder) => {\n    let [, to, params] = sexp;\n    let count = compileList(params, builder);\n    builder.getBlock(to);\n    builder.compileDynamicBlock();\n    builder.invokeDynamic(new InvokeDynamicYield(count));\n    builder.popScope();\n    builder.popFrame();\n    if (count) {\n        builder.pop(count);\n    }\n});\nSTATEMENTS.add(Ops.Debugger, (sexp, builder) => {\n    let [, evalInfo] = sexp;\n    builder.debugger(builder.meta.symbols, evalInfo);\n});\nSTATEMENTS.add(Ops.ClientSideStatement, (sexp, builder) => {\n    CLIENT_SIDE.compile(sexp, builder);\n});\nconst EXPRESSIONS = new Compilers();\nconst CLIENT_SIDE_EXPRS = new Compilers(1);\nvar E = WireFormat.Expressions;\nexport function expr(expression, builder) {\n    if (Array.isArray(expression)) {\n        EXPRESSIONS.compile(expression, builder);\n    } else {\n        builder.primitive(expression);\n    }\n}\nEXPRESSIONS.add(Ops.Unknown, (sexp, builder) => {\n    let name = sexp[1];\n    if (builder.env.hasHelper(name, builder.meta.templateMeta)) {\n        EXPRESSIONS.compile([Ops.Helper, name, EMPTY_ARRAY, null], builder);\n    } else if (builder.meta.asPartial) {\n        builder.resolveMaybeLocal(name);\n    } else {\n        builder.getVariable(0);\n        builder.getProperty(name);\n    }\n});\nEXPRESSIONS.add(Ops.Concat, (sexp, builder) => {\n    let parts = sexp[1];\n    parts.forEach(p => expr(p, builder));\n    builder.concat(parts.length);\n});\nCLIENT_SIDE_EXPRS.add(ClientSide.Ops.FunctionExpression, (sexp, builder) => {\n    builder.function(sexp[2]);\n});\nEXPRESSIONS.add(Ops.Helper, (sexp, builder) => {\n    let { env, meta } = builder;\n    let [, name, params, hash] = sexp;\n    if (env.hasHelper(name, meta.templateMeta)) {\n        builder.compileArgs(params, hash, true);\n        builder.helper(env.lookupHelper(name, meta.templateMeta));\n    } else {\n        throw new Error(`Compile Error: ${name} is not a helper`);\n    }\n});\nEXPRESSIONS.add(Ops.Get, (sexp, builder) => {\n    let [, head, path] = sexp;\n    builder.getVariable(head);\n    path.forEach(p => builder.getProperty(p));\n});\nEXPRESSIONS.add(Ops.MaybeLocal, (sexp, builder) => {\n    let [, path] = sexp;\n    if (builder.meta.asPartial) {\n        let head = path[0];\n        path = path.slice(1);\n        builder.resolveMaybeLocal(head);\n    } else {\n        builder.getVariable(0);\n    }\n    path.forEach(p => builder.getProperty(p));\n});\nEXPRESSIONS.add(Ops.Undefined, (_sexp, builder) => {\n    return builder.primitive(undefined);\n});\nEXPRESSIONS.add(Ops.HasBlock, (sexp, builder) => {\n    builder.hasBlock(sexp[1]);\n});\nEXPRESSIONS.add(Ops.HasBlockParams, (sexp, builder) => {\n    builder.hasBlockParams(sexp[1]);\n});\nEXPRESSIONS.add(Ops.ClientSideExpression, (sexp, builder) => {\n    CLIENT_SIDE_EXPRS.compile(sexp, builder);\n});\nexport function compileList(params, builder) {\n    if (!params) return 0;\n    params.forEach(p => expr(p, builder));\n    return params.length;\n}\nexport class Blocks {\n    constructor() {\n        this.names = dict();\n        this.funcs = [];\n    }\n    add(name, func) {\n        this.funcs.push(func);\n        this.names[name] = this.funcs.length - 1;\n    }\n    addMissing(func) {\n        this.missing = func;\n    }\n    compile(name, params, hash, template, inverse, builder) {\n        let index = this.names[name];\n        if (index === undefined) {\n            assert(!!this.missing, `${name} not found, and no catch-all block handler was registered`);\n            let func = this.missing;\n            let handled = func(name, params, hash, template, inverse, builder);\n            assert(!!handled, `${name} not found, and the catch-all block handler didn't handle it`);\n        } else {\n            let func = this.funcs[index];\n            func(params, hash, template, inverse, builder);\n        }\n    }\n}\nexport const BLOCKS = new Blocks();\nexport class Inlines {\n    constructor() {\n        this.names = dict();\n        this.funcs = [];\n    }\n    add(name, func) {\n        this.funcs.push(func);\n        this.names[name] = this.funcs.length - 1;\n    }\n    addMissing(func) {\n        this.missing = func;\n    }\n    compile(sexp, builder) {\n        let value = sexp[1];\n        // TODO: Fix this so that expression macros can return\n        // things like components, so that {{component foo}}\n        // is the same as {{(component foo)}}\n        if (!Array.isArray(value)) return ['expr', value];\n        let name;\n        let params;\n        let hash;\n        if (value[0] === Ops.Helper) {\n            name = value[1];\n            params = value[2];\n            hash = value[3];\n        } else if (value[0] === Ops.Unknown) {\n            name = value[1];\n            params = hash = null;\n        } else {\n            return ['expr', value];\n        }\n        let index = this.names[name];\n        if (index === undefined && this.missing) {\n            let func = this.missing;\n            let returned = func(name, params, hash, builder);\n            return returned === false ? ['expr', value] : returned;\n        } else if (index !== undefined) {\n            let func = this.funcs[index];\n            let returned = func(name, params, hash, builder);\n            return returned === false ? ['expr', value] : returned;\n        } else {\n            return ['expr', value];\n        }\n    }\n}\nexport const INLINES = new Inlines();\npopulateBuiltins(BLOCKS, INLINES);\nexport function populateBuiltins(blocks = new Blocks(), inlines = new Inlines()) {\n    blocks.add('if', (params, _hash, template, inverse, builder) => {\n        //        PutArgs\n        //        Test(Environment)\n        //        Enter(BEGIN, END)\n        // BEGIN: Noop\n        //        JumpUnless(ELSE)\n        //        Evaluate(default)\n        //        Jump(END)\n        // ELSE:  Noop\n        //        Evalulate(inverse)\n        // END:   Noop\n        //        Exit\n        if (!params || params.length !== 1) {\n            throw new Error(`SYNTAX ERROR: #if requires a single argument`);\n        }\n        builder.startLabels();\n        builder.pushFrame();\n        builder.returnTo('END');\n        expr(params[0], builder);\n        builder.test('environment');\n        builder.enter(1);\n        builder.jumpUnless('ELSE');\n        builder.invokeStatic(unwrap(template));\n        if (inverse) {\n            builder.jump('EXIT');\n            builder.label('ELSE');\n            builder.invokeStatic(inverse);\n            builder.label('EXIT');\n            builder.exit();\n            builder.return();\n        } else {\n            builder.label('ELSE');\n            builder.exit();\n            builder.return();\n        }\n        builder.label('END');\n        builder.popFrame();\n        builder.stopLabels();\n    });\n    blocks.add('unless', (params, _hash, template, inverse, builder) => {\n        //        PutArgs\n        //        Test(Environment)\n        //        Enter(BEGIN, END)\n        // BEGIN: Noop\n        //        JumpUnless(ELSE)\n        //        Evaluate(default)\n        //        Jump(END)\n        // ELSE:  Noop\n        //        Evalulate(inverse)\n        // END:   Noop\n        //        Exit\n        if (!params || params.length !== 1) {\n            throw new Error(`SYNTAX ERROR: #unless requires a single argument`);\n        }\n        builder.startLabels();\n        builder.pushFrame();\n        builder.returnTo('END');\n        expr(params[0], builder);\n        builder.test('environment');\n        builder.enter(1);\n        builder.jumpIf('ELSE');\n        builder.invokeStatic(unwrap(template));\n        if (inverse) {\n            builder.jump('EXIT');\n            builder.label('ELSE');\n            builder.invokeStatic(inverse);\n            builder.label('EXIT');\n            builder.exit();\n            builder.return();\n        } else {\n            builder.label('ELSE');\n            builder.exit();\n            builder.return();\n        }\n        builder.label('END');\n        builder.popFrame();\n        builder.stopLabels();\n    });\n    blocks.add('with', (params, _hash, template, inverse, builder) => {\n        //        PutArgs\n        //        Test(Environment)\n        //        Enter(BEGIN, END)\n        // BEGIN: Noop\n        //        JumpUnless(ELSE)\n        //        Evaluate(default)\n        //        Jump(END)\n        // ELSE:  Noop\n        //        Evalulate(inverse)\n        // END:   Noop\n        //        Exit\n        if (!params || params.length !== 1) {\n            throw new Error(`SYNTAX ERROR: #with requires a single argument`);\n        }\n        builder.startLabels();\n        builder.pushFrame();\n        builder.returnTo('END');\n        expr(params[0], builder);\n        builder.dup();\n        builder.test('environment');\n        builder.enter(2);\n        builder.jumpUnless('ELSE');\n        builder.invokeStatic(unwrap(template), 1);\n        if (inverse) {\n            builder.jump('EXIT');\n            builder.label('ELSE');\n            builder.invokeStatic(inverse);\n            builder.label('EXIT');\n            builder.exit();\n            builder.return();\n        } else {\n            builder.label('ELSE');\n            builder.exit();\n            builder.return();\n        }\n        builder.label('END');\n        builder.popFrame();\n        builder.stopLabels();\n    });\n    blocks.add('each', (params, hash, template, inverse, builder) => {\n        //         Enter(BEGIN, END)\n        // BEGIN:  Noop\n        //         PutArgs\n        //         PutIterable\n        //         JumpUnless(ELSE)\n        //         EnterList(BEGIN2, END2)\n        // ITER:   Noop\n        //         NextIter(BREAK)\n        // BEGIN2: Noop\n        //         PushChildScope\n        //         Evaluate(default)\n        //         PopScope\n        // END2:   Noop\n        //         Exit\n        //         Jump(ITER)\n        // BREAK:  Noop\n        //         ExitList\n        //         Jump(END)\n        // ELSE:   Noop\n        //         Evalulate(inverse)\n        // END:    Noop\n        //         Exit\n        builder.startLabels();\n        builder.pushFrame();\n        builder.returnTo('END');\n        if (hash && hash[0][0] === 'key') {\n            expr(hash[1][0], builder);\n        } else {\n            throw new Error('Compile error: #each without key');\n        }\n        expr(params[0], builder);\n        builder.enter(2);\n        builder.putIterator();\n        builder.jumpUnless('ELSE');\n        builder.pushFrame();\n        builder.returnTo('ITER');\n        builder.dup(Register.fp, 1);\n        builder.enterList('BODY');\n        builder.label('ITER');\n        builder.iterate('BREAK');\n        builder.label('BODY');\n        builder.invokeStatic(unwrap(template), 2);\n        builder.pop(2);\n        builder.exit();\n        builder.return();\n        builder.label('BREAK');\n        builder.exitList();\n        builder.popFrame();\n        if (inverse) {\n            builder.jump('EXIT');\n            builder.label('ELSE');\n            builder.invokeStatic(inverse);\n            builder.label('EXIT');\n            builder.exit();\n            builder.return();\n        } else {\n            builder.label('ELSE');\n            builder.exit();\n            builder.return();\n        }\n        builder.label('END');\n        builder.popFrame();\n        builder.stopLabels();\n    });\n    blocks.add('-in-element', (params, hash, template, _inverse, builder) => {\n        if (!params || params.length !== 1) {\n            throw new Error(`SYNTAX ERROR: #-in-element requires a single argument`);\n        }\n        builder.startLabels();\n        builder.pushFrame();\n        builder.returnTo('END');\n        if (hash && hash[0].length) {\n            let [keys, values] = hash;\n            if (keys.length === 1 && keys[0] === 'nextSibling') {\n                expr(values[0], builder);\n            } else {\n                throw new Error(`SYNTAX ERROR: #-in-element does not take a \\`${keys[0]}\\` option`);\n            }\n        } else {\n            expr(null, builder);\n        }\n        expr(params[0], builder);\n        builder.dup();\n        builder.test('simple');\n        builder.enter(3);\n        builder.jumpUnless('ELSE');\n        builder.pushRemoteElement();\n        builder.invokeStatic(unwrap(template));\n        builder.popRemoteElement();\n        builder.label('ELSE');\n        builder.exit();\n        builder.return();\n        builder.label('END');\n        builder.popFrame();\n        builder.stopLabels();\n    });\n    blocks.add('-with-dynamic-vars', (_params, hash, template, _inverse, builder) => {\n        if (hash) {\n            let [names, expressions] = hash;\n            compileList(expressions, builder);\n            builder.pushDynamicScope();\n            builder.bindDynamicScope(names);\n            builder.invokeStatic(unwrap(template));\n            builder.popDynamicScope();\n        } else {\n            builder.invokeStatic(unwrap(template));\n        }\n    });\n    return { blocks, inlines };\n}","import { NULL_REFERENCE, UNDEFINED_REFERENCE } from '../references';\nexport class Constants {\n    constructor() {\n        // `0` means NULL\n        this.references = [];\n        this.strings = [];\n        this.expressions = [];\n        this.arrays = [];\n        this.blocks = [];\n        this.functions = [];\n        this.others = [];\n        this.NULL_REFERENCE = this.reference(NULL_REFERENCE);\n        this.UNDEFINED_REFERENCE = this.reference(UNDEFINED_REFERENCE);\n    }\n    getReference(value) {\n        return this.references[value - 1];\n    }\n    reference(value) {\n        let index = this.references.length;\n        this.references.push(value);\n        return index + 1;\n    }\n    getString(value) {\n        return this.strings[value - 1];\n    }\n    string(value) {\n        let index = this.strings.length;\n        this.strings.push(value);\n        return index + 1;\n    }\n    getExpression(value) {\n        return this.expressions[value - 1];\n    }\n    getArray(value) {\n        return this.arrays[value - 1];\n    }\n    getNames(value) {\n        return this.getArray(value).map(n => this.getString(n));\n    }\n    array(values) {\n        let index = this.arrays.length;\n        this.arrays.push(values);\n        return index + 1;\n    }\n    getBlock(value) {\n        return this.blocks[value - 1];\n    }\n    block(block) {\n        let index = this.blocks.length;\n        this.blocks.push(block);\n        return index + 1;\n    }\n    getFunction(value) {\n        return this.functions[value - 1];\n    }\n    function(f) {\n        let index = this.functions.length;\n        this.functions.push(f);\n        return index + 1;\n    }\n    getOther(value) {\n        return this.others[value - 1];\n    }\n    other(other) {\n        let index = this.others.length;\n        this.others.push(other);\n        return index + 1;\n    }\n}","import { normalizeTextValue } from '../compiled/opcodes/content';\nimport { isSafeString } from '../upsert';\nconst badProtocols = ['javascript:', 'vbscript:'];\nconst badTags = ['A', 'BODY', 'LINK', 'IMG', 'IFRAME', 'BASE', 'FORM'];\nconst badTagsForDataURI = ['EMBED'];\nconst badAttributes = ['href', 'src', 'background', 'action'];\nconst badAttributesForDataURI = ['src'];\nfunction has(array, item) {\n    return array.indexOf(item) !== -1;\n}\nfunction checkURI(tagName, attribute) {\n    return (tagName === null || has(badTags, tagName)) && has(badAttributes, attribute);\n}\nfunction checkDataURI(tagName, attribute) {\n    if (tagName === null) return false;\n    return has(badTagsForDataURI, tagName) && has(badAttributesForDataURI, attribute);\n}\nexport function requiresSanitization(tagName, attribute) {\n    return checkURI(tagName, attribute) || checkDataURI(tagName, attribute);\n}\nexport function sanitizeAttributeValue(env, element, attribute, value) {\n    let tagName = null;\n    if (value === null || value === undefined) {\n        return value;\n    }\n    if (isSafeString(value)) {\n        return value.toHTML();\n    }\n    if (!element) {\n        tagName = null;\n    } else {\n        tagName = element.tagName.toUpperCase();\n    }\n    let str = normalizeTextValue(value);\n    if (checkURI(tagName, attribute)) {\n        let protocol = env.protocolForURL(str);\n        if (has(badProtocols, protocol)) {\n            return `unsafe:${str}`;\n        }\n    }\n    if (checkDataURI(tagName, attribute)) {\n        return `unsafe:${str}`;\n    }\n    return str;\n}","/*\n * @method normalizeProperty\n * @param element {HTMLElement}\n * @param slotName {String}\n * @returns {Object} { name, type }\n */\nexport function normalizeProperty(element, slotName) {\n    let type, normalized;\n    if (slotName in element) {\n        normalized = slotName;\n        type = 'prop';\n    } else {\n        let lower = slotName.toLowerCase();\n        if (lower in element) {\n            type = 'prop';\n            normalized = lower;\n        } else {\n            type = 'attr';\n            normalized = slotName;\n        }\n    }\n    if (type === 'prop' && (normalized.toLowerCase() === 'style' || preferAttr(element.tagName, normalized))) {\n        type = 'attr';\n    }\n    return { normalized, type };\n}\nexport function normalizePropertyValue(value) {\n    if (value === '') {\n        return true;\n    }\n    return value;\n}\n// properties that MUST be set as attributes, due to:\n// * browser bug\n// * strange spec outlier\nconst ATTR_OVERRIDES = {\n    // phantomjs < 2.0 lets you set it as a prop but won't reflect it\n    // back to the attribute. button.getAttribute('type') === null\n    BUTTON: { type: true, form: true },\n    INPUT: {\n        // Some version of IE (like IE9) actually throw an exception\n        // if you set input.type = 'something-unknown'\n        type: true,\n        form: true,\n        // Chrome 46.0.2464.0: 'autocorrect' in document.createElement('input') === false\n        // Safari 8.0.7: 'autocorrect' in document.createElement('input') === false\n        // Mobile Safari (iOS 8.4 simulator): 'autocorrect' in document.createElement('input') === true\n        autocorrect: true,\n        // Chrome 54.0.2840.98: 'list' in document.createElement('input') === true\n        // Safari 9.1.3: 'list' in document.createElement('input') === false\n        list: true\n    },\n    // element.form is actually a legitimate readOnly property, that is to be\n    // mutated, but must be mutated by setAttribute...\n    SELECT: { form: true },\n    OPTION: { form: true },\n    TEXTAREA: { form: true },\n    LABEL: { form: true },\n    FIELDSET: { form: true },\n    LEGEND: { form: true },\n    OBJECT: { form: true }\n};\nfunction preferAttr(tagName, propName) {\n    let tag = ATTR_OVERRIDES[tagName.toUpperCase()];\n    return tag && tag[propName.toLowerCase()] || false;\n}","import { ConcreteBounds } from '../bounds';\nimport { moveNodesBefore } from '../dom/helper';\nlet innerHTMLWrapper = {\n    colgroup: { depth: 2, before: '<table><colgroup>', after: '</colgroup></table>' },\n    table: { depth: 1, before: '<table>', after: '</table>' },\n    tbody: { depth: 2, before: '<table><tbody>', after: '</tbody></table>' },\n    tfoot: { depth: 2, before: '<table><tfoot>', after: '</tfoot></table>' },\n    thead: { depth: 2, before: '<table><thead>', after: '</thead></table>' },\n    tr: { depth: 3, before: '<table><tbody><tr>', after: '</tr></tbody></table>' }\n};\n// Patch:    innerHTML Fix\n// Browsers: IE9\n// Reason:   IE9 don't allow us to set innerHTML on col, colgroup, frameset,\n//           html, style, table, tbody, tfoot, thead, title, tr.\n// Fix:      Wrap the innerHTML we are about to set in its parents, apply the\n//           wrapped innerHTML on a div, then move the unwrapped nodes into the\n//           target position.\nexport function domChanges(document, DOMChangesClass) {\n    if (!document) return DOMChangesClass;\n    if (!shouldApplyFix(document)) {\n        return DOMChangesClass;\n    }\n    let div = document.createElement('div');\n    return class DOMChangesWithInnerHTMLFix extends DOMChangesClass {\n        insertHTMLBefore(parent, nextSibling, html) {\n            if (html === null || html === '') {\n                return super.insertHTMLBefore(parent, nextSibling, html);\n            }\n            let parentTag = parent.tagName.toLowerCase();\n            let wrapper = innerHTMLWrapper[parentTag];\n            if (wrapper === undefined) {\n                return super.insertHTMLBefore(parent, nextSibling, html);\n            }\n            return fixInnerHTML(parent, wrapper, div, html, nextSibling);\n        }\n    };\n}\nexport function treeConstruction(document, DOMTreeConstructionClass) {\n    if (!document) return DOMTreeConstructionClass;\n    if (!shouldApplyFix(document)) {\n        return DOMTreeConstructionClass;\n    }\n    let div = document.createElement('div');\n    return class DOMTreeConstructionWithInnerHTMLFix extends DOMTreeConstructionClass {\n        insertHTMLBefore(parent, html, reference) {\n            if (html === null || html === '') {\n                return super.insertHTMLBefore(parent, html, reference);\n            }\n            let parentTag = parent.tagName.toLowerCase();\n            let wrapper = innerHTMLWrapper[parentTag];\n            if (wrapper === undefined) {\n                return super.insertHTMLBefore(parent, html, reference);\n            }\n            return fixInnerHTML(parent, wrapper, div, html, reference);\n        }\n    };\n}\nfunction fixInnerHTML(parent, wrapper, div, html, reference) {\n    let wrappedHtml = wrapper.before + html + wrapper.after;\n    div.innerHTML = wrappedHtml;\n    let parentNode = div;\n    for (let i = 0; i < wrapper.depth; i++) {\n        parentNode = parentNode.childNodes[0];\n    }\n    let [first, last] = moveNodesBefore(parentNode, parent, reference);\n    return new ConcreteBounds(parent, first, last);\n}\nfunction shouldApplyFix(document) {\n    let table = document.createElement('table');\n    try {\n        table.innerHTML = '<tbody></tbody>';\n    } catch (e) {} finally {\n        if (table.childNodes.length !== 0) {\n            // It worked as expected, no fix required\n            return false;\n        }\n    }\n    return true;\n}","import { ConcreteBounds } from '../bounds';\nimport { moveNodesBefore } from '../dom/helper';\nimport { unwrap } from '@glimmer/util';\nexport const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n// Patch:    insertAdjacentHTML on SVG Fix\n// Browsers: Safari, IE, Edge, Firefox ~33-34\n// Reason:   insertAdjacentHTML does not exist on SVG elements in Safari. It is\n//           present but throws an exception on IE and Edge. Old versions of\n//           Firefox create nodes in the incorrect namespace.\n// Fix:      Since IE and Edge silently fail to create SVG nodes using\n//           innerHTML, and because Firefox may create nodes in the incorrect\n//           namespace using innerHTML on SVG elements, an HTML-string wrapping\n//           approach is used. A pre/post SVG tag is added to the string, then\n//           that whole string is added to a div. The created nodes are plucked\n//           out and applied to the target location on DOM.\nexport function domChanges(document, DOMChangesClass, svgNamespace) {\n    if (!document) return DOMChangesClass;\n    if (!shouldApplyFix(document, svgNamespace)) {\n        return DOMChangesClass;\n    }\n    let div = document.createElement('div');\n    return class DOMChangesWithSVGInnerHTMLFix extends DOMChangesClass {\n        insertHTMLBefore(parent, nextSibling, html) {\n            if (html === null || html === '') {\n                return super.insertHTMLBefore(parent, nextSibling, html);\n            }\n            if (parent.namespaceURI !== svgNamespace) {\n                return super.insertHTMLBefore(parent, nextSibling, html);\n            }\n            return fixSVG(parent, div, html, nextSibling);\n        }\n    };\n}\nexport function treeConstruction(document, TreeConstructionClass, svgNamespace) {\n    if (!document) return TreeConstructionClass;\n    if (!shouldApplyFix(document, svgNamespace)) {\n        return TreeConstructionClass;\n    }\n    let div = document.createElement('div');\n    return class TreeConstructionWithSVGInnerHTMLFix extends TreeConstructionClass {\n        insertHTMLBefore(parent, html, reference) {\n            if (html === null || html === '') {\n                return super.insertHTMLBefore(parent, html, reference);\n            }\n            if (parent.namespaceURI !== svgNamespace) {\n                return super.insertHTMLBefore(parent, html, reference);\n            }\n            return fixSVG(parent, div, html, reference);\n        }\n    };\n}\nfunction fixSVG(parent, div, html, reference) {\n    // IE, Edge: also do not correctly support using `innerHTML` on SVG\n    // namespaced elements. So here a wrapper is used.\n    let wrappedHtml = '<svg>' + html + '</svg>';\n    div.innerHTML = wrappedHtml;\n    let [first, last] = moveNodesBefore(div.firstChild, parent, reference);\n    return new ConcreteBounds(parent, first, last);\n}\nfunction shouldApplyFix(document, svgNamespace) {\n    let svg = document.createElementNS(svgNamespace, 'svg');\n    try {\n        svg['insertAdjacentHTML']('beforeEnd', '<circle></circle>');\n    } catch (e) {\n        // IE, Edge: Will throw, insertAdjacentHTML is unsupported on SVG\n        // Safari: Will throw, insertAdjacentHTML is not present on SVG\n    } finally {\n        // FF: Old versions will create a node in the wrong namespace\n        if (svg.childNodes.length === 1 && unwrap(svg.firstChild).namespaceURI === SVG_NAMESPACE) {\n            // The test worked as expected, no fix required\n            return false;\n        }\n        return true;\n    }\n}","// Patch:    Adjacent text node merging fix\n// Browsers: IE, Edge, Firefox w/o inspector open\n// Reason:   These browsers will merge adjacent text nodes. For exmaple given\n//           <div>Hello</div> with div.insertAdjacentHTML(' world') browsers\n//           with proper behavior will populate div.childNodes with two items.\n//           These browsers will populate it with one merged node instead.\n// Fix:      Add these nodes to a wrapper element, then iterate the childNodes\n//           of that wrapper and move the nodes to their target location. Note\n//           that potential SVG bugs will have been handled before this fix.\n//           Note that this fix must only apply to the previous text node, as\n//           the base implementation of `insertHTMLBefore` already handles\n//           following text nodes correctly.\nexport function domChanges(document, DOMChangesClass) {\n    if (!document) return DOMChangesClass;\n    if (!shouldApplyFix(document)) {\n        return DOMChangesClass;\n    }\n    return class DOMChangesWithTextNodeMergingFix extends DOMChangesClass {\n        constructor(document) {\n            super(document);\n            this.uselessComment = document.createComment('');\n        }\n        insertHTMLBefore(parent, nextSibling, html) {\n            if (html === null) {\n                return super.insertHTMLBefore(parent, nextSibling, html);\n            }\n            let didSetUselessComment = false;\n            let nextPrevious = nextSibling ? nextSibling.previousSibling : parent.lastChild;\n            if (nextPrevious && nextPrevious instanceof Text) {\n                didSetUselessComment = true;\n                parent.insertBefore(this.uselessComment, nextSibling);\n            }\n            let bounds = super.insertHTMLBefore(parent, nextSibling, html);\n            if (didSetUselessComment) {\n                parent.removeChild(this.uselessComment);\n            }\n            return bounds;\n        }\n    };\n}\nexport function treeConstruction(document, TreeConstructionClass) {\n    if (!document) return TreeConstructionClass;\n    if (!shouldApplyFix(document)) {\n        return TreeConstructionClass;\n    }\n    return class TreeConstructionWithTextNodeMergingFix extends TreeConstructionClass {\n        constructor(document) {\n            super(document);\n            this.uselessComment = this.createComment('');\n        }\n        insertHTMLBefore(parent, html, reference) {\n            if (html === null) {\n                return super.insertHTMLBefore(parent, html, reference);\n            }\n            let didSetUselessComment = false;\n            let nextPrevious = reference ? reference.previousSibling : parent.lastChild;\n            if (nextPrevious && nextPrevious instanceof Text) {\n                didSetUselessComment = true;\n                parent.insertBefore(this.uselessComment, reference);\n            }\n            let bounds = super.insertHTMLBefore(parent, html, reference);\n            if (didSetUselessComment) {\n                parent.removeChild(this.uselessComment);\n            }\n            return bounds;\n        }\n    };\n}\nfunction shouldApplyFix(document) {\n    let mergingTextDiv = document.createElement('div');\n    mergingTextDiv.innerHTML = 'first';\n    mergingTextDiv.insertAdjacentHTML('beforeEnd', 'second');\n    if (mergingTextDiv.childNodes.length === 2) {\n        // It worked as expected, no fix required\n        return false;\n    }\n    return true;\n}","import { ConcreteBounds, SingleNodeBounds } from '../bounds';\nimport { domChanges as domChangesTableElementFix, treeConstruction as treeConstructionTableElementFix } from '../compat/inner-html-fix';\nimport { domChanges as domChangesSvgElementFix, treeConstruction as treeConstructionSvgElementFix } from '../compat/svg-inner-html-fix';\nimport { domChanges as domChangesNodeMergingFix, treeConstruction as treeConstructionNodeMergingFix } from '../compat/text-node-merging-fix';\nexport const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n// http://www.w3.org/TR/html/syntax.html#html-integration-point\nconst SVG_INTEGRATION_POINTS = { foreignObject: 1, desc: 1, title: 1 };\n// http://www.w3.org/TR/html/syntax.html#adjust-svg-attributes\n// TODO: Adjust SVG attributes\n// http://www.w3.org/TR/html/syntax.html#parsing-main-inforeign\n// TODO: Adjust SVG elements\n// http://www.w3.org/TR/html/syntax.html#parsing-main-inforeign\nexport const BLACKLIST_TABLE = Object.create(null);\n[\"b\", \"big\", \"blockquote\", \"body\", \"br\", \"center\", \"code\", \"dd\", \"div\", \"dl\", \"dt\", \"em\", \"embed\", \"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\", \"head\", \"hr\", \"i\", \"img\", \"li\", \"listing\", \"main\", \"meta\", \"nobr\", \"ol\", \"p\", \"pre\", \"ruby\", \"s\", \"small\", \"span\", \"strong\", \"strike\", \"sub\", \"sup\", \"table\", \"tt\", \"u\", \"ul\", \"var\"].forEach(tag => BLACKLIST_TABLE[tag] = 1);\nconst WHITESPACE = /[\\t-\\r \\xA0\\u1680\\u180E\\u2000-\\u200A\\u2028\\u2029\\u202F\\u205F\\u3000\\uFEFF]/;\nlet doc = typeof document === 'undefined' ? null : document;\nexport function isWhitespace(string) {\n    return WHITESPACE.test(string);\n}\nexport function moveNodesBefore(source, target, nextSibling) {\n    let first = source.firstChild;\n    let last = null;\n    let current = first;\n    while (current) {\n        last = current;\n        current = current.nextSibling;\n        target.insertBefore(last, nextSibling);\n    }\n    return [first, last];\n}\nexport var DOM;\n(function (DOM) {\n    class TreeConstruction {\n        constructor(document) {\n            this.document = document;\n            this.setupUselessElement();\n        }\n        setupUselessElement() {\n            this.uselessElement = this.document.createElement('div');\n        }\n        createElement(tag, context) {\n            let isElementInSVGNamespace, isHTMLIntegrationPoint;\n            if (context) {\n                isElementInSVGNamespace = context.namespaceURI === SVG_NAMESPACE || tag === 'svg';\n                isHTMLIntegrationPoint = SVG_INTEGRATION_POINTS[context.tagName];\n            } else {\n                isElementInSVGNamespace = tag === 'svg';\n                isHTMLIntegrationPoint = false;\n            }\n            if (isElementInSVGNamespace && !isHTMLIntegrationPoint) {\n                // FIXME: This does not properly handle <font> with color, face, or\n                // size attributes, which is also disallowed by the spec. We should fix\n                // this.\n                if (BLACKLIST_TABLE[tag]) {\n                    throw new Error(`Cannot create a ${tag} inside an SVG context`);\n                }\n                return this.document.createElementNS(SVG_NAMESPACE, tag);\n            } else {\n                return this.document.createElement(tag);\n            }\n        }\n        createElementNS(namespace, tag) {\n            return this.document.createElementNS(namespace, tag);\n        }\n        setAttribute(element, name, value, namespace) {\n            if (namespace) {\n                element.setAttributeNS(namespace, name, value);\n            } else {\n                element.setAttribute(name, value);\n            }\n        }\n        createTextNode(text) {\n            return this.document.createTextNode(text);\n        }\n        createComment(data) {\n            return this.document.createComment(data);\n        }\n        insertBefore(parent, node, reference) {\n            parent.insertBefore(node, reference);\n        }\n        insertHTMLBefore(parent, html, reference) {\n            return insertHTMLBefore(this.uselessElement, parent, reference, html);\n        }\n    }\n    DOM.TreeConstruction = TreeConstruction;\n    let appliedTreeContruction = TreeConstruction;\n    appliedTreeContruction = treeConstructionNodeMergingFix(doc, appliedTreeContruction);\n    appliedTreeContruction = treeConstructionTableElementFix(doc, appliedTreeContruction);\n    appliedTreeContruction = treeConstructionSvgElementFix(doc, appliedTreeContruction, SVG_NAMESPACE);\n    DOM.DOMTreeConstruction = appliedTreeContruction;\n})(DOM || (DOM = {}));\nexport class DOMChanges {\n    constructor(document) {\n        this.document = document;\n        this.namespace = null;\n        this.uselessElement = this.document.createElement('div');\n    }\n    setAttribute(element, name, value) {\n        element.setAttribute(name, value);\n    }\n    setAttributeNS(element, namespace, name, value) {\n        element.setAttributeNS(namespace, name, value);\n    }\n    removeAttribute(element, name) {\n        element.removeAttribute(name);\n    }\n    removeAttributeNS(element, namespace, name) {\n        element.removeAttributeNS(namespace, name);\n    }\n    createTextNode(text) {\n        return this.document.createTextNode(text);\n    }\n    createComment(data) {\n        return this.document.createComment(data);\n    }\n    createElement(tag, context) {\n        let isElementInSVGNamespace, isHTMLIntegrationPoint;\n        if (context) {\n            isElementInSVGNamespace = context.namespaceURI === SVG_NAMESPACE || tag === 'svg';\n            isHTMLIntegrationPoint = SVG_INTEGRATION_POINTS[context.tagName];\n        } else {\n            isElementInSVGNamespace = tag === 'svg';\n            isHTMLIntegrationPoint = false;\n        }\n        if (isElementInSVGNamespace && !isHTMLIntegrationPoint) {\n            // FIXME: This does not properly handle <font> with color, face, or\n            // size attributes, which is also disallowed by the spec. We should fix\n            // this.\n            if (BLACKLIST_TABLE[tag]) {\n                throw new Error(`Cannot create a ${tag} inside an SVG context`);\n            }\n            return this.document.createElementNS(SVG_NAMESPACE, tag);\n        } else {\n            return this.document.createElement(tag);\n        }\n    }\n    insertHTMLBefore(_parent, nextSibling, html) {\n        return insertHTMLBefore(this.uselessElement, _parent, nextSibling, html);\n    }\n    insertNodeBefore(parent, node, reference) {\n        if (isDocumentFragment(node)) {\n            let { firstChild, lastChild } = node;\n            this.insertBefore(parent, node, reference);\n            return new ConcreteBounds(parent, firstChild, lastChild);\n        } else {\n            this.insertBefore(parent, node, reference);\n            return new SingleNodeBounds(parent, node);\n        }\n    }\n    insertTextBefore(parent, nextSibling, text) {\n        let textNode = this.createTextNode(text);\n        this.insertBefore(parent, textNode, nextSibling);\n        return textNode;\n    }\n    insertBefore(element, node, reference) {\n        element.insertBefore(node, reference);\n    }\n    insertAfter(element, node, reference) {\n        this.insertBefore(element, node, reference.nextSibling);\n    }\n}\nexport function insertHTMLBefore(_useless, _parent, _nextSibling, html) {\n    // TypeScript vendored an old version of the DOM spec where `insertAdjacentHTML`\n    // only exists on `HTMLElement` but not on `Element`. We actually work with the\n    // newer version of the DOM API here (and monkey-patch this method in `./compat`\n    // when we detect older browsers). This is a hack to work around this limitation.\n    let parent = _parent;\n    let useless = _useless;\n    let nextSibling = _nextSibling;\n    let prev = nextSibling ? nextSibling.previousSibling : parent.lastChild;\n    let last;\n    if (html === null || html === '') {\n        return new ConcreteBounds(parent, null, null);\n    }\n    if (nextSibling === null) {\n        parent.insertAdjacentHTML('beforeEnd', html);\n        last = parent.lastChild;\n    } else if (nextSibling instanceof HTMLElement) {\n        nextSibling.insertAdjacentHTML('beforeBegin', html);\n        last = nextSibling.previousSibling;\n    } else {\n        // Non-element nodes do not support insertAdjacentHTML, so add an\n        // element and call it on that element. Then remove the element.\n        //\n        // This also protects Edge, IE and Firefox w/o the inspector open\n        // from merging adjacent text nodes. See ./compat/text-node-merging-fix.ts\n        parent.insertBefore(useless, nextSibling);\n        useless.insertAdjacentHTML('beforeBegin', html);\n        last = useless.previousSibling;\n        parent.removeChild(useless);\n    }\n    let first = prev ? prev.nextSibling : parent.firstChild;\n    return new ConcreteBounds(parent, first, last);\n}\nfunction isDocumentFragment(node) {\n    return node.nodeType === Node.DOCUMENT_FRAGMENT_NODE;\n}\nlet helper = DOMChanges;\nhelper = domChangesNodeMergingFix(doc, helper);\nhelper = domChangesTableElementFix(doc, helper);\nhelper = domChangesSvgElementFix(doc, helper, SVG_NAMESPACE);\nexport default helper;\nexport const DOMTreeConstruction = DOM.DOMTreeConstruction;","import { sanitizeAttributeValue, requiresSanitization } from './sanitized-values';\nimport { normalizeProperty } from './props';\nimport { SVG_NAMESPACE } from './helper';\nimport { normalizeTextValue } from '../compiled/opcodes/content';\nexport function defaultManagers(element, attr, _isTrusting, _namespace) {\n    let tagName = element.tagName;\n    let isSVG = element.namespaceURI === SVG_NAMESPACE;\n    if (isSVG) {\n        return defaultAttributeManagers(tagName, attr);\n    }\n    let { type, normalized } = normalizeProperty(element, attr);\n    if (type === 'attr') {\n        return defaultAttributeManagers(tagName, normalized);\n    } else {\n        return defaultPropertyManagers(tagName, normalized);\n    }\n}\nexport function defaultPropertyManagers(tagName, attr) {\n    if (requiresSanitization(tagName, attr)) {\n        return new SafePropertyManager(attr);\n    }\n    if (isUserInputValue(tagName, attr)) {\n        return INPUT_VALUE_PROPERTY_MANAGER;\n    }\n    if (isOptionSelected(tagName, attr)) {\n        return OPTION_SELECTED_MANAGER;\n    }\n    return new PropertyManager(attr);\n}\nexport function defaultAttributeManagers(tagName, attr) {\n    if (requiresSanitization(tagName, attr)) {\n        return new SafeAttributeManager(attr);\n    }\n    return new AttributeManager(attr);\n}\nexport function readDOMAttr(element, attr) {\n    let isSVG = element.namespaceURI === SVG_NAMESPACE;\n    let { type, normalized } = normalizeProperty(element, attr);\n    if (isSVG) {\n        return element.getAttribute(normalized);\n    }\n    if (type === 'attr') {\n        return element.getAttribute(normalized);\n    }\n    {\n        return element[normalized];\n    }\n}\n;\nexport class AttributeManager {\n    constructor(attr) {\n        this.attr = attr;\n    }\n    setAttribute(env, element, value, namespace) {\n        let dom = env.getAppendOperations();\n        let normalizedValue = normalizeAttributeValue(value);\n        if (!isAttrRemovalValue(normalizedValue)) {\n            dom.setAttribute(element, this.attr, normalizedValue, namespace);\n        }\n    }\n    updateAttribute(env, element, value, namespace) {\n        if (value === null || value === undefined || value === false) {\n            if (namespace) {\n                env.getDOM().removeAttributeNS(element, namespace, this.attr);\n            } else {\n                env.getDOM().removeAttribute(element, this.attr);\n            }\n        } else {\n            this.setAttribute(env, element, value);\n        }\n    }\n}\n;\nexport class PropertyManager extends AttributeManager {\n    setAttribute(_env, element, value, _namespace) {\n        if (!isAttrRemovalValue(value)) {\n            element[this.attr] = value;\n        }\n    }\n    removeAttribute(env, element, namespace) {\n        // TODO this sucks but to preserve properties first and to meet current\n        // semantics we must do this.\n        let { attr } = this;\n        if (namespace) {\n            env.getDOM().removeAttributeNS(element, namespace, attr);\n        } else {\n            env.getDOM().removeAttribute(element, attr);\n        }\n    }\n    updateAttribute(env, element, value, namespace) {\n        // ensure the property is always updated\n        element[this.attr] = value;\n        if (isAttrRemovalValue(value)) {\n            this.removeAttribute(env, element, namespace);\n        }\n    }\n}\n;\nfunction normalizeAttributeValue(value) {\n    if (value === false || value === undefined || value === null) {\n        return null;\n    }\n    if (value === true) {\n        return '';\n    }\n    // onclick function etc in SSR\n    if (typeof value === 'function') {\n        return null;\n    }\n    return String(value);\n}\nfunction isAttrRemovalValue(value) {\n    return value === null || value === undefined;\n}\nclass SafePropertyManager extends PropertyManager {\n    setAttribute(env, element, value) {\n        super.setAttribute(env, element, sanitizeAttributeValue(env, element, this.attr, value));\n    }\n    updateAttribute(env, element, value) {\n        super.updateAttribute(env, element, sanitizeAttributeValue(env, element, this.attr, value));\n    }\n}\nfunction isUserInputValue(tagName, attribute) {\n    return (tagName === 'INPUT' || tagName === 'TEXTAREA') && attribute === 'value';\n}\nclass InputValuePropertyManager extends AttributeManager {\n    setAttribute(_env, element, value) {\n        let input = element;\n        input.value = normalizeTextValue(value);\n    }\n    updateAttribute(_env, element, value) {\n        let input = element;\n        let currentValue = input.value;\n        let normalizedValue = normalizeTextValue(value);\n        if (currentValue !== normalizedValue) {\n            input.value = normalizedValue;\n        }\n    }\n}\nexport const INPUT_VALUE_PROPERTY_MANAGER = new InputValuePropertyManager('value');\nfunction isOptionSelected(tagName, attribute) {\n    return tagName === 'OPTION' && attribute === 'selected';\n}\nclass OptionSelectedManager extends PropertyManager {\n    setAttribute(_env, element, value) {\n        if (value !== null && value !== undefined && value !== false) {\n            let option = element;\n            option.selected = true;\n        }\n    }\n    updateAttribute(_env, element, value) {\n        let option = element;\n        if (value) {\n            option.selected = true;\n        } else {\n            option.selected = false;\n        }\n    }\n}\nexport const OPTION_SELECTED_MANAGER = new OptionSelectedManager('selected');\nclass SafeAttributeManager extends AttributeManager {\n    setAttribute(env, element, value) {\n        super.setAttribute(env, element, sanitizeAttributeValue(env, element, this.attr, value));\n    }\n    updateAttribute(env, element, value, _namespace) {\n        super.updateAttribute(env, element, sanitizeAttributeValue(env, element, this.attr, value));\n    }\n}","import { populateBuiltins } from './syntax/functions';\nimport { Constants } from './environment/constants';\nimport { UNDEFINED_REFERENCE, ConditionalReference } from './references';\nimport { defaultManagers } from './dom/attribute-managers';\nimport { assert, ensureGuid, expect } from '@glimmer/util';\nexport class Scope {\n    constructor(\n    // the 0th slot is `self`\n    slots, callerScope,\n    // named arguments and blocks passed to a layout that uses eval\n    evalScope,\n    // locals in scope when the partial was invoked\n    partialMap) {\n        this.slots = slots;\n        this.callerScope = callerScope;\n        this.evalScope = evalScope;\n        this.partialMap = partialMap;\n    }\n    static root(self, size = 0) {\n        let refs = new Array(size + 1);\n        for (let i = 0; i <= size; i++) {\n            refs[i] = UNDEFINED_REFERENCE;\n        }\n        return new Scope(refs, null, null, null).init({ self });\n    }\n    static sized(size = 0) {\n        let refs = new Array(size + 1);\n        for (let i = 0; i <= size; i++) {\n            refs[i] = UNDEFINED_REFERENCE;\n        }\n        return new Scope(refs, null, null, null);\n    }\n    init({ self }) {\n        this.slots[0] = self;\n        return this;\n    }\n    getSelf() {\n        return this.get(0);\n    }\n    getSymbol(symbol) {\n        return this.get(symbol);\n    }\n    getBlock(symbol) {\n        return this.get(symbol);\n    }\n    getEvalScope() {\n        return this.evalScope;\n    }\n    getPartialMap() {\n        return this.partialMap;\n    }\n    bind(symbol, value) {\n        this.set(symbol, value);\n    }\n    bindSelf(self) {\n        this.set(0, self);\n    }\n    bindSymbol(symbol, value) {\n        this.set(symbol, value);\n    }\n    bindBlock(symbol, value) {\n        this.set(symbol, value);\n    }\n    bindEvalScope(map) {\n        this.evalScope = map;\n    }\n    bindPartialMap(map) {\n        this.partialMap = map;\n    }\n    bindCallerScope(scope) {\n        this.callerScope = scope;\n    }\n    getCallerScope() {\n        return this.callerScope;\n    }\n    child() {\n        return new Scope(this.slots.slice(), this.callerScope, this.evalScope, this.partialMap);\n    }\n    get(index) {\n        if (index >= this.slots.length) {\n            throw new RangeError(`BUG: cannot get $${index} from scope; length=${this.slots.length}`);\n        }\n        return this.slots[index];\n    }\n    set(index, value) {\n        if (index >= this.slots.length) {\n            throw new RangeError(`BUG: cannot get $${index} from scope; length=${this.slots.length}`);\n        }\n        this.slots[index] = value;\n    }\n}\nclass Transaction {\n    constructor() {\n        this.scheduledInstallManagers = [];\n        this.scheduledInstallModifiers = [];\n        this.scheduledUpdateModifierManagers = [];\n        this.scheduledUpdateModifiers = [];\n        this.createdComponents = [];\n        this.createdManagers = [];\n        this.updatedComponents = [];\n        this.updatedManagers = [];\n        this.destructors = [];\n    }\n    didCreate(component, manager) {\n        this.createdComponents.push(component);\n        this.createdManagers.push(manager);\n    }\n    didUpdate(component, manager) {\n        this.updatedComponents.push(component);\n        this.updatedManagers.push(manager);\n    }\n    scheduleInstallModifier(modifier, manager) {\n        this.scheduledInstallManagers.push(manager);\n        this.scheduledInstallModifiers.push(modifier);\n    }\n    scheduleUpdateModifier(modifier, manager) {\n        this.scheduledUpdateModifierManagers.push(manager);\n        this.scheduledUpdateModifiers.push(modifier);\n    }\n    didDestroy(d) {\n        this.destructors.push(d);\n    }\n    commit() {\n        let { createdComponents, createdManagers } = this;\n        for (let i = 0; i < createdComponents.length; i++) {\n            let component = createdComponents[i];\n            let manager = createdManagers[i];\n            manager.didCreate(component);\n        }\n        let { updatedComponents, updatedManagers } = this;\n        for (let i = 0; i < updatedComponents.length; i++) {\n            let component = updatedComponents[i];\n            let manager = updatedManagers[i];\n            manager.didUpdate(component);\n        }\n        let { destructors } = this;\n        for (let i = 0; i < destructors.length; i++) {\n            destructors[i].destroy();\n        }\n        let { scheduledInstallManagers, scheduledInstallModifiers } = this;\n        for (let i = 0; i < scheduledInstallManagers.length; i++) {\n            let manager = scheduledInstallManagers[i];\n            let modifier = scheduledInstallModifiers[i];\n            manager.install(modifier);\n        }\n        let { scheduledUpdateModifierManagers, scheduledUpdateModifiers } = this;\n        for (let i = 0; i < scheduledUpdateModifierManagers.length; i++) {\n            let manager = scheduledUpdateModifierManagers[i];\n            let modifier = scheduledUpdateModifiers[i];\n            manager.update(modifier);\n        }\n    }\n}\nexport class Opcode {\n    constructor(array) {\n        this.array = array;\n        this.offset = 0;\n    }\n    get type() {\n        return this.array[this.offset];\n    }\n    get op1() {\n        return this.array[this.offset + 1];\n    }\n    get op2() {\n        return this.array[this.offset + 2];\n    }\n    get op3() {\n        return this.array[this.offset + 3];\n    }\n}\nexport class Program {\n    constructor() {\n        this.opcodes = [];\n        this._offset = 0;\n        this._opcode = new Opcode(this.opcodes);\n    }\n    get next() {\n        return this._offset;\n    }\n    get current() {\n        return this._offset - 4;\n    }\n    opcode(offset) {\n        this._opcode.offset = offset;\n        return this._opcode;\n    }\n    set(pos, type, op1 = 0, op2 = 0, op3 = 0) {\n        this.opcodes[pos] = type;\n        this.opcodes[pos + 1] = op1;\n        this.opcodes[pos + 2] = op2;\n        this.opcodes[pos + 3] = op3;\n    }\n    push(type, op1 = 0, op2 = 0, op3 = 0) {\n        let offset = this._offset;\n        this.opcodes[this._offset++] = type;\n        this.opcodes[this._offset++] = op1;\n        this.opcodes[this._offset++] = op2;\n        this.opcodes[this._offset++] = op3;\n        return offset;\n    }\n}\nexport class Environment {\n    constructor({ appendOperations, updateOperations }) {\n        this._macros = null;\n        this._transaction = null;\n        this.constants = new Constants();\n        this.program = new Program();\n        this.appendOperations = appendOperations;\n        this.updateOperations = updateOperations;\n    }\n    toConditionalReference(reference) {\n        return new ConditionalReference(reference);\n    }\n    getAppendOperations() {\n        return this.appendOperations;\n    }\n    getDOM() {\n        return this.updateOperations;\n    }\n    getIdentity(object) {\n        return ensureGuid(object) + '';\n    }\n    begin() {\n        assert(!this._transaction, 'Cannot start a nested transaction');\n        this._transaction = new Transaction();\n    }\n    get transaction() {\n        return expect(this._transaction, 'must be in a transaction');\n    }\n    didCreate(component, manager) {\n        this.transaction.didCreate(component, manager);\n    }\n    didUpdate(component, manager) {\n        this.transaction.didUpdate(component, manager);\n    }\n    scheduleInstallModifier(modifier, manager) {\n        this.transaction.scheduleInstallModifier(modifier, manager);\n    }\n    scheduleUpdateModifier(modifier, manager) {\n        this.transaction.scheduleUpdateModifier(modifier, manager);\n    }\n    didDestroy(d) {\n        this.transaction.didDestroy(d);\n    }\n    commit() {\n        this.transaction.commit();\n        this._transaction = null;\n    }\n    attributeFor(element, attr, isTrusting, namespace) {\n        return defaultManagers(element, attr, isTrusting, namespace === undefined ? null : namespace);\n    }\n    macros() {\n        let macros = this._macros;\n        if (!macros) {\n            this._macros = macros = this.populateBuiltins();\n        }\n        return macros;\n    }\n    populateBuiltins() {\n        return populateBuiltins();\n    }\n}\nexport default Environment;","import { clear, move as moveBounds } from '../bounds';\nimport { ElementStack } from '../builder';\nimport { Stack, LinkedList, dict, expect } from '@glimmer/util';\nimport { IteratorSynchronizer,\n// Tags\ncombine, UpdatableTag, combineSlice, CONSTANT_TAG, INITIAL } from '@glimmer/reference';\nimport { UpdatingOpcode } from '../opcodes';\nimport VM, { EvaluationStack } from './append';\nexport default class UpdatingVM {\n    constructor(env, { alwaysRevalidate = false }) {\n        this.frameStack = new Stack();\n        this.env = env;\n        this.constants = env.constants;\n        this.dom = env.getDOM();\n        this.alwaysRevalidate = alwaysRevalidate;\n    }\n    execute(opcodes, handler) {\n        let { frameStack } = this;\n        this.try(opcodes, handler);\n        while (true) {\n            if (frameStack.isEmpty()) break;\n            let opcode = this.frame.nextStatement();\n            if (opcode === null) {\n                this.frameStack.pop();\n                continue;\n            }\n            opcode.evaluate(this);\n        }\n    }\n    get frame() {\n        return expect(this.frameStack.current, 'bug: expected a frame');\n    }\n    goto(op) {\n        this.frame.goto(op);\n    }\n    try(ops, handler) {\n        this.frameStack.push(new UpdatingVMFrame(this, ops, handler));\n    }\n    throw() {\n        this.frame.handleException();\n        this.frameStack.pop();\n    }\n    evaluateOpcode(opcode) {\n        opcode.evaluate(this);\n    }\n}\nexport class BlockOpcode extends UpdatingOpcode {\n    constructor(start, state, bounds, children) {\n        super();\n        this.start = start;\n        this.type = \"block\";\n        this.next = null;\n        this.prev = null;\n        let { env, scope, dynamicScope, stack } = state;\n        this.children = children;\n        this.env = env;\n        this.scope = scope;\n        this.dynamicScope = dynamicScope;\n        this.stack = stack;\n        this.bounds = bounds;\n    }\n    parentElement() {\n        return this.bounds.parentElement();\n    }\n    firstNode() {\n        return this.bounds.firstNode();\n    }\n    lastNode() {\n        return this.bounds.lastNode();\n    }\n    evaluate(vm) {\n        vm.try(this.children, null);\n    }\n    destroy() {\n        this.bounds.destroy();\n    }\n    didDestroy() {\n        this.env.didDestroy(this.bounds);\n    }\n    toJSON() {\n        let details = dict();\n        details[\"guid\"] = `${this._guid}`;\n        return {\n            guid: this._guid,\n            type: this.type,\n            details,\n            children: this.children.toArray().map(op => op.toJSON())\n        };\n    }\n}\nexport class TryOpcode extends BlockOpcode {\n    constructor(start, state, bounds, children) {\n        super(start, state, bounds, children);\n        this.type = \"try\";\n        this.tag = this._tag = UpdatableTag.create(CONSTANT_TAG);\n    }\n    didInitializeChildren() {\n        this._tag.inner.update(combineSlice(this.children));\n    }\n    evaluate(vm) {\n        vm.try(this.children, this);\n    }\n    handleException() {\n        let { env, bounds, children, scope, dynamicScope, start, stack, prev, next } = this;\n        children.clear();\n        let elementStack = ElementStack.resume(env, bounds, bounds.reset(env));\n        let vm = new VM(env, scope, dynamicScope, elementStack);\n        let updating = new LinkedList();\n        vm.execute(start, vm => {\n            vm.stack = EvaluationStack.restore(stack);\n            vm.updatingOpcodeStack.push(updating);\n            vm.updateWith(this);\n            vm.updatingOpcodeStack.push(children);\n        });\n        this.prev = prev;\n        this.next = next;\n    }\n    toJSON() {\n        let json = super.toJSON();\n        let details = json[\"details\"];\n        if (!details) {\n            details = json[\"details\"] = {};\n        }\n        return super.toJSON();\n    }\n}\nclass ListRevalidationDelegate {\n    constructor(opcode, marker) {\n        this.opcode = opcode;\n        this.marker = marker;\n        this.didInsert = false;\n        this.didDelete = false;\n        this.map = opcode.map;\n        this.updating = opcode['children'];\n    }\n    insert(key, item, memo, before) {\n        let { map, opcode, updating } = this;\n        let nextSibling = null;\n        let reference = null;\n        if (before) {\n            reference = map[before];\n            nextSibling = reference['bounds'].firstNode();\n        } else {\n            nextSibling = this.marker;\n        }\n        let vm = opcode.vmForInsertion(nextSibling);\n        let tryOpcode = null;\n        let { start } = opcode;\n        vm.execute(start, vm => {\n            map[key] = tryOpcode = vm.iterate(memo, item);\n            vm.updatingOpcodeStack.push(new LinkedList());\n            vm.updateWith(tryOpcode);\n            vm.updatingOpcodeStack.push(tryOpcode.children);\n        });\n        updating.insertBefore(tryOpcode, reference);\n        this.didInsert = true;\n    }\n    retain(_key, _item, _memo) {}\n    move(key, _item, _memo, before) {\n        let { map, updating } = this;\n        let entry = map[key];\n        let reference = map[before] || null;\n        if (before) {\n            moveBounds(entry, reference.firstNode());\n        } else {\n            moveBounds(entry, this.marker);\n        }\n        updating.remove(entry);\n        updating.insertBefore(entry, reference);\n    }\n    delete(key) {\n        let { map } = this;\n        let opcode = map[key];\n        opcode.didDestroy();\n        clear(opcode);\n        this.updating.remove(opcode);\n        delete map[key];\n        this.didDelete = true;\n    }\n    done() {\n        this.opcode.didInitializeChildren(this.didInsert || this.didDelete);\n    }\n}\nexport class ListBlockOpcode extends BlockOpcode {\n    constructor(start, state, bounds, children, artifacts) {\n        super(start, state, bounds, children);\n        this.type = \"list-block\";\n        this.map = dict();\n        this.lastIterated = INITIAL;\n        this.artifacts = artifacts;\n        let _tag = this._tag = UpdatableTag.create(CONSTANT_TAG);\n        this.tag = combine([artifacts.tag, _tag]);\n    }\n    didInitializeChildren(listDidChange = true) {\n        this.lastIterated = this.artifacts.tag.value();\n        if (listDidChange) {\n            this._tag.inner.update(combineSlice(this.children));\n        }\n    }\n    evaluate(vm) {\n        let { artifacts, lastIterated } = this;\n        if (!artifacts.tag.validate(lastIterated)) {\n            let { bounds } = this;\n            let { dom } = vm;\n            let marker = dom.createComment('');\n            dom.insertAfter(bounds.parentElement(), marker, expect(bounds.lastNode(), \"can't insert after an empty bounds\"));\n            let target = new ListRevalidationDelegate(this, marker);\n            let synchronizer = new IteratorSynchronizer({ target, artifacts });\n            synchronizer.sync();\n            this.parentElement().removeChild(marker);\n        }\n        // Run now-updated updating opcodes\n        super.evaluate(vm);\n    }\n    vmForInsertion(nextSibling) {\n        let { env, scope, dynamicScope } = this;\n        let elementStack = ElementStack.forInitialRender(this.env, this.bounds.parentElement(), nextSibling);\n        return new VM(env, scope, dynamicScope, elementStack);\n    }\n    toJSON() {\n        let json = super.toJSON();\n        let map = this.map;\n        let inner = Object.keys(map).map(key => {\n            return `${JSON.stringify(key)}: ${map[key]._guid}`;\n        }).join(\", \");\n        let details = json[\"details\"];\n        if (!details) {\n            details = json[\"details\"] = {};\n        }\n        details[\"map\"] = `{${inner}}`;\n        return json;\n    }\n}\nclass UpdatingVMFrame {\n    constructor(vm, ops, exceptionHandler) {\n        this.vm = vm;\n        this.ops = ops;\n        this.exceptionHandler = exceptionHandler;\n        this.vm = vm;\n        this.ops = ops;\n        this.current = ops.head();\n    }\n    goto(op) {\n        this.current = op;\n    }\n    nextStatement() {\n        let { current, ops } = this;\n        if (current) this.current = ops.nextNode(current);\n        return current;\n    }\n    handleException() {\n        if (this.exceptionHandler) {\n            this.exceptionHandler.handleException();\n        }\n    }\n}","import { clear } from '../bounds';\nimport UpdatingVM from './update';\nexport default class RenderResult {\n    constructor(env, updating, bounds) {\n        this.env = env;\n        this.updating = updating;\n        this.bounds = bounds;\n    }\n    rerender({ alwaysRevalidate = false } = { alwaysRevalidate: false }) {\n        let { env, updating } = this;\n        let vm = new UpdatingVM(env, { alwaysRevalidate });\n        vm.execute(updating, this);\n    }\n    parentElement() {\n        return this.bounds.parentElement();\n    }\n    firstNode() {\n        return this.bounds.firstNode();\n    }\n    lastNode() {\n        return this.bounds.lastNode();\n    }\n    opcodes() {\n        return this.updating;\n    }\n    handleException() {\n        throw \"this should never happen\";\n    }\n    destroy() {\n        this.bounds.destroy();\n        clear(this.bounds);\n    }\n}","import { Register } from '../opcodes';\nimport { Scope } from '../environment';\nimport { Stack, LinkedList, ListSlice, expect } from '@glimmer/util';\nimport { combineSlice } from '@glimmer/reference';\nimport { LabelOpcode, JumpIfNotModifiedOpcode, DidModifyOpcode } from '../compiled/opcodes/vm';\nimport { ListBlockOpcode, TryOpcode } from './update';\nimport RenderResult from './render-result';\nimport { APPEND_OPCODES } from '../opcodes';\nexport class EvaluationStack {\n    constructor(stack, fp, sp) {\n        this.stack = stack;\n        this.fp = fp;\n        this.sp = sp;\n        Object.seal(this);\n    }\n    static empty() {\n        return new this([], 0, -1);\n    }\n    static restore(snapshot) {\n        return new this(snapshot.slice(), 0, snapshot.length - 1);\n    }\n    isEmpty() {\n        return this.sp === -1;\n    }\n    push(value) {\n        this.stack[++this.sp] = value;\n    }\n    dup(position = this.sp) {\n        this.push(this.stack[position]);\n    }\n    pop(n = 1) {\n        let top = this.stack[this.sp];\n        this.sp -= n;\n        return top;\n    }\n    peek() {\n        return this.stack[this.sp];\n    }\n    fromBase(offset) {\n        return this.stack[this.fp - offset];\n    }\n    fromTop(offset) {\n        return this.stack[this.sp - offset];\n    }\n    capture(items) {\n        let end = this.sp + 1;\n        let start = end - items;\n        return this.stack.slice(start, end);\n    }\n    toArray() {\n        return this.stack.slice(this.fp, this.sp + 1);\n    }\n}\nexport default class VM {\n    constructor(env, scope, dynamicScope, elementStack) {\n        this.env = env;\n        this.elementStack = elementStack;\n        this.dynamicScopeStack = new Stack();\n        this.scopeStack = new Stack();\n        this.updatingOpcodeStack = new Stack();\n        this.cacheGroups = new Stack();\n        this.listBlockStack = new Stack();\n        this.stack = EvaluationStack.empty();\n        /** Registers **/\n        this.pc = -1;\n        this.ra = -1;\n        this.s0 = null;\n        this.s1 = null;\n        this.t0 = null;\n        this.t1 = null;\n        this.env = env;\n        this.constants = env.constants;\n        this.elementStack = elementStack;\n        this.scopeStack.push(scope);\n        this.dynamicScopeStack.push(dynamicScope);\n    }\n    get fp() {\n        return this.stack.fp;\n    }\n    set fp(fp) {\n        this.stack.fp = fp;\n    }\n    get sp() {\n        return this.stack.sp;\n    }\n    set sp(sp) {\n        this.stack.sp = sp;\n    }\n    // Fetch a value from a register onto the stack\n    fetch(register) {\n        this.stack.push(this[Register[register]]);\n    }\n    // Load a value from the stack into a register\n    load(register) {\n        this[Register[register]] = this.stack.pop();\n    }\n    // Fetch a value from a register\n    fetchValue(register) {\n        return this[Register[register]];\n    }\n    // Load a value into a register\n    loadValue(register, value) {\n        this[Register[register]] = value;\n    }\n    // Start a new frame and save $ra and $fp on the stack\n    pushFrame() {\n        this.stack.push(this.ra);\n        this.stack.push(this.fp);\n        this.fp = this.sp - 1;\n        // this.fp = this.sp + 1;\n    }\n    // Restore $ra, $sp and $fp\n    popFrame() {\n        this.sp = this.fp - 1;\n        this.ra = this.stack.fromBase(0);\n        this.fp = this.stack.fromBase(-1);\n    }\n    // Jump to an address in `program`\n    goto(pc) {\n        this.pc = pc;\n    }\n    // Save $pc into $ra, then jump to a new address in `program` (jal in MIPS)\n    call(pc) {\n        this.ra = this.pc;\n        this.pc = pc;\n    }\n    // Put a specific `program` address in $ra\n    returnTo(ra) {\n        this.ra = ra;\n    }\n    // Return to the `program` address stored in $ra\n    return() {\n        this.pc = this.ra;\n    }\n    static initial(env, self, dynamicScope, elementStack, program) {\n        let scope = Scope.root(self, program.symbolTable.symbols.length);\n        let vm = new VM(env, scope, dynamicScope, elementStack);\n        vm.pc = program.start;\n        vm.updatingOpcodeStack.push(new LinkedList());\n        return vm;\n    }\n    capture(args) {\n        return {\n            env: this.env,\n            scope: this.scope(),\n            dynamicScope: this.dynamicScope(),\n            stack: this.stack.capture(args)\n        };\n    }\n    beginCacheGroup() {\n        this.cacheGroups.push(this.updating().tail());\n    }\n    commitCacheGroup() {\n        //        JumpIfNotModified(END)\n        //        (head)\n        //        (....)\n        //        (tail)\n        //        DidModify\n        // END:   Noop\n        let END = new LabelOpcode(\"END\");\n        let opcodes = this.updating();\n        let marker = this.cacheGroups.pop();\n        let head = marker ? opcodes.nextNode(marker) : opcodes.head();\n        let tail = opcodes.tail();\n        let tag = combineSlice(new ListSlice(head, tail));\n        let guard = new JumpIfNotModifiedOpcode(tag, END);\n        opcodes.insertBefore(guard, head);\n        opcodes.append(new DidModifyOpcode(guard));\n        opcodes.append(END);\n    }\n    enter(args) {\n        let updating = new LinkedList();\n        let state = this.capture(args);\n        let tracker = this.elements().pushUpdatableBlock();\n        let tryOpcode = new TryOpcode(this.pc, state, tracker, updating);\n        this.didEnter(tryOpcode);\n    }\n    iterate(memo, value) {\n        let stack = this.stack;\n        stack.push(value);\n        stack.push(memo);\n        let state = this.capture(2);\n        let tracker = this.elements().pushUpdatableBlock();\n        // let ip = this.ip;\n        // this.ip = end + 4;\n        // this.frames.push(ip);\n        return new TryOpcode(this.pc, state, tracker, new LinkedList());\n    }\n    enterItem(key, opcode) {\n        this.listBlock().map[key] = opcode;\n        this.didEnter(opcode);\n    }\n    enterList(start) {\n        let updating = new LinkedList();\n        let state = this.capture(0);\n        let tracker = this.elements().pushBlockList(updating);\n        let artifacts = this.stack.peek().artifacts;\n        let opcode = new ListBlockOpcode(start, state, tracker, updating, artifacts);\n        this.listBlockStack.push(opcode);\n        this.didEnter(opcode);\n    }\n    didEnter(opcode) {\n        this.updateWith(opcode);\n        this.updatingOpcodeStack.push(opcode.children);\n    }\n    exit() {\n        this.elements().popBlock();\n        this.updatingOpcodeStack.pop();\n        let parent = this.updating().tail();\n        parent.didInitializeChildren();\n    }\n    exitList() {\n        this.exit();\n        this.listBlockStack.pop();\n    }\n    updateWith(opcode) {\n        this.updating().append(opcode);\n    }\n    listBlock() {\n        return expect(this.listBlockStack.current, 'expected a list block');\n    }\n    updating() {\n        return expect(this.updatingOpcodeStack.current, 'expected updating opcode on the updating opcode stack');\n    }\n    elements() {\n        return this.elementStack;\n    }\n    scope() {\n        return expect(this.scopeStack.current, 'expected scope on the scope stack');\n    }\n    dynamicScope() {\n        return expect(this.dynamicScopeStack.current, 'expected dynamic scope on the dynamic scope stack');\n    }\n    pushChildScope() {\n        this.scopeStack.push(this.scope().child());\n    }\n    pushCallerScope(childScope = false) {\n        let callerScope = expect(this.scope().getCallerScope(), 'pushCallerScope is called when a caller scope is present');\n        this.scopeStack.push(childScope ? callerScope.child() : callerScope);\n    }\n    pushDynamicScope() {\n        let child = this.dynamicScope().child();\n        this.dynamicScopeStack.push(child);\n        return child;\n    }\n    pushRootScope(size, bindCaller) {\n        let scope = Scope.sized(size);\n        if (bindCaller) scope.bindCallerScope(this.scope());\n        this.scopeStack.push(scope);\n        return scope;\n    }\n    popScope() {\n        this.scopeStack.pop();\n    }\n    popDynamicScope() {\n        this.dynamicScopeStack.pop();\n    }\n    newDestroyable(d) {\n        this.elements().newDestroyable(d);\n    }\n    /// SCOPE HELPERS\n    getSelf() {\n        return this.scope().getSelf();\n    }\n    referenceForSymbol(symbol) {\n        return this.scope().getSymbol(symbol);\n    }\n    /// EXECUTION\n    execute(start, initialize) {\n        this.pc = start;\n        if (initialize) initialize(this);\n        let result;\n        while (true) {\n            result = this.next();\n            if (result.done) break;\n        }\n        return result.value;\n    }\n    next() {\n        let { env, updatingOpcodeStack, elementStack } = this;\n        let opcode;\n        if (opcode = this.nextStatement(env)) {\n            APPEND_OPCODES.evaluate(this, opcode, opcode.type);\n            return { done: false, value: null };\n        }\n        return {\n            done: true,\n            value: new RenderResult(env, expect(updatingOpcodeStack.pop(), 'there should be a final updating opcode stack'), elementStack.popBlock())\n        };\n    }\n    nextStatement(env) {\n        let { pc } = this;\n        if (pc === -1) {\n            return null;\n        }\n        let program = env.program;\n        this.pc += 4;\n        return program.opcode(pc);\n    }\n    evaluateOpcode(opcode) {\n        APPEND_OPCODES.evaluate(this, opcode, opcode.type);\n    }\n    bindDynamicScope(names) {\n        let scope = this.dynamicScope();\n        for (let i = names.length - 1; i >= 0; i--) {\n            let name = this.constants.getString(names[i]);\n            scope.set(name, this.stack.pop());\n        }\n    }\n}","import { assign, EMPTY_ARRAY } from '@glimmer/util';\nimport { ElementStack } from './builder';\nimport { VM } from './vm';\nimport Scanner from './scanner';\nexport class TemplateIterator {\n    constructor(vm) {\n        this.vm = vm;\n    }\n    next() {\n        return this.vm.next();\n    }\n}\nlet clientId = 0;\nexport default function templateFactory({ id: templateId, meta, block }) {\n    let parsedBlock;\n    let id = templateId || `client-${clientId++}`;\n    let create = (env, envMeta) => {\n        let newMeta = envMeta ? assign({}, envMeta, meta) : meta;\n        if (!parsedBlock) {\n            parsedBlock = JSON.parse(block);\n        }\n        return new ScannableTemplate(id, newMeta, env, parsedBlock);\n    };\n    return { id, meta, create };\n}\nclass ScannableTemplate {\n    constructor(id, meta, env, rawBlock) {\n        this.id = id;\n        this.meta = meta;\n        this.env = env;\n        this.entryPoint = null;\n        this.layout = null;\n        this.partial = null;\n        this.block = null;\n        this.scanner = new Scanner(rawBlock, env);\n        this.symbols = rawBlock.symbols;\n        this.hasEval = rawBlock.hasEval;\n    }\n    render(self, appendTo, dynamicScope) {\n        let { env } = this;\n        let elementStack = ElementStack.forInitialRender(env, appendTo, null);\n        let compiled = this.asEntryPoint().compileDynamic(env);\n        let vm = VM.initial(env, self, dynamicScope, elementStack, compiled);\n        return new TemplateIterator(vm);\n    }\n    asEntryPoint() {\n        if (!this.entryPoint) this.entryPoint = this.scanner.scanEntryPoint(this.compilationMeta());\n        return this.entryPoint;\n    }\n    asLayout(attrs) {\n        if (!this.layout) this.layout = this.scanner.scanLayout(this.compilationMeta(), attrs || EMPTY_ARRAY);\n        return this.layout;\n    }\n    asPartial() {\n        if (!this.partial) this.partial = this.scanner.scanEntryPoint(this.compilationMeta(true));\n        return this.partial;\n    }\n    asBlock() {\n        if (!this.block) this.block = this.scanner.scanBlock(this.compilationMeta());\n        return this.block;\n    }\n    compilationMeta(asPartial = false) {\n        return { templateMeta: this.meta, symbols: this.symbols, asPartial };\n    }\n}","export var NodeType;\n(function (NodeType) {\n    NodeType[NodeType[\"Element\"] = 0] = \"Element\";\n    NodeType[NodeType[\"Attribute\"] = 1] = \"Attribute\";\n    NodeType[NodeType[\"Text\"] = 2] = \"Text\";\n    NodeType[NodeType[\"CdataSection\"] = 3] = \"CdataSection\";\n    NodeType[NodeType[\"EntityReference\"] = 4] = \"EntityReference\";\n    NodeType[NodeType[\"Entity\"] = 5] = \"Entity\";\n    NodeType[NodeType[\"ProcessingInstruction\"] = 6] = \"ProcessingInstruction\";\n    NodeType[NodeType[\"Comment\"] = 7] = \"Comment\";\n    NodeType[NodeType[\"Document\"] = 8] = \"Document\";\n    NodeType[NodeType[\"DocumentType\"] = 9] = \"DocumentType\";\n    NodeType[NodeType[\"DocumentFragment\"] = 10] = \"DocumentFragment\";\n    NodeType[NodeType[\"Notation\"] = 11] = \"Notation\";\n})(NodeType || (NodeType = {}));","export function EMPTY_CACHE() {}","import { EMPTY_CACHE } from '../utils';\nimport { dict } from '@glimmer/util';\nimport Meta from '../meta';\nimport { PropertyReference } from './descriptors';\nimport { VOLATILE_TAG } from '@glimmer/reference';\nexport default class PathReference {\n    constructor(parent, property) {\n        this.cache = EMPTY_CACHE;\n        this.inner = null;\n        this.chains = null;\n        this.lastParentValue = EMPTY_CACHE;\n        this._guid = 0;\n        this.tag = VOLATILE_TAG;\n        this.parent = parent;\n        this.property = property;\n    }\n    value() {\n        let { lastParentValue, property, inner } = this;\n        let parentValue = this._parentValue();\n        if (parentValue === null || parentValue === undefined) {\n            return this.cache = undefined;\n        }\n        if (lastParentValue === parentValue) {\n            inner = this.inner;\n        } else {\n            let ReferenceType = typeof parentValue === 'object' ? Meta.for(parentValue).referenceTypeFor(property) : PropertyReference;\n            inner = this.inner = new ReferenceType(parentValue, property, this);\n        }\n        // if (typeof parentValue === 'object') {\n        //   Meta.for(parentValue).addReference(property, this);\n        // }\n        return this.cache = inner.value();\n    }\n    get(prop) {\n        let chains = this._getChains();\n        if (prop in chains) return chains[prop];\n        return chains[prop] = new PathReference(this, prop);\n    }\n    label() {\n        return '[reference Direct]';\n    }\n    _getChains() {\n        if (this.chains) return this.chains;\n        return this.chains = dict();\n    }\n    _parentValue() {\n        let parent = this.parent.value();\n        this.lastParentValue = parent;\n        return parent;\n    }\n}\nexport { PathReference };","import { dict } from '@glimmer/util';\nimport { PathReference } from './path';\nimport { VOLATILE_TAG } from '@glimmer/reference';\nexport default class RootReference {\n    constructor(object) {\n        this.chains = dict();\n        this.tag = VOLATILE_TAG;\n        this.object = object;\n    }\n    value() {\n        return this.object;\n    }\n    update(object) {\n        this.object = object;\n        // this.notify();\n    }\n    get(prop) {\n        let chains = this.chains;\n        if (prop in chains) return chains[prop];\n        return chains[prop] = new PathReference(this, prop);\n    }\n    chainFor(prop) {\n        let chains = this.chains;\n        if (prop in chains) return chains[prop];\n        return null;\n    }\n    path(string) {\n        return string.split('.').reduce((ref, part) => ref.get(part), this);\n    }\n    referenceFromParts(parts) {\n        return parts.reduce((ref, part) => ref.get(part), this);\n    }\n    label() {\n        return '[reference Root]';\n    }\n}","import { PropertyReference } from './references/descriptors';\nimport RootReference from './references/root';\nimport { DictSet, dict } from '@glimmer/util';\nimport { VOLATILE_TAG } from '@glimmer/reference';\nconst NOOP_DESTROY = { destroy() {} };\nclass ConstPath {\n    constructor(parent, _property) {\n        this.tag = VOLATILE_TAG;\n        this.parent = parent;\n    }\n    chain() {\n        return NOOP_DESTROY;\n    }\n    notify() {}\n    value() {\n        return this.parent[this.property];\n    }\n    get(prop) {\n        return new ConstPath(this.parent[this.property], prop);\n    }\n}\nclass ConstRoot {\n    constructor(value) {\n        this.tag = VOLATILE_TAG;\n        this.inner = value;\n    }\n    update(inner) {\n        this.inner = inner;\n    }\n    chain() {\n        return NOOP_DESTROY;\n    }\n    notify() {}\n    value() {\n        return this.inner;\n    }\n    referenceFromParts(_parts) {\n        throw new Error(\"Not implemented\");\n    }\n    chainFor(_prop) {\n        throw new Error(\"Not implemented\");\n    }\n    get(prop) {\n        return new ConstPath(this.inner, prop);\n    }\n}\nclass ConstMeta /*implements IMeta*/ {\n    constructor(object) {\n        this.object = object;\n    }\n    root() {\n        return new ConstRoot(this.object);\n    }\n}\nexport const CLASS_META = \"df8be4c8-4e89-44e2-a8f9-550c8dacdca7\";\nconst hasOwnProperty = Object.hasOwnProperty;\nclass Meta {\n    constructor(object, { RootReferenceFactory, DefaultPathReferenceFactory }) {\n        this.references = null;\n        this.slots = null;\n        this.referenceTypes = null;\n        this.propertyMetadata = null;\n        this.object = object;\n        this.RootReferenceFactory = RootReferenceFactory || RootReference;\n        this.DefaultPathReferenceFactory = DefaultPathReferenceFactory || PropertyReference;\n    }\n    static for(obj) {\n        if (obj === null || obj === undefined) return new Meta(obj, {});\n        if (hasOwnProperty.call(obj, '_meta') && obj._meta) return obj._meta;\n        if (!Object.isExtensible(obj)) return new ConstMeta(obj);\n        let MetaToUse = Meta;\n        if (obj.constructor && obj.constructor[CLASS_META]) {\n            let classMeta = obj.constructor[CLASS_META];\n            MetaToUse = classMeta.InstanceMetaConstructor;\n        } else if (obj[CLASS_META]) {\n            MetaToUse = obj[CLASS_META].InstanceMetaConstructor;\n        }\n        return obj._meta = new MetaToUse(obj, {});\n    }\n    static exists(obj) {\n        return typeof obj === 'object' && obj._meta;\n    }\n    static metadataForProperty(_key) {\n        return null;\n    }\n    addReference(property, reference) {\n        let refs = this.references = this.references || dict();\n        let set = refs[property] = refs[property] || new DictSet();\n        set.add(reference);\n    }\n    addReferenceTypeFor(property, type) {\n        this.referenceTypes = this.referenceTypes || dict();\n        this.referenceTypes[property] = type;\n    }\n    referenceTypeFor(property) {\n        if (!this.referenceTypes) return PropertyReference;\n        return this.referenceTypes[property] || PropertyReference;\n    }\n    removeReference(property, reference) {\n        if (!this.references) return;\n        let set = this.references[property];\n        set.delete(reference);\n    }\n    getReferenceTypes() {\n        this.referenceTypes = this.referenceTypes || dict();\n        return this.referenceTypes;\n    }\n    referencesFor(property) {\n        if (!this.references) return null;\n        return this.references[property];\n    }\n    getSlots() {\n        return this.slots = this.slots || dict();\n    }\n    root() {\n        return this.rootCache = this.rootCache || new this.RootReferenceFactory(this.object);\n    }\n}\nexport default Meta;\nexport function metaFor(obj) {\n    return Meta.for(obj);\n}","import Meta from '../meta';\nimport { VOLATILE_TAG } from '@glimmer/reference';\nexport class PropertyReference {\n    constructor(object, property, _outer) {\n        this.tag = VOLATILE_TAG;\n        this.object = object;\n        this.property = property;\n    }\n    value() {\n        return this.object[this.property];\n    }\n    label() {\n        return '[reference Property]';\n    }\n}\nexport function ComputedReferenceBlueprint(_property, dependencies) {\n    return class ComputedReference {\n        constructor(object, property, outer) {\n            this.installed = false;\n            this.tag = VOLATILE_TAG;\n            this.object = object;\n            this.property = property;\n            this.dependencies = dependencies;\n            this.outer = outer;\n        }\n        value() {\n            if (!this.installed) {\n                let root = Meta.for(this.object).root();\n                this.dependencies.forEach(dep => {\n                    let ref = root.referenceFromParts(dep);\n                    ref.value();\n                });\n                this.installed = true;\n            }\n            return this.object[this.property];\n        }\n        label() {\n            return '[reference Computed]';\n        }\n    };\n}","// import { metaFor } from './meta';\n// import { intern } from '@glimmer/util';\n// import { metaFor } from './meta';\nexport function setProperty(parent, property, val) {\n    // let rootProp = metaFor(parent).root().chainFor(property));\n    // let referencesToNotify = metaFor(parent).referencesFor(property));\n    parent[property] = val;\n    // if (referencesToNotify) {\n    //   referencesToNotify.forEach(function(ref) { ref.notify(); });\n    // }\n    // if (rootProp) rootProp.notify();\n}\nexport function notifyProperty(_parent, _property) {\n    // let rootProp = metaFor(parent).root().chainFor(property));\n    // let referencesToNotify = metaFor(parent).referencesFor(property));\n    // if (referencesToNotify) {\n    //   referencesToNotify.forEach(function(ref) { ref.notify(); });\n    // }\n    // if (rootProp) rootProp.notify();\n}","import {\n  Registry,\n  RegistryAccessor,\n  RegistrationOptions,\n  Injection,\n  Resolver\n} from '@glimmer/di';\n\nfunction isTypeSpecifier(specifier: string) {\n  return specifier.indexOf(':') === -1;\n}\n\nexport default class ApplicationRegistry implements RegistryAccessor {\n  private _registry: Registry;\n  private _resolver: Resolver;\n\n  constructor(registry: Registry, resolver: Resolver) {\n    this._registry = registry;\n    this._resolver = resolver;\n  }\n\n  register(specifier: string, factory: any, options?: RegistrationOptions): void {\n    let normalizedSpecifier = this._toAbsoluteSpecifier(specifier);\n    this._registry.register(normalizedSpecifier, factory, options);\n  }\n\n  registration(specifier: string): any {\n    let normalizedSpecifier = this._toAbsoluteSpecifier(specifier);\n    return this._registry.registration(normalizedSpecifier);\n  }\n\n  unregister(specifier: string) {\n    let normalizedSpecifier = this._toAbsoluteSpecifier(specifier);\n    this._registry.unregister(normalizedSpecifier);\n  }\n\n  registerOption(specifier: string, option: string, value: any): void {\n    let normalizedSpecifier = this._toAbsoluteOrTypeSpecifier(specifier);\n    this._registry.registerOption(normalizedSpecifier, option, value);\n  }\n\n  registeredOption(specifier: string, option: string): any {\n    let normalizedSpecifier = this._toAbsoluteOrTypeSpecifier(specifier);\n    return this._registry.registeredOption(normalizedSpecifier, option);\n  }\n\n  registeredOptions(specifier: string): any {\n    let normalizedSpecifier = this._toAbsoluteOrTypeSpecifier(specifier);\n    return this._registry.registeredOptions(normalizedSpecifier);\n  }\n\n  unregisterOption(specifier: string, option: string): void {\n    let normalizedSpecifier = this._toAbsoluteOrTypeSpecifier(specifier);\n    this._registry.unregisterOption(normalizedSpecifier, option);\n  }\n\n  registerInjection(specifier: string, property: string, injection: string): void {\n    let normalizedSpecifier = this._toAbsoluteOrTypeSpecifier(specifier);\n    let normalizedInjection = this._toAbsoluteSpecifier(injection);\n    this._registry.registerInjection(normalizedSpecifier, property, normalizedInjection);\n  }\n\n  registeredInjections(specifier: string): Injection[] {\n    let normalizedSpecifier = this._toAbsoluteOrTypeSpecifier(specifier);\n    return this._registry.registeredInjections(normalizedSpecifier);\n  }\n\n  private _toAbsoluteSpecifier(specifier: string, referrer?: string): string {\n    return this._resolver.identify(specifier, referrer);\n  }\n\n  private _toAbsoluteOrTypeSpecifier(specifier: string): string {\n    if (isTypeSpecifier(specifier)) {\n      return specifier;\n    } else {\n      return this._toAbsoluteSpecifier(specifier);\n    }\n  }\n}","import {\n  assign,\n  Opaque\n} from '@glimmer/util';\nimport {\n  DynamicScope as GlimmerDynamicScope\n} from '@glimmer/runtime';\nimport {\n  PathReference\n} from '@glimmer/reference';\n\nexport default class DynamicScope implements GlimmerDynamicScope {\n  private bucket;\n\n  constructor(bucket=null) {\n    if (bucket) {\n      this.bucket = assign({}, bucket);\n    } else {\n      this.bucket = {};\n    }\n  }\n\n  get(key: string): PathReference<Opaque> {\n    return this.bucket[key];\n  }\n\n  set(key: string, reference: PathReference<Opaque>) {\n    return this.bucket[key] = reference;\n  }\n\n  child(): DynamicScope {\n    return new DynamicScope(this.bucket);\n  }\n}\n","import {\n  Opaque\n} from '@glimmer/util';\n\nimport {\n  Reference,\n  OpaqueIterator,\n  AbstractIterable,\n  IterationItem,\n  Tag\n} from \"@glimmer/reference\";\n\nimport {\n  UpdatableReference\n} from \"@glimmer/object-reference\";\n\nexport type KeyFor<T> = (item: Opaque, index: T) => string;\n\nclass ArrayIterator implements OpaqueIterator {\n  private array: Opaque[];\n  private keyFor: KeyFor<number>;\n  private position = 0;\n\n  constructor(array: Opaque[], keyFor: KeyFor<number>) {\n    this.array = array;\n    this.keyFor = keyFor;\n  }\n\n  isEmpty(): boolean {\n    return this.array.length === 0;\n  }\n\n  next(): IterationItem<Opaque, number> {\n    let { position, array, keyFor } = this;\n\n    if (position >= array.length) return null;\n\n    let value = array[position];\n    let key = keyFor(value, position);\n    let memo = position;\n\n    this.position++;\n\n    return { key, value, memo };\n  }\n}\n\nclass ObjectKeysIterator implements OpaqueIterator {\n  private keys: string[];\n  private values: Opaque[];\n  private keyFor: KeyFor<string>;\n  private position = 0;\n\n  constructor(keys: string[], values: Opaque[], keyFor: KeyFor<string>) {\n    this.keys = keys;\n    this.values = values;\n    this.keyFor = keyFor;\n  }\n\n  isEmpty(): boolean {\n    return this.keys.length === 0;\n  }\n\n  next(): IterationItem<Opaque, string> {\n    let { position, keys, values, keyFor } = this;\n\n    if (position >= keys.length) return null;\n\n    let value = values[position];\n    let memo = keys[position];\n    let key = keyFor(value, memo);\n\n    this.position++;\n\n    return { key, value, memo };\n  }\n}\n\nclass EmptyIterator implements OpaqueIterator {\n  isEmpty(): boolean {\n    return true;\n  }\n\n  next(): IterationItem<Opaque, Opaque> {\n    throw new Error(`Cannot call next() on an empty iterator`);\n  }\n}\n\nconst EMPTY_ITERATOR = new EmptyIterator();\n\nexport default class Iterable implements AbstractIterable<Opaque, Opaque, IterationItem<Opaque, Opaque>, UpdatableReference<Opaque>, UpdatableReference<Opaque>> {\n  public tag: Tag;\n  private ref: Reference<Opaque>;\n  private keyFor: KeyFor<Opaque>;\n\n  constructor(ref: Reference<Opaque>, keyFor: KeyFor<Opaque>) {\n    this.tag = ref.tag;\n    this.ref = ref;\n    this.keyFor = keyFor;\n  }\n\n  iterate(): OpaqueIterator {\n    let { ref, keyFor } = this;\n\n    let iterable = ref.value() as any;\n\n    if (Array.isArray(iterable)) {\n      return iterable.length > 0 ? new ArrayIterator(iterable, keyFor) : EMPTY_ITERATOR;\n    } else if (iterable === undefined || iterable === null) {\n      return EMPTY_ITERATOR;\n    } else if (iterable.forEach !== undefined) {\n      let array = [];\n      iterable.forEach(function(item) {\n        array.push(item);\n      });\n      return array.length > 0 ? new ArrayIterator(array, keyFor) : EMPTY_ITERATOR;\n    } else if (typeof iterable === 'object') {\n       let keys = Object.keys(iterable);\n       return keys.length > 0 ? new ObjectKeysIterator(keys, keys.map(key => iterable[key]), keyFor) : EMPTY_ITERATOR;\n     } else {\n      throw new Error(`Don't know how to {{#each ${iterable}}}`);\n    }\n  }\n\n  valueReferenceFor(item: IterationItem<Opaque, Opaque>): UpdatableReference<Opaque> {\n    return new UpdatableReference(item.value);\n  }\n\n  updateValueReference(reference: UpdatableReference<Opaque>, item: IterationItem<Opaque, Opaque>) {\n    reference.update(item.value);\n  }\n\n  memoReferenceFor(item: IterationItem<Opaque, Opaque>): UpdatableReference<Opaque> {\n    return new UpdatableReference(item.memo);\n  }\n\n  updateMemoReference(reference: UpdatableReference<Opaque>, item: IterationItem<Opaque, Opaque>) {\n    reference.update(item.memo);\n  }\n}\n","import { ConstReference, Reference } from \"@glimmer/reference\";\nimport { VM, Arguments } from \"@glimmer/runtime\";\n\nexport default function buildAction(vm: VM, _args: Arguments) {\n  let componentRef = vm.getSelf();\n  let args = _args.capture();\n\n  let actionFunc = args.positional.at(0).value() as Function;\n  if (typeof actionFunc !== 'function') {\n    throwNoActionError(actionFunc, args.positional.at(0));\n  }\n\n  return new ConstReference(function action(...invokedArgs) {\n    let curriedArgs = args.positional.value();\n    // Consume the action function that was already captured above.\n    curriedArgs.shift();\n\n    curriedArgs.push(...invokedArgs);\n\n    // Invoke the function with the component as the context, the curried\n    // arguments passed to `{{action}}`, and the arguments the bound function\n    // was invoked with.\n    actionFunc.apply(componentRef && componentRef.value(), curriedArgs);\n  });\n}\n\nfunction throwNoActionError(actionFunc: any, actionFuncReference: Reference<any>) {\n  let referenceInfo = debugInfoForReference(actionFuncReference);\n  throw new Error(`You tried to create an action with the {{action}} helper, but the first argument ${referenceInfo}was ${typeof actionFunc} instead of a function.`);\n}\n\nexport function debugInfoForReference(reference: any): string {\n  let message = '';\n  let parent;\n  let property;\n\n  if (reference == null) { return message; }\n\n  if ('parent' in reference && 'property' in reference) {\n    parent = reference['parent'].value();\n    property = reference['property'];\n  } else if ('_parentValue' in reference && '_propertyKey' in reference) {\n    parent = reference['_parentValue'];\n    property = reference['_propertyKey'];\n  }\n\n  if (property !== undefined) {\n    message += `('${property}' on ${debugName(parent)}) `;\n  }\n\n  return message;\n}\n\nfunction debugName(obj: any) {\n  let objType = typeof obj;\n  if (obj == null) {\n    return objType;\n  } else if (objType === 'number' || objType === 'boolean') {\n    return obj.toString();\n  } else {\n    if (obj['debugName']) {\n      return obj['debugName'];\n    }\n    try {\n      return JSON.stringify(obj);\n    } catch (e) { }\n    return obj.toString();\n  }\n}\n","import {\n  Dict,\n  Opaque\n} from '@glimmer/util';\n\nimport {\n  VOLATILE_TAG,\n  PathReference,\n  Reference\n} from \"@glimmer/reference\";\n\nimport {\n  Arguments,\n  CapturedArguments,\n  Helper as GlimmerHelper,\n  VM\n} from \"@glimmer/runtime\";\n\nexport type UserHelper = (args: ReadonlyArray<Opaque>, named: Dict<Opaque>) => any;\n\nexport default function buildUserHelper(helperFunc): GlimmerHelper {\n  return (_vm: VM, args: Arguments) => new HelperReference(helperFunc, args);\n}\n\nexport class SimplePathReference<T> implements PathReference<T> {\n  private parent: Reference<T>;\n  private property: string;\n  public tag = VOLATILE_TAG;\n\n  constructor(parent: Reference<T>, property: string) {\n    this.parent = parent;\n    this.property = property;\n  }\n\n  value(): T {\n    return this.parent.value()[this.property];\n  }\n\n  get(prop: string): PathReference<Opaque> {\n    return new SimplePathReference(this, prop);\n  }\n}\n\nexport class HelperReference implements PathReference<Opaque> {\n  private helper: UserHelper;\n  private args: CapturedArguments;\n  public tag = VOLATILE_TAG;\n\n  constructor(helper: UserHelper, args: Arguments) {\n    this.helper = helper;\n    this.args = args.capture();\n  }\n\n  value() {\n    let { helper, args } = this;\n\n    return helper(args.positional.value(), args.named.value());\n  }\n\n  get(prop: string): SimplePathReference<Opaque> {\n    return new SimplePathReference(this, prop);\n  }\n}\n","import {\n  DOMChanges,\n  DOMTreeConstruction,\n  Environment as GlimmerEnvironment,\n  InlineMacros,\n  ModifierManager,\n  templateFactory,\n  ComponentDefinition,\n  Component,\n  ComponentManager,\n  BlockMacros,\n  Helper as GlimmerHelper\n} from '@glimmer/runtime';\nimport {\n  Reference,\n  OpaqueIterable\n} from \"@glimmer/reference\";\nimport {\n  dict,\n  Opaque\n} from '@glimmer/util';\nimport {\n  getOwner,\n  setOwner,\n  Owner,\n  Factory\n} from '@glimmer/di';\nimport Iterable from './iterable';\nimport TemplateMeta from './template-meta';\nimport ComponentDefinitionCreator from './component-definition-creator'\nimport Application from \"./application\";\nimport {\n  blockComponentMacro,\n  inlineComponentMacro\n } from './dynamic-component';\n import action from './helpers/action';\n import buildUserHelper from './helpers/user-helper';\n\ntype KeyFor<T> = (item: Opaque, index: T) => string;\n\nexport interface EnvironmentOptions {\n  document?: HTMLDocument;\n  appendOperations?: DOMTreeConstruction;\n}\n\nclass DefaultComponentDefinition extends ComponentDefinition<any> {\n  toJSON() {\n    return `<default-component-definition name=${this.name}>`;\n  }\n}\n\nconst DEFAULT_MANAGER = 'main';\nconst DEFAULT_HELPERS = {\n  action\n};\n\nexport default class Environment extends GlimmerEnvironment {\n  private helpers = dict<GlimmerHelper>();\n  private modifiers = dict<ModifierManager<Opaque>>();\n  private components = dict<ComponentDefinition<Component>>();\n  private managers = dict<ComponentManager<Component>>();\n  private uselessAnchor: HTMLAnchorElement;\n\n  static create(options: EnvironmentOptions = {}) {\n    options.document = options.document || self.document;\n    options.appendOperations = options.appendOperations || new DOMTreeConstruction(options.document);\n\n    return new Environment(options);\n  }\n\n  constructor(options: EnvironmentOptions) {\n    super({ appendOperations: options.appendOperations, updateOperations: new DOMChanges(options.document as HTMLDocument || document) });\n\n    setOwner(this, getOwner(options));\n\n    // TODO - required for `protocolForURL` - seek alternative approach\n    // e.g. see `installPlatformSpecificProtocolForURL` in Ember\n    this.uselessAnchor = options.document.createElement('a') as HTMLAnchorElement;\n  }\n\n  protocolForURL(url: string): string {\n    // TODO - investigate alternative approaches\n    // e.g. see `installPlatformSpecificProtocolForURL` in Ember\n    this.uselessAnchor.href = url;\n    return this.uselessAnchor.protocol;\n  }\n\n  hasPartial() {\n    return false;\n  }\n\n  lookupPartial(): any {\n  }\n\n  managerFor(managerId: string = DEFAULT_MANAGER): ComponentManager<Component> {\n    let manager: ComponentManager<Component>;\n\n    manager = this.managers[managerId];\n    if (!manager) {\n      let app: Application = getOwner(this) as any as Application;\n      manager = this.managers[managerId] = getOwner(this).lookup(`component-manager:/${app.rootName}/component-managers/${managerId}`);\n      if (!manager) {\n        throw new Error(`No component manager found for ID ${managerId}.`);\n      }\n    }\n    return manager;\n  }\n\n  hasComponentDefinition(name: string, meta: TemplateMeta): boolean {\n    return !!this.getComponentDefinition(name, meta);\n  }\n\n  getComponentDefinition(name: string, meta: TemplateMeta): ComponentDefinition<Component> {\n    let owner: Owner = getOwner(this);\n    let relSpecifier: string = `template:${name}`;\n    let referrer: string = meta.specifier;\n\n    let specifier = owner.identify(relSpecifier, referrer);\n    if (specifier === undefined) {\n      if (owner.identify(`component:${name}`, referrer)) {\n        throw new Error(`The component '${name}' is missing a template. All components must have a template. Make sure there is a template.hbs in the component directory.`);\n      } else {\n        throw new Error(\"Could not find template for \" + name);\n      }\n    }\n\n    if (!this.components[specifier]) {\n      return this.registerComponent(name, specifier, meta, owner);\n    }\n\n    return this.components[specifier];\n  }\n\n  registerComponent(name: string, templateSpecifier: string, meta: TemplateMeta, owner: Owner): ComponentDefinition<Component> {\n    let serializedTemplate = owner.lookup('template', templateSpecifier);\n    let componentSpecifier = owner.identify('component', templateSpecifier);\n    let componentFactory: Factory<Component> = null;\n\n    if (componentSpecifier) {\n      componentFactory = owner.factoryFor(componentSpecifier);\n    }\n\n    let template = templateFactory<TemplateMeta>(serializedTemplate).create(this);\n    let manager: ComponentManager<Component> = this.managerFor(meta.managerId);\n    let definition: ComponentDefinition<Component>;\n\n    if (canCreateComponentDefinition(manager)) {\n      definition = manager.createComponentDefinition(name, template, componentFactory);\n    } else {\n      definition = new DefaultComponentDefinition(name, manager, componentFactory);\n    }\n\n    this.components[templateSpecifier] = definition;\n\n    return definition;\n  }\n\n  hasHelper(name: string, meta: TemplateMeta) {\n    return !!this.lookupHelper(name, meta);\n  }\n\n  lookupHelper(name: string, meta: TemplateMeta): GlimmerHelper {\n    if (DEFAULT_HELPERS[name]) {\n      return DEFAULT_HELPERS[name];\n    }\n\n    let owner: Owner = getOwner(this);\n    let relSpecifier: string = `helper:${name}`;\n    let referrer: string = meta.specifier;\n\n    let specifier = owner.identify(relSpecifier, referrer);\n    if (specifier === undefined) {\n      return;\n    }\n\n    if (!this.helpers[specifier]) {\n      return this.registerHelper(specifier, owner);\n    }\n\n    return this.helpers[specifier];\n  }\n\n  registerHelper(specifier: string, owner: Owner): GlimmerHelper {\n    let helperFunc = owner.lookup(specifier);\n\n    let userHelper = buildUserHelper(helperFunc);\n    this.helpers[specifier] = userHelper;\n\n    return userHelper;\n  }\n\n  hasModifier(modifierName: string, blockMeta: TemplateMeta): boolean {\n    return modifierName.length === 1 && (modifierName in this.modifiers);\n  }\n\n  lookupModifier(modifierName: string, blockMeta: TemplateMeta): ModifierManager<Opaque> {\n    let modifier = this.modifiers[modifierName];\n\n    if(!modifier) throw new Error(`Modifier for ${modifierName} not found.`);\n    return modifier;\n  }\n\n  iterableFor(ref: Reference<Opaque>, keyPath: string): OpaqueIterable {\n    let keyFor: KeyFor<Opaque>;\n\n    if (!keyPath) {\n      throw new Error('Must specify a key for #each');\n    }\n\n    switch (keyPath) {\n      case '@index':\n        keyFor = (_, index: number) => String(index);\n      break;\n      case '@primitive':\n        keyFor = (item: Opaque) => String(item);\n      break;\n      default:\n        keyFor = (item: Opaque) => item[keyPath];\n      break;\n    }\n\n    return new Iterable(ref, keyFor);\n  }\n\n  macros(): { blocks: BlockMacros, inlines: InlineMacros } {\n    let macros = super.macros();\n\n    populateMacros(macros.blocks, macros.inlines);\n\n    return macros;\n  }\n}\n\nfunction populateMacros(blocks: BlockMacros, inlines: InlineMacros): void {\n  blocks.add('component', blockComponentMacro);\n  inlines.add('component', inlineComponentMacro);\n}\n\nfunction canCreateComponentDefinition(manager: ComponentDefinitionCreator | ComponentManager<Component>): manager is ComponentDefinitionCreator {\n  return (manager as ComponentDefinitionCreator).createComponentDefinition !== undefined;\n}\n","export default {\"id\":\"sn4E/A3E\",\"block\":\"{\\\"symbols\\\":[\\\"root\\\"],\\\"prelude\\\":null,\\\"head\\\":null,\\\"statements\\\":[[4,\\\"each\\\",[[19,0,[\\\"roots\\\"]]],[[\\\"key\\\"],[\\\"id\\\"]],{\\\"statements\\\":[[4,\\\"-in-element\\\",[[19,1,[\\\"parent\\\"]]],[[\\\"nextSibling\\\"],[[19,1,[\\\"nextSibling\\\"]]]],{\\\"statements\\\":[[1,[25,\\\"component\\\",[[19,1,[\\\"component\\\"]]],null],false]],\\\"parameters\\\":[]},null]],\\\"parameters\\\":[1]},null]],\\\"hasEval\\\":false}\",\"meta\":{\"specifier\":\"template:/-application/templates/main.hbs\"}};","import {\n  Container,\n  Factory,\n  Owner,\n  Registry,\n  RegistryWriter,\n  Resolver,\n  setOwner,\n} from '@glimmer/di';\nimport {\n  Simple,\n  templateFactory,\n  RenderResult,\n  ComponentDefinition,\n  Component\n} from '@glimmer/runtime';\nimport {\n  UpdatableReference\n} from '@glimmer/object-reference';\nimport {\n  Option\n} from '@glimmer/util';\nimport ApplicationRegistry from './application-registry';\nimport DynamicScope from './dynamic-scope';\nimport Environment from './environment';\nimport mainTemplate from './templates/main';\n\nexport interface ApplicationOptions {\n  rootName: string;\n  resolver: Resolver;\n}\n\nexport interface Initializer {\n  name?: string;\n  initialize(registry: RegistryWriter): void;\n}\n\nexport interface AppRoot {\n  id: number,\n  component: string | ComponentDefinition<Component>,\n  parent: Simple.Node,\n  nextSibling: Option<Simple.Node>\n}\n\nexport default class Application implements Owner {\n  public rootName: string;\n  public resolver: Resolver;\n  public env: Environment;\n  private _roots: AppRoot[] = [];\n  private _rootsIndex: number = 0;\n  private _registry: Registry;\n  private _container: Container;\n  private _renderResult: RenderResult;\n  /** Whether the initial render has completed. */\n  private _rendered: boolean;\n  /** Whether a re-render has been scheduled. */\n  private _scheduled: boolean;\n  private _initializers: Initializer[] = [];\n  private _initialized = false;\n\n  constructor(options: ApplicationOptions) {\n    this.rootName = options.rootName;\n    this.resolver = options.resolver;\n  }\n\n  registerInitializer(initializer: Initializer): void {\n    this._initializers.push(initializer);\n  }\n\n  initRegistry(): void {\n    let registry = this._registry = new Registry();\n\n    // Create ApplicationRegistry as a proxy to the underlying registry\n    // that will only be available during `initialize`.\n    let appRegistry = new ApplicationRegistry(this._registry, this.resolver);\n\n    registry.register(`environment:/${this.rootName}/main/main`, Environment);\n    registry.registerOption('helper', 'instantiate', false);\n    registry.registerOption('template', 'instantiate', false);\n    registry.register(`document:/${this.rootName}/main/main`, window.document as any);\n    registry.registerOption('document', 'instantiate', false);\n    registry.registerInjection('environment', 'document', `document:/${this.rootName}/main/main`);\n    registry.registerInjection('component-manager', 'env', `environment:/${this.rootName}/main/main`);\n\n    let initializers = this._initializers;\n    for (let i = 0; i < initializers.length; i++) {\n      initializers[i].initialize(appRegistry);\n    }\n\n    this._initialized = true;\n  }\n\n  initContainer(): void {\n    this._container = new Container(this._registry, this.resolver);\n\n    // Inject `this` (the app) as the \"owner\" of every object instantiated\n    // by its container.\n    this._container.defaultInjections = (specifier: string) => {\n      let hash = {};\n      setOwner(hash, this);\n      return hash;\n    }\n  }\n\n  initialize(): void {\n    this.initRegistry();\n    this.initContainer();\n  }\n\n  boot(): void {\n    this.initialize();\n\n    this.env = this.lookup(`environment:/${this.rootName}/main/main`);\n\n    this.render();\n  }\n\n  render(): void {\n    this.env.begin();\n\n    let mainLayout = templateFactory(mainTemplate).create(this.env);\n    let self = new UpdatableReference({ roots: this._roots });\n    let appendTo = document.body;\n    let dynamicScope = new DynamicScope();\n    let templateIterator = mainLayout.render(self, appendTo, dynamicScope);\n    let result;\n    do {\n      result = templateIterator.next();\n    } while (!result.done);\n\n    this.env.commit();\n\n    this._rendered = true;\n    this._renderResult = result.value;\n  }\n\n  renderComponent(component: string | ComponentDefinition<Component>, parent: Simple.Node, nextSibling: Option<Simple.Node>): void {\n    this._roots.push({ id: this._rootsIndex++, component, parent, nextSibling });\n    this.scheduleRerender();\n  }\n\n  rerender(): void {\n    this.env.begin();\n    this._renderResult.rerender();\n    this.env.commit();\n  }\n\n  scheduleRerender(): void {\n    if (this._scheduled || !this._rendered) { return; }\n\n    this._scheduled = true;\n    requestAnimationFrame(() => {\n      this._scheduled = false;\n      this.rerender();\n    });\n  }\n\n  /**\n   * Owner interface implementation\n   */\n  identify(specifier: string, referrer?: string): string {\n    return this.resolver.identify(specifier, referrer);\n  }\n\n  factoryFor(specifier: string, referrer?: string): Factory<any> {\n    return this._container.factoryFor(this.identify(specifier, referrer));\n  }\n\n  lookup(specifier: string, referrer?: string): any {\n    return this._container.lookup(this.identify(specifier, referrer));\n  }\n}\n","import { RegistrationOptions } from './registry';\nimport { Factory } from './factory';\n\n// TODO - use symbol\nexport const OWNER = '__owner__';\n\nexport function getOwner(object: object): Owner {\n  return object[OWNER];\n}\n\nexport function setOwner(object: object, owner: Owner): void {\n  object[OWNER] = owner;\n}\n\nexport interface Owner {\n  identify(specifier: string, referrer?: string): string;\n\n  factoryFor(specifier: string, referrer?: string): Factory<any>;\n  \n  lookup(specifier: string, referrer?: string): any;\n}\n","export interface Specifier {\n  rootName?: string;\n  collection?: string;\n  namespace?: string;\n  name?: string;\n  type?: string;\n}\n\nexport function isSpecifierStringAbsolute(specifier: string): boolean {\n  let [type, path] = specifier.split(':');\n  return !!(type && path && path.indexOf('/') === 0 && path.split('/').length > 3);\n}\n\nexport function isSpecifierObjectAbsolute(specifier: Specifier): boolean {\n  return specifier.rootName !== undefined &&\n         specifier.collection !== undefined &&\n         specifier.name !== undefined &&\n         specifier.type !== undefined;\n}\n\nexport function serializeSpecifier(specifier: Specifier): string {\n  let type = specifier.type;\n  let path = serializeSpecifierPath(specifier);\n\n  if (path) {\n    return type + ':' + path;\n  } else {\n    return type;\n  }\n}\n\nexport function serializeSpecifierPath(specifier: Specifier): string {\n  let path = [];\n  if (specifier.rootName) {\n    path.push(specifier.rootName);\n  }\n  if (specifier.collection) {\n    path.push(specifier.collection);\n  }\n  if (specifier.namespace) {\n    path.push(specifier.namespace);\n  }\n  if (specifier.name) {\n    path.push(specifier.name);\n  }\n\n  if (path.length > 0) {\n    let fullPath = path.join('/');\n    if (isSpecifierObjectAbsolute(specifier)) {\n      fullPath = '/' + fullPath;\n    }\n    return fullPath;\n  }\n}\n\nexport function deserializeSpecifier(specifier: string): Specifier {\n  let obj: Specifier = {};\n\n  if (specifier.indexOf(':') > -1) {\n    let [type, path] = specifier.split(':');\n    obj.type = type;\n\n    let pathSegments;\n\n    if (path.indexOf('/') === 0) {\n      pathSegments = path.substr(1).split('/');\n      obj.rootName = pathSegments.shift();\n      obj.collection = pathSegments.shift();\n    } else {\n      pathSegments = path.split('/');\n    }\n\n    if (pathSegments.length > 0) {\n      obj.name = pathSegments.pop();\n\n      if (pathSegments.length > 0) {\n        obj.namespace = pathSegments.join('/');\n      }\n    }\n\n  } else {\n    obj.type = specifier;\n  }\n\n  return obj;\n}\n","export function assert(description: string, test: any) {\n  if (!test) {\n    throw new Error('Assertion Failed: ' + description);\n  }\n}\n","import {\n  Resolver as IResolver,\n  Specifier,\n  isSpecifierStringAbsolute,\n  isSpecifierObjectAbsolute,\n  deserializeSpecifier,\n  serializeSpecifier\n} from '@glimmer/di';\nimport { assert } from './utils/debug';\nimport { ModuleRegistry } from './module-registry';\nimport { ResolverConfiguration } from './resolver-configuration';\n\nexport default class Resolver implements IResolver {\n  public config: ResolverConfiguration;\n  public registry: ModuleRegistry;\n\n  constructor(config: ResolverConfiguration, registry: ModuleRegistry) {\n    this.config = config;\n    this.registry = registry;\n  }\n\n  identify(specifier: string, referrer?: string): string {\n    if (isSpecifierStringAbsolute(specifier)) {\n      return specifier;\n    }\n\n    let s = deserializeSpecifier(specifier);\n    let result: string;\n\n    if (referrer) {\n      let r = deserializeSpecifier(referrer);\n\n      if (isSpecifierObjectAbsolute(r)) {\n        assert('Specifier must not include a rootName, collection, or namespace when combined with an absolute referrer', s.rootName === undefined && s.collection === undefined && s.namespace === undefined);\n\n        // Look locally in the referrer's namespace\n        s.rootName = r.rootName;\n        s.collection = r.collection;\n        if (s.name) {\n          s.namespace = r.namespace ? r.namespace + '/' + r.name : r.name;\n        } else {\n          s.namespace = r.namespace;\n          s.name = r.name;\n        }\n        if (result = this._serializeAndVerify(s)) { return result; }\n\n        // Look for a private collection in the referrer's namespace\n        let privateCollection = this._definitiveCollection(s.type);\n        if (privateCollection) {\n          s.namespace += '/-' + privateCollection;\n          if (result = this._serializeAndVerify(s)) { return result; }\n        }\n\n        // Because local and private resolution has failed, clear all but `name` and `type`\n        // to proceed with top-level resolution\n        s.rootName = s.collection = s.namespace = undefined;\n      } else {\n        assert('Referrer must either be \"absolute\" or include a `type` to determine the associated type', r.type);\n\n        // Look in the definitive collection for the associated type\n        s.collection = this._definitiveCollection(r.type);\n        assert(`'${r.type}' does not have a definitive collection`, s.collection);\n      }\n    }\n\n    // If the collection is unspecified, use the definitive collection for the `type`\n    if (!s.collection) {\n      s.collection = this._definitiveCollection(s.type);\n      assert(`'${s.type}' does not have a definitive collection`, s.collection);\n    }\n\n    if (!s.rootName) {\n      // If the root name is unspecified, try the app's `rootName` first\n      s.rootName = this.config.app.rootName || 'app';\n      if (result = this._serializeAndVerify(s)) { return result; }\n\n      // Then look for an addon with a matching `rootName`\n      let addonDef;\n      if (s.namespace) {\n        addonDef = this.config.addons && this.config.addons[s.namespace];\n        s.rootName = s.namespace;\n        s.namespace = undefined;\n\n      } else {\n        addonDef = this.config.addons && this.config.addons[s.name];\n        s.rootName = s.name;\n        s.name = 'main';\n      }\n    }\n\n    if (result = this._serializeAndVerify(s)) { return result; }\n  }\n\n  retrieve(specifier: string): any {\n    return this.registry.get(specifier);\n  }\n\n  resolve(specifier: string, referrer?: string): any {\n    let id = this.identify(specifier, referrer);\n    if (id) {\n      return this.retrieve(id);\n    }\n  }\n\n  private _definitiveCollection(type: string): string {\n    let typeDef = this.config.types[type];\n    assert(`'${type}' is not a recognized type`, typeDef);\n    return typeDef.definitiveCollection;\n  }\n\n  private _serializeAndVerify(specifier: Specifier): string {\n    let serialized = serializeSpecifier(specifier);\n    if (this.registry.has(serialized)) {\n      return serialized;\n    }\n  }\n}\n","import { DEBUG } from '@glimmer/env';\nimport { Tag, DirtyableTag, TagWrapper, combine, CONSTANT_TAG } from '@glimmer/reference';\nimport { dict, Dict } from '@glimmer/util';\n\n/**\n * @decorator\n *\n * Marks a property as tracked.\n *\n * By default, a component's properties are expected to be static,\n * meaning you are not able to update them and have the template update accordingly.\n * Marking a property as tracked means that when that property changes,\n * a rerender of the component is scheduled so the template is kept up to date.\n *\n * @param dependencies Optional dependents to be tracked.\n */\nexport function tracked(...dependencies: string[]): MethodDecorator;\nexport function tracked(target: any, key: any): any;\nexport function tracked(target: any, key: any, descriptor: PropertyDescriptor): PropertyDescriptor;\nexport function tracked(...dependencies: any[]): any {\n  let [target, key, descriptor] = dependencies;\n\n  if (typeof target === \"string\") {\n    return function(target: any, key: string | Symbol, descriptor: PropertyDescriptor) {\n      return descriptorForTrackedComputedProperty(target, key, descriptor, dependencies);\n    }\n  } else {\n    if (descriptor) {\n      return descriptorForTrackedComputedProperty(target, key, descriptor, []);\n    } else {\n      installTrackedProperty(target, key);\n    }\n  }\n}\n\nfunction descriptorForTrackedComputedProperty(target: any, key: any, descriptor: PropertyDescriptor, dependencies: string[]): PropertyDescriptor {\n  let meta = metaFor(target);\n  meta.trackedProperties[key] = true;\n  meta.trackedPropertyDependencies[key] = dependencies || [];\n\n  return {\n    enumerable: true,\n    configurable: false,\n    get: descriptor.get,\n    set: function() {\n      metaFor(this).dirtyableTagFor(key).inner.dirty();\n      descriptor.set.apply(this, arguments);\n      propertyDidChange();\n    }\n  }\n}\n\nexport type Key = string;\n\n/**\n  Installs a getter/setter for change tracking. The accessor\n  acts just like a normal property, but it triggers the `propertyDidChange`\n  hook when written to.\n\n  Values are saved on the object using a \"shadow key,\" or a symbol based on the\n  tracked property name. Sets write the value to the shadow key, and gets read\n  from it.\n */\nfunction installTrackedProperty(target: any, key: Key) {\n  let value: any;\n  let shadowKey = Symbol(key);\n\n  let meta = metaFor(target);\n  meta.trackedProperties[key] = true;\n\n  if (target[key] !== undefined) {\n    value = target[key];\n  }\n\n  Object.defineProperty(target, key, {\n    configurable: true,\n\n    get() {\n      return this[shadowKey];\n    },\n\n    set(newValue) {\n      metaFor(this).dirtyableTagFor(key).inner.dirty();\n      this[shadowKey] = newValue;\n      propertyDidChange();\n    }\n  });\n}\n\n/**\n * Stores bookkeeping information about tracked properties on the target object\n * and includes helper methods for manipulating and retrieving that data.\n *\n * Computed properties (i.e., tracked getters/setters) deserve some explanation.\n * A computed property is invalidated when either it is set, or one of its\n * dependencies is invalidated. Therefore, we store two tags for each computed\n * property:\n *\n * 1. The dirtyable tag that we invalidate when the setter is invoked.\n * 2. A union tag (tag combinator) of the dirtyable tag and all of the computed\n *    property's dependencies' tags, used by Glimmer to determine \"does this\n *    computed property need to be recomputed?\"\n */\nexport default class Meta {\n  tags: Dict<Tag>;\n  computedPropertyTags: Dict<TagWrapper<DirtyableTag>>;\n  trackedProperties: Dict<boolean>;\n  trackedPropertyDependencies: Dict<string[]>;\n\n  constructor(parent: Meta) {\n    this.tags = dict<Tag>();\n    this.computedPropertyTags = dict<TagWrapper<DirtyableTag>>();\n    this.trackedProperties = parent ? Object.create(parent.trackedProperties) : dict<boolean>();\n    this.trackedPropertyDependencies = parent ? Object.create(parent.trackedPropertyDependencies) : dict<string[]>();\n  }\n\n  /**\n   * The tag representing whether the given property should be recomputed. Used\n   * by e.g. Glimmer VM to detect when a property should be re-rendered. Think\n   * of this as the \"public-facing\" tag.\n   *\n   * For static tracked properties, this is a single DirtyableTag. For computed\n   * properties, it is a combinator of the property's DirtyableTag as well as\n   * all of its dependencies' tags.\n   */\n  tagFor(key: Key): Tag {\n    let tag = this.tags[key];\n    if (tag) { return tag; }\n\n    let dependencies;\n    if (dependencies = this.trackedPropertyDependencies[key]) {\n      return this.tags[key] = combinatorForComputedProperties(this, key, dependencies);\n    }\n\n    return this.tags[key] = DirtyableTag.create();\n  }\n\n  /**\n   * The tag used internally to invalidate when a tracked property is set. For\n   * static properties, this is the same DirtyableTag returned from `tagFor`.\n   * For computed properties, it is the DirtyableTag used as one of the tags in\n   * the tag combinator of the CP and its dependencies.\n  */\n  dirtyableTagFor(key: Key): TagWrapper<DirtyableTag> {\n    let dependencies = this.trackedPropertyDependencies[key];\n    let tag;\n\n    if (dependencies) {\n      // The key is for a computed property.\n      tag = this.computedPropertyTags[key];\n      if (tag) { return tag; }\n      return this.computedPropertyTags[key] = DirtyableTag.create();\n    } else {\n      // The key is for a static property.\n      tag = this.tags[key];\n      if (tag) { return tag as TagWrapper<DirtyableTag>; }\n      return this.tags[key] = DirtyableTag.create();\n    }\n  }\n}\n\nfunction combinatorForComputedProperties(meta: Meta, key: Key, dependencies: Key[] | void): Tag {\n  // Start off with the tag for the CP's own dirty state.\n  let tags: Tag[] = [meta.dirtyableTagFor(key)];\n\n  // Next, add in all of the tags for its dependencies.\n  if (dependencies && dependencies.length) {\n    for (let i = 0; i < dependencies.length; i++) {\n      tags.push(meta.tagFor(dependencies[i]));\n    }\n  }\n\n  // Return a combinator across the CP's tags and its dependencies' tags.\n  return combine(tags);\n}\n\nexport interface Interceptors {\n  [key: string]: boolean;\n}\n\nlet META = Symbol(\"ember-object\");\n\nexport function metaFor(obj: any): Meta {\n  let meta = obj[META];\n  if (meta && hasOwnProperty(obj, META)) {\n    return meta;\n  }\n\n  return obj[META] = new Meta(meta);\n}\n\nlet hOP = Object.prototype.hasOwnProperty;\nfunction hasOwnProperty(obj: any, key: symbol) {\n  return hOP.call(obj, key);\n}\n\nlet propertyDidChange = function() {};\n\nexport function setPropertyDidChange(cb: () => void) {\n  propertyDidChange = cb;\n}\n\nexport function hasTag(obj: any, key: string): boolean {\n  let meta = obj[META] as Meta;\n\n  if (!obj[META]) { return false; }\n  if (!meta.trackedProperties[key]) { return false; }\n\n  return true;\n}\n\nexport class UntrackedPropertyError extends Error {\n  static for(obj: any, key: string): UntrackedPropertyError {\n    return new UntrackedPropertyError(obj, key, `The property '${key}' on ${obj} was changed after being rendered. If you want to change a property used in a template after the component has rendered, mark the property as a tracked property with the @tracked decorator.`);\n  }\n\n  constructor(public target: any, public key: string, message: string) {\n    super(message);\n  }\n}\n\n/**\n * Function that can be used in development mode to generate more meaningful\n * error messages.\n */\nexport interface UntrackedPropertyErrorThrower {\n  (obj: any, key: string): void;\n}\n\nfunction defaultErrorThrower(obj: any, key: string): UntrackedPropertyError {\n  throw UntrackedPropertyError.for(obj, key);\n}\n\nexport function tagForProperty(obj: any, key: string, throwError: UntrackedPropertyErrorThrower = defaultErrorThrower): Tag {\n  if (typeof obj === 'object' && obj) {\n    if (DEBUG && !hasTag(obj, key)) {\n      installDevModeErrorInterceptor(obj, key, throwError);\n    }\n\n    let meta = metaFor(obj);\n    return meta.tagFor(key);\n  } else {\n    return CONSTANT_TAG;\n  }\n}\n\n/**\n * In development mode only, we install an ad hoc setter on properties where a\n * tag is requested (i.e., it was used in a template) without being tracked. In\n * cases where the property is set, we raise an error.\n */\nfunction installDevModeErrorInterceptor(obj: object, key: string, throwError: UntrackedPropertyErrorThrower) {\n  let target = obj;\n  let descriptor: PropertyDescriptor;\n\n  // Find the descriptor for the current property. We may need to walk the\n  // prototype chain to do so. If the property is undefined, we may never get a\n  // descriptor here.\n  let hasOwnDescriptor = true;\n  while (target) {\n    descriptor = Object.getOwnPropertyDescriptor(target, key);\n    if (descriptor) { break; }\n    hasOwnDescriptor = false;\n    target = Object.getPrototypeOf(target);\n  }\n\n  // If possible, define a property descriptor that passes through the current\n  // value on reads but throws an exception on writes.\n  if (descriptor) {\n    if (descriptor.configurable || !hasOwnDescriptor) {\n      Object.defineProperty(obj, key, {\n        configurable: descriptor.configurable,\n        enumerable: descriptor.enumerable,\n\n        get() {\n          if (descriptor.get) {\n            return descriptor.get.call(this);\n          } else {\n            return descriptor.value;\n          }\n        },\n\n        set() {\n          throwError(this, key);\n        }\n      });\n    }\n  } else {\n    Object.defineProperty(obj, key, {\n      set() {\n        throwError(this, key);\n      }\n    });\n  }\n}\n","import { Simple } from '@glimmer/runtime';\nimport { metaFor } from './tracked';\n\n/**\n * The `Component` class defines an encapsulated UI element that is rendered to\n * the DOM. A component is made up of a template and, optionally, this component\n * object.\n *\n * ## Defining a Component\n *\n * To define a component, subclass `Component` and add your own properties,\n * methods and lifecycle hooks:\n *\n * ```ts\n * import Component from '@glimmer/component';\n *\n * export default class extends Component {\n * }\n * ```\n *\n * ## Lifecycle Hooks\n *\n * Lifecycle hooks allow you to respond to changes to a component, such as when\n * it gets created, rendered, updated or destroyed. To add a lifecycle hook to a\n * component, implement the hook as a method on your component subclass.\n *\n * For example, to be notified when Glimmer has rendered your component so you\n * can attach a legacy jQuery plugin, implement the `didInsertElement()` method:\n *\n * ```ts\n * import Component from '@glimmer/component';\n *\n * export default class extends Component {\n *   didInsertElement() {\n *     $(this.element).pickadate();\n *   }\n * }\n * ```\n *\n * ## Data for Templates\n *\n * `Component`s have two different kinds of data, or state, that can be\n * displayed in templates:\n *\n * 1. Arguments\n * 2. Properties\n *\n * Arguments are data that is passed in to a component from its parent\n * component. For example, if I have a `user-greeting` component, I can pass it\n * a name and greeting to use:\n *\n * ```hbs\n * <user-greeting @name=\"Ricardo\" @greeting=\"Ol\">\n * ```\n *\n * Inside my `user-greeting` template, I can access the `@name` and `@greeting`\n * arguments that I've been given:\n *\n * ```hbs\n * {{@greeting}}, {{@name}}!\n * ```\n *\n * Arguments are also available inside my component:\n *\n * ```ts\n * console.log(this.args.greeting); // prints \"Ol\"\n * ```\n *\n * Properties, on the other hand, are internal to the component and declared in\n * the class. You can use properties to store data that you want to show in the\n * template, or pass to another component as an argument.\n *\n * ```ts\n * import Component from '@glimmer/component';\n *\n * export default class extends Component {\n *   user = {\n *     name: 'Robbie'\n *   }\n * }\n * ```\n *\n * In the above example, we've defined a component with a `user` property that\n * contains an object with its own `name` property.\n *\n * We can render that property in our template:\n *\n * ```hbs\n * Hello, {{user.name}}!\n * ```\n *\n * We can also take that property and pass it as an argument to the\n * `user-greeting` component we defined above:\n *\n * ```hbs\n * <user-greeting @greeting=\"Hello\" @name={{user.name}} />\n * ```\n *\n * ## Arguments vs. Properties\n *\n * Remember, arguments are data that was given to your component by its parent\n * component, and properties are data your component has defined for itself.\n *\n * You can tell the difference between arguments and properties in templates\n * because arguments always start with an `@` sign (think \"A is for arguments\"):\n *\n * ```hbs\n * {{@firstName}}\n * ```\n *\n * We know that `@firstName` came from the parent component, not the current\n * component, because it starts with `@` and is therefore an argument.\n *\n * On the other hand, if we see:\n *\n * ```hbs\n * {{name}}\n * ```\n *\n * We know that `name` is a property on the component. If we want to know where\n * the data is coming from, we can go look at our component class to find out.\n *\n * Inside the component itself, arguments always show up inside the component's\n * `args` property. For example, if `{{@firstName}}` is `Tom` in the template,\n * inside the component `this.args.firstName` would also be `Tom`.\n */\nclass Component {\n  /**\n   * The element corresponding to the top-level element of the component's template.\n   * You should not try to access this property until after the component's `didInsertElement()`\n   * lifecycle hook is called.\n   */\n  element: Simple.Element = null;\n\n  /**\n   * Development-mode only name of the component, useful for debugging.\n   */\n  debugName: string = null;\n\n  /**\n   * Named arguments passed to the component from its parent component.\n   * They can be accessed in JavaScript via `this.args.argumentName` and in the template via `@argumentName`.\n   *\n   * Say you have the following component, which will have two `args`, `firstName` and `lastName`:\n   *\n   * ```hbs\n   * <my-component @firstName=\"Arthur\" @lastName=\"Dent\" />\n   * ```\n   *\n   * If you needed to calculate `fullName` by combining both of them, you would do:\n   *\n   * ```ts\n   * didInsertElement() {\n   *   console.log(`Hi, my full name is ${this.args.firstName} ${this.args.lastName}`);\n   * }\n   * ```\n   *\n   * While in the template you could do:\n   *\n   * ```hbs\n   * <p>Welcome, {{@firstName}} {{@lastName}}!</p>\n   * ```\n   *\n   */\n  get args() {\n    return this.__args__;\n  }\n\n  set args(args) {\n    this.__args__ = args;\n    metaFor(this).dirtyableTagFor('args').inner.dirty();\n  }\n\n  /** @private\n   * Slot on the component to save Arguments object passed to the `args` setter.\n   */\n  private __args__: any = null;\n\n  static create(injections: any) {\n    return new this(injections);\n  }\n\n  /**\n   * Constructs a new component and assigns itself the passed properties. You\n   * should not construct new components yourself. Instead, Glimmer will\n   * instantiate new components automatically as it renders.\n   *\n   * @param options\n   */\n  constructor(options: object) {\n    Object.assign(this, options);\n  }\n\n  /**\n   * Called when the component has been inserted into the DOM.\n   * Override this function to do any set up that requires an element in the document body.\n   */\n  didInsertElement() { }\n\n  /**\n   * Called when the component has updated and rerendered itself.\n   * Called only during a rerender, not during an initial render.\n   */\n  didUpdate() { }\n\n  /**\n   * Called before the component has been removed from the DOM.\n   */\n  willDestroy() { }\n\n  destroy() {\n    this.willDestroy();\n  }\n\n  toString() {\n    return `${this.debugName} component`;\n  }\n}\n\nexport default Component;\n\nexport interface ComponentFactory {\n  create(injections: object): Component;\n}\n","import {\n  dict\n} from '@glimmer/util';\nimport {\n  PathReference,\n  CONSTANT_TAG,\n  ConstReference,\n  DirtyableTag,\n  UpdatableTag,\n  combine,\n  isConst,\n  Tag,\n  TagWrapper\n} from '@glimmer/reference';\nimport {\n  ConditionalReference as GlimmerConditionalReference,\n  PrimitiveReference\n} from '@glimmer/runtime';\nimport { tagForProperty, UntrackedPropertyError } from \"./tracked\";\n\n/**\n * The base PathReference.\n */\nexport abstract class ComponentPathReference<T> implements PathReference<T> {\n  abstract value(): T;\n  abstract get tag(): Tag;\n\n  get(key: string): PathReference<any> {\n    return PropertyReference.create(this, key);\n  }\n}\n\nexport abstract class CachedReference<T> extends ComponentPathReference<T> {\n  private _lastRevision: number | null = null;\n  private _lastValue: any = null;\n\n  abstract compute(): T;\n\n  value() {\n    let { tag, _lastRevision, _lastValue } = this;\n\n    if (!_lastRevision || !tag.validate(_lastRevision)) {\n      _lastValue = this._lastValue = this.compute();\n      this._lastRevision = tag.value();\n    }\n\n    return _lastValue;\n  }\n}\n\nexport class RootReference extends ConstReference<object> {\n  private children = dict<RootPropertyReference>();\n\n  get(propertyKey: string) {\n    let ref = this.children[propertyKey];\n\n    if (!ref) {\n      ref = this.children[propertyKey] = new RootPropertyReference(this.inner, propertyKey);\n    }\n\n    return ref;\n  }\n}\n\nexport abstract class PropertyReference extends CachedReference<any> {\n  static create(parentReference: PathReference<any>, propertyKey: string) {\n    if (isConst(parentReference)) {\n      return new RootPropertyReference(parentReference.value(), propertyKey);\n    } else {\n      return new NestedPropertyReference(parentReference, propertyKey);\n    }\n  }\n\n  get(key: string): PathReference<any>  {\n    return new NestedPropertyReference(this, key);\n  }\n}\n\nfunction buildError(obj: any, key: string) {\n  let message = `The '${key}' property on the ${obj} was changed after it had been rendered. Properties that change after being rendered must be tracked. Use the @tracked decorator to mark this as a tracked property.`;\n  throw new UntrackedPropertyError(obj, key, message);\n}\n\nexport class RootPropertyReference extends PropertyReference {\n  tag: Tag;\n  private _parentValue: object;\n  private _propertyKey: string;\n\n  constructor(parentValue: object, propertyKey: string) {\n    super();\n\n    this._parentValue = parentValue;\n    this._propertyKey = propertyKey;\n    this.tag = tagForProperty(parentValue, propertyKey, buildError);\n  }\n\n  compute(): any {\n    return (this._parentValue as any)[this._propertyKey];\n  }\n}\n\nexport class NestedPropertyReference extends PropertyReference {\n  public tag: Tag;\n  private _parentReference: PathReference<any>;\n  private _parentObjectTag: TagWrapper<UpdatableTag>;\n  private _propertyKey: string;\n\n  constructor(parentReference: PathReference<any>, propertyKey: string) {\n    super();\n\n    let parentReferenceTag = parentReference.tag;\n    let parentObjectTag = UpdatableTag.create(CONSTANT_TAG);\n\n    this._parentReference = parentReference;\n    this._parentObjectTag = parentObjectTag;\n    this._propertyKey = propertyKey;\n\n    this.tag = combine([parentReferenceTag, parentObjectTag]);\n  }\n\n  compute() {\n    let { _parentReference, _parentObjectTag, _propertyKey } = this;\n\n    let parentValue = _parentReference.value();\n\n    _parentObjectTag.inner.update(tagForProperty(parentValue, _propertyKey));\n\n    if (typeof parentValue === 'string' && _propertyKey === 'length') {\n      return parentValue.length;\n    }\n\n    if (typeof parentValue === 'object' && parentValue) {\n      return parentValue[_propertyKey];\n    } else {\n      return undefined;\n    }\n  }\n}\n\nexport class UpdatableReference<T> extends ComponentPathReference<T> {\n  public tag: TagWrapper<DirtyableTag>;\n  private _value: T;\n\n  constructor(value: T) {\n    super();\n\n    this.tag = DirtyableTag.create();\n    this._value = value;\n  }\n\n  value() {\n    return this._value;\n  }\n\n  update(value: T) {\n    let { _value } = this;\n\n    if (value !== _value) {\n      this.tag.inner.dirty();\n      this._value = value;\n    }\n  }\n}\n\nexport class ConditionalReference extends GlimmerConditionalReference {\n  static create(reference: PathReference<any>) {\n    if (isConst(reference)) {\n      let value = reference.value();\n      return PrimitiveReference.create(value);\n    }\n\n    return new ConditionalReference(reference);\n  }\n}\n","import {\n  getOwner,\n  setOwner,\n  Factory,\n  Owner\n} from '@glimmer/di';\nimport {\n  Bounds,\n  ComponentManager as GlimmerComponentManager,\n  DynamicScope,\n  Environment,\n  Simple,\n  CompiledDynamicProgram,\n  Arguments,\n  Template,\n  CapturedArguments\n} from '@glimmer/runtime';\nimport Component from './component';\nimport ComponentDefinition from './component-definition';\nimport { RootReference } from './references';\nimport { Dict, Destroyable } from \"@glimmer/util\";\n\nexport interface ConstructorOptions {\n  env: Environment;\n}\n\nexport class ComponentStateBucket {\n  public name: string;\n  public component: Component;\n  private args: CapturedArguments;\n\n  constructor(definition: ComponentDefinition, args: CapturedArguments, owner: Owner) {\n    let componentFactory = definition.componentFactory;\n    let name = definition.name;\n\n    this.args = args;\n\n    let injections = {\n      debugName: name,\n      args: this.namedArgsSnapshot()\n    };\n\n    setOwner(injections, owner);\n    this.component = componentFactory.create(injections);\n  }\n\n  namedArgsSnapshot(): Readonly<Dict<object | void>> {\n    return Object.freeze(this.args.named.value());\n  }\n}\n\nexport default class ComponentManager implements GlimmerComponentManager<ComponentStateBucket> {\n  private env: Environment;\n\n  static create(options: ConstructorOptions): ComponentManager {\n    return new ComponentManager(options);\n  }\n\n  constructor(options: ConstructorOptions) {\n    this.env = options.env;\n  }\n\n  prepareArgs(definition: ComponentDefinition, args: Arguments): null {\n    return null;\n  }\n\n  create(environment: Environment, definition: ComponentDefinition, volatileArgs: Arguments): ComponentStateBucket | null {\n    let componentFactory = definition.componentFactory;\n    if (!componentFactory) { return null; }\n\n    let owner = getOwner(this.env);\n    return new ComponentStateBucket(definition, volatileArgs.capture(), owner);\n  }\n\n  createComponentDefinition(name: string, template: Template<any>, componentFactory?: Factory<Component>): ComponentDefinition {\n    return new ComponentDefinition(name, this, template, componentFactory);\n  }\n\n  layoutFor(definition: ComponentDefinition, bucket: ComponentStateBucket, env: Environment): CompiledDynamicProgram {\n    let template = definition.template;\n    let compiledLayout = template.asLayout().compileDynamic(this.env);\n\n    return compiledLayout;\n  }\n\n  getSelf(bucket: ComponentStateBucket) {\n    if (!bucket) { return null; }\n    return new RootReference(bucket.component);\n  }\n\n  didCreateElement(bucket: ComponentStateBucket, element: Simple.Element) {\n    if (!bucket) { return; }\n    bucket.component.element = element;\n  }\n\n  didRenderLayout(bucket: ComponentStateBucket, bounds: Bounds) {\n  }\n\n  didCreate(bucket: ComponentStateBucket) {\n    bucket && bucket.component.didInsertElement();\n  }\n\n  getTag(): null {\n    return null;\n  }\n\n  update(bucket: ComponentStateBucket, scope: DynamicScope) {\n    if (!bucket) { return; }\n\n    // TODO: This should be moved to `didUpdate`, but there's currently a\n    // Glimmer bug that causes it not to be called if the layout doesn't update.\n    let { component } = bucket;\n\n    component.args = bucket.namedArgsSnapshot();\n    component.didUpdate();\n  }\n\n  didUpdateLayout() {}\n\n  didUpdate(bucket: ComponentStateBucket) { }\n\n  getDestructor(bucket: ComponentStateBucket): Destroyable {\n    if (!bucket) { return; }\n\n    return bucket.component;\n  }\n}\n","import Component from '@glimmer/component';\n\nexport default class AboutOverview extends Component {\n};\n","export default {\"id\":\"8FCf1ZCd\",\"block\":\"{\\\"symbols\\\":[],\\\"prelude\\\":[[6,\\\"div\\\"]],\\\"head\\\":[[9,\\\"class\\\",\\\"column\\\"],[7]],\\\"statements\\\":[[0,\\\"\\\\n  \\\"],[6,\\\"h1\\\"],[9,\\\"class\\\",\\\"title is-4\\\"],[7],[0,\\\"About Code-Heads\\\"],[8],[0,\\\"\\\\n  \\\"],[6,\\\"p\\\"],[9,\\\"class\\\",\\\"content\\\"],[7],[0,\\\"\\\\n    The Code-Heads Club is partnership between Engineers and Students.\\\\n    Our mission is to maintain a free curriculum for young adults learning to code.\\\\n\\\\n    The partnership's primary focus is to ensure that students who want to become engineers\\\\n    have a practical and relevant foundation for their career trajectory. To support this focus,\\\\n    we've established the follwing principles:\\\\n\\\\n    \\\"],[6,\\\"ul\\\"],[7],[0,\\\"\\\\n      \\\"],[6,\\\"li\\\"],[7],[0,\\\"Theory is meaningless without practical application\\\"],[8],[0,\\\"\\\\n      \\\"],[6,\\\"li\\\"],[7],[0,\\\"The future of technology is in a more declarative (and human) approach to coding. We should code the way we speak.\\\"],[8],[0,\\\"\\\\n      \\\"],[6,\\\"li\\\"],[7],[0,\\\"Learning should always involve teaching, because sharing knowledge almost always leads to new ideas innovation\\\"],[8],[0,\\\"\\\\n      \\\"],[6,\\\"li\\\"],[7],[0,\\\"Technology as a career must remain attainable for anyone willing to learn to do it\\\"],[8],[0,\\\"\\\\n    \\\"],[8],[0,\\\"\\\\n  \\\"],[8],[0,\\\"\\\\n\\\"],[8],[0,\\\"\\\\n\\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"column\\\"],[7],[0,\\\"\\\\n  \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"card\\\"],[7],[0,\\\"\\\\n    \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"card-content\\\"],[7],[0,\\\"\\\\n      \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"media\\\"],[7],[0,\\\"\\\\n        \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"media-left\\\"],[7],[0,\\\"\\\\n          \\\"],[6,\\\"figure\\\"],[9,\\\"class\\\",\\\"image is-64x64\\\"],[7],[0,\\\"\\\\n            \\\"],[6,\\\"img\\\"],[9,\\\"src\\\",\\\"https://lh3.googleusercontent.com/-ztm7wZFUgrU/VWdSIgKmMGI/AAAAAAAABIA/xfI_6KKPOQQXtZnnkdApDETUaUyd-W8MgCEw/w280-h280-p/profile_google.jpg\\\"],[9,\\\"alt\\\",\\\"Github avatar image\\\"],[7],[8],[0,\\\"\\\\n          \\\"],[8],[0,\\\"\\\\n        \\\"],[8],[0,\\\"\\\\n        \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"media-content\\\"],[7],[0,\\\"\\\\n          \\\"],[6,\\\"p\\\"],[9,\\\"class\\\",\\\"title is-4\\\"],[7],[0,\\\"Carlos Rodriguez\\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"p\\\"],[9,\\\"class\\\",\\\"subtitle is-6\\\"],[7],[0,\\\"\\\\n            \\\"],[6,\\\"i\\\"],[9,\\\"class\\\",\\\"fa fa-github\\\"],[9,\\\"aria-hidden\\\",\\\"true\\\"],[7],[8],[0,\\\"\\\\n            \\\"],[6,\\\"a\\\"],[9,\\\"href\\\",\\\"https://github.com/crodriguez1a\\\"],[9,\\\"target\\\",\\\"_blank\\\"],[7],[0,\\\"\\\\n              \\\"],[6,\\\"strong\\\"],[7],[0,\\\"crodriguez\\\"],[8],[0,\\\"\\\\n            \\\"],[8],[0,\\\"\\\\n          \\\"],[8],[0,\\\"\\\\n        \\\"],[8],[0,\\\"\\\\n      \\\"],[8],[0,\\\"\\\\n\\\\n      \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"content\\\"],[7],[0,\\\"\\\\n        Code-Heads was founded by Carlos Rodriguez.\\\\n        He's a Charlotte-based software engineer, husband, and father of three\\\\n        children who are also proud of their nerdom.\\\\n      \\\"],[8],[0,\\\"\\\\n    \\\"],[8],[0,\\\"\\\\n    \\\"],[6,\\\"footer\\\"],[9,\\\"class\\\",\\\"card-footer\\\"],[7],[0,\\\"\\\\n      \\\"],[6,\\\"a\\\"],[9,\\\"href\\\",\\\"#!/about/resume\\\"],[9,\\\"class\\\",\\\"card-footer-item\\\"],[7],[0,\\\"\\\\n        \\\"],[6,\\\"i\\\"],[9,\\\"class\\\",\\\"icon fa fa-icon fa-paper-plane-o\\\"],[9,\\\"aria-hidden\\\",\\\"true\\\"],[7],[8],[0,\\\"\\\\n        Resume\\\\n      \\\"],[8],[0,\\\"\\\\n      \\\"],[6,\\\"a\\\"],[9,\\\"href\\\",\\\"mailto:crodriguez1a@gmail.com\\\"],[9,\\\"class\\\",\\\"card-footer-item\\\"],[7],[0,\\\"\\\\n        \\\"],[6,\\\"i\\\"],[9,\\\"class\\\",\\\"icon fa fa-icon fa-envelope-o\\\"],[9,\\\"aria-hidden\\\",\\\"true\\\"],[7],[8],[0,\\\"\\\\n        Email\\\\n      \\\"],[8],[0,\\\"\\\\n    \\\"],[8],[0,\\\"\\\\n  \\\"],[8],[0,\\\"\\\\n\\\"],[8],[0,\\\"\\\\n\\\"]],\\\"hasEval\\\":false}\",\"meta\":{\"specifier\":\"template:/website/components/about-overview\"}};","import Component from '@glimmer/component';\n\nexport default class AboutResume extends Component {\n  private print(e) {\n    e.preventDefault();\n    \n    window.print();\n  }\n};\n","export default {\"id\":\"NTAO+IxS\",\"block\":\"{\\\"symbols\\\":[\\\"resume\\\",\\\"activity\\\",\\\"technology\\\",\\\"title\\\",\\\"@resume\\\"],\\\"prelude\\\":[[6,\\\"div\\\"]],\\\"head\\\":[[9,\\\"class\\\",\\\"column resume\\\"],[7]],\\\"statements\\\":[[0,\\\"\\\\n\\\\n  \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"columns\\\"],[7],[0,\\\"\\\\n    \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"column\\\"],[7],[0,\\\"\\\\n      \\\"],[6,\\\"h1\\\"],[9,\\\"class\\\",\\\"title is-4\\\"],[7],[0,\\\"\\\\n        Carlos Rodriguez\\\\n      \\\"],[8],[0,\\\"\\\\n      \\\"],[6,\\\"h2\\\"],[9,\\\"class\\\",\\\"subtitle is-6\\\"],[7],[0,\\\"\\\\n        Engineer + Father of 3 + Founder of the Code-Heads Club\\\\n      \\\"],[8],[0,\\\"\\\\n      \\\"],[6,\\\"p\\\"],[7],[0,\\\"\\\\n        \\\"],[6,\\\"a\\\"],[9,\\\"href\\\",\\\"https://github.com/crodriguez1a\\\"],[9,\\\"target\\\",\\\"_blank\\\"],[7],[0,\\\"\\\\n          \\\"],[6,\\\"i\\\"],[9,\\\"class\\\",\\\"icon fa fa-github\\\"],[9,\\\"aria-hidden\\\",\\\"true\\\"],[7],[8],[0,\\\"crodriguez1a\\\\n        \\\"],[8],[0,\\\"\\\\n      \\\"],[8],[0,\\\"\\\\n      \\\"],[6,\\\"p\\\"],[7],[0,\\\"\\\\n        \\\"],[6,\\\"a\\\"],[9,\\\"target\\\",\\\"_blank\\\"],[9,\\\"href\\\",\\\"mailto:crodriguez1a@gmail.com\\\"],[7],[0,\\\"crodriguez1a@gmail.com\\\"],[8],[0,\\\"\\\\n      \\\"],[8],[0,\\\"\\\\n      \\\"],[6,\\\"p\\\"],[7],[0,\\\"\\\\n        \\\"],[6,\\\"a\\\"],[9,\\\"href\\\",\\\"tel:(980)267-4467\\\"],[7],[0,\\\"980-267-4467\\\"],[8],[0,\\\"\\\\n      \\\"],[8],[0,\\\"\\\\n      \\\"],[6,\\\"br\\\"],[7],[8],[0,\\\"\\\\n    \\\"],[8],[0,\\\"\\\\n    \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"column is-2 has-text-right no-print is-hidden-mobile\\\"],[7],[0,\\\"\\\\n      \\\"],[6,\\\"a\\\"],[9,\\\"href\\\",\\\"#\\\"],[10,\\\"onclick\\\",[25,\\\"action\\\",[[19,0,[\\\"print\\\"]]],null],null],[7],[6,\\\"i\\\"],[9,\\\"class\\\",\\\"fa fa-icon fa-print\\\"],[7],[8],[8],[0,\\\"\\\\n    \\\"],[8],[0,\\\"\\\\n  \\\"],[8],[0,\\\"\\\\n\\\\n  \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"columns page-break\\\"],[7],[0,\\\"\\\\n    \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"column\\\"],[7],[0,\\\"\\\\n      \\\"],[6,\\\"p\\\"],[9,\\\"class\\\",\\\"content\\\"],[7],[0,\\\"\\\\n        \\\"],[6,\\\"h1\\\"],[9,\\\"class\\\",\\\"title is-4\\\"],[7],[0,\\\"Summary\\\"],[8],[0,\\\"\\\\n        \\\"],[6,\\\"ul\\\"],[7],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"14 years of experience in Tech\\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"9 years of experience building enterprise solutions\\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"Open Source Author/Contributor\\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"Senior Software Engineer\\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"Application Architect\\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"Senior Javascript Engineer\\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"Full Stack Engineer\\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"Team Lead\\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"Project Lead\\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"Consultant\\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"Entrepreneur\\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"Educator\\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"Student\\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"Nerd\\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"Fluency/literacy in Spanish\\\"],[8],[0,\\\"\\\\n        \\\"],[8],[0,\\\"\\\\n      \\\"],[8],[0,\\\"\\\\n    \\\"],[8],[0,\\\"\\\\n    \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"column\\\"],[7],[0,\\\"\\\\n      \\\"],[6,\\\"h1\\\"],[9,\\\"class\\\",\\\"title is-4\\\"],[7],[0,\\\"Preferred Languages, Frameworks, and Tools\\\"],[8],[0,\\\"\\\\n      \\\"],[6,\\\"p\\\"],[9,\\\"class\\\",\\\"content\\\"],[7],[0,\\\"\\\\n        \\\"],[6,\\\"ul\\\"],[7],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"\\\\n            JavaScript\\\\n            \\\"],[6,\\\"ul\\\"],[7],[0,\\\"\\\\n              \\\"],[6,\\\"li\\\"],[7],[0,\\\"TypeScript\\\"],[8],[0,\\\"\\\\n              \\\"],[6,\\\"li\\\"],[7],[0,\\\"Glimmer/Redux\\\"],[8],[0,\\\"\\\\n              \\\"],[6,\\\"li\\\"],[7],[0,\\\"React/Redux\\\"],[8],[0,\\\"\\\\n              \\\"],[6,\\\"li\\\"],[7],[0,\\\"Aurelia/Redux\\\"],[8],[0,\\\"\\\\n              \\\"],[6,\\\"li\\\"],[7],[0,\\\"Ember/Ember-Data\\\"],[8],[0,\\\"\\\\n            \\\"],[8],[0,\\\"\\\\n          \\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"\\\\n            Mobile/Native\\\\n            \\\"],[6,\\\"ul\\\"],[7],[0,\\\"\\\\n              \\\"],[6,\\\"li\\\"],[7],[0,\\\"Swift\\\"],[8],[0,\\\"\\\\n              \\\"],[6,\\\"li\\\"],[7],[0,\\\"React Native\\\"],[8],[0,\\\"\\\\n            \\\"],[8],[0,\\\"\\\\n          \\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"\\\\n            Version Control\\\\n            \\\"],[6,\\\"ul\\\"],[7],[0,\\\"\\\\n              \\\"],[6,\\\"li\\\"],[7],[0,\\\"Github\\\"],[8],[0,\\\"\\\\n              \\\"],[6,\\\"li\\\"],[7],[0,\\\"Bitbucket\\\"],[8],[0,\\\"\\\\n            \\\"],[8],[0,\\\"\\\\n          \\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"\\\\n            Server\\\\n            \\\"],[6,\\\"ul\\\"],[7],[0,\\\"\\\\n              \\\"],[6,\\\"li\\\"],[7],[0,\\\"Node/Express\\\"],[8],[0,\\\"\\\\n              \\\"],[6,\\\"li\\\"],[7],[0,\\\"Python/Flask\\\"],[8],[0,\\\"\\\\n              \\\"],[6,\\\"li\\\"],[7],[0,\\\"Ruby/Rails\\\"],[8],[0,\\\"\\\\n            \\\"],[8],[0,\\\"\\\\n          \\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"\\\\n            Testing/Dev-ops\\\\n            \\\"],[6,\\\"ul\\\"],[7],[0,\\\"\\\\n              \\\"],[6,\\\"li\\\"],[7],[0,\\\"Jasmine\\\"],[8],[0,\\\"\\\\n              \\\"],[6,\\\"li\\\"],[7],[0,\\\"QUnit\\\"],[8],[0,\\\"\\\\n              \\\"],[6,\\\"li\\\"],[7],[0,\\\"Travis\\\"],[8],[0,\\\"\\\\n            \\\"],[8],[0,\\\"\\\\n          \\\"],[8],[0,\\\"\\\\n          \\\"],[6,\\\"li\\\"],[7],[0,\\\"\\\\n            Communication\\\\n            \\\"],[6,\\\"ul\\\"],[7],[0,\\\"\\\\n              \\\"],[6,\\\"li\\\"],[7],[0,\\\"Slack\\\"],[8],[0,\\\"\\\\n              \\\"],[6,\\\"li\\\"],[7],[0,\\\"Trello\\\"],[8],[0,\\\"\\\\n            \\\"],[8],[0,\\\"\\\\n          \\\"],[8],[0,\\\"\\\\n        \\\"],[8],[0,\\\"\\\\n      \\\"],[8],[0,\\\"\\\\n    \\\"],[8],[0,\\\"\\\\n  \\\"],[8],[0,\\\"\\\\n\\\\n  \\\"],[6,\\\"h1\\\"],[9,\\\"class\\\",\\\"title is-4\\\"],[7],[0,\\\"Experience\\\"],[8],[0,\\\"\\\\n\\\"],[4,\\\"each\\\",[[19,5,[]]],[[\\\"key\\\"],[\\\"@index\\\"]],{\\\"statements\\\":[[0,\\\"    \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"card\\\"],[7],[0,\\\"\\\\n      \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"card-content\\\"],[7],[0,\\\"\\\\n        \\\"],[6,\\\"p\\\"],[7],[0,\\\"\\\\n          \\\"],[6,\\\"span\\\"],[9,\\\"class\\\",\\\"title is-5\\\"],[7],[6,\\\"strong\\\"],[7],[1,[19,1,[\\\"employer\\\"]],false],[8],[8],[0,\\\" \\\"],[6,\\\"small\\\"],[7],[1,[19,1,[\\\"tenure\\\"]],false],[8],[0,\\\"\\\\n        \\\"],[8],[0,\\\"\\\\n\\\\n        \\\"],[6,\\\"h2\\\"],[9,\\\"class\\\",\\\"title is-6\\\"],[7],[0,\\\"\\\\n\\\"],[4,\\\"each\\\",[[19,1,[\\\"titles\\\"]]],[[\\\"key\\\"],[\\\"@index\\\"]],{\\\"statements\\\":[[0,\\\"            \\\"],[1,[19,4,[]],false],[0,\\\"\\\\n\\\"]],\\\"parameters\\\":[4]},null],[0,\\\"        \\\"],[8],[0,\\\"\\\\n\\\\n        \\\"],[6,\\\"p\\\"],[9,\\\"class\\\",\\\"content\\\"],[7],[0,\\\"\\\\n          \\\"],[6,\\\"h2\\\"],[9,\\\"class\\\",\\\"title is-6\\\"],[7],[6,\\\"strong\\\"],[7],[0,\\\"Technologies\\\"],[8],[8],[0,\\\"\\\\n          \\\"],[6,\\\"ul\\\"],[7],[0,\\\"\\\\n\\\"],[4,\\\"each\\\",[[19,1,[\\\"technologies\\\"]]],[[\\\"key\\\"],[\\\"@index\\\"]],{\\\"statements\\\":[[0,\\\"              \\\"],[6,\\\"li\\\"],[7],[1,[19,3,[]],false],[8],[0,\\\"\\\\n\\\"]],\\\"parameters\\\":[3]},null],[0,\\\"          \\\"],[8],[0,\\\"\\\\n        \\\"],[8],[0,\\\"\\\\n\\\\n        \\\"],[6,\\\"p\\\"],[9,\\\"class\\\",\\\"content\\\"],[7],[0,\\\"\\\\n          \\\"],[6,\\\"h2\\\"],[9,\\\"class\\\",\\\"title is-6\\\"],[7],[6,\\\"strong\\\"],[7],[0,\\\"Company\\\"],[8],[8],[0,\\\"\\\\n          \\\"],[1,[19,1,[\\\"company\\\"]],false],[0,\\\"\\\\n        \\\"],[8],[0,\\\"\\\\n\\\\n        \\\"],[6,\\\"p\\\"],[9,\\\"class\\\",\\\"content\\\"],[7],[0,\\\"\\\\n          \\\"],[6,\\\"h2\\\"],[9,\\\"class\\\",\\\"title is-6\\\"],[7],[6,\\\"strong\\\"],[7],[0,\\\"Overview\\\"],[8],[8],[0,\\\"\\\\n          \\\"],[1,[19,1,[\\\"overview\\\"]],false],[0,\\\"\\\\n        \\\"],[8],[0,\\\"\\\\n\\\\n\\\"],[4,\\\"if\\\",[[19,1,[\\\"leadership\\\"]]],null,{\\\"statements\\\":[[0,\\\"          \\\"],[6,\\\"p\\\"],[9,\\\"class\\\",\\\"content\\\"],[7],[0,\\\"\\\\n            \\\"],[6,\\\"h2\\\"],[9,\\\"class\\\",\\\"title is-6\\\"],[7],[6,\\\"strong\\\"],[7],[0,\\\"Leadership Experience\\\"],[8],[8],[0,\\\"\\\\n            \\\"],[6,\\\"ul\\\"],[7],[0,\\\"\\\\n\\\"],[4,\\\"each\\\",[[19,1,[\\\"leadership\\\"]]],[[\\\"key\\\"],[\\\"@index\\\"]],{\\\"statements\\\":[[0,\\\"                \\\"],[6,\\\"li\\\"],[7],[1,[19,2,[]],false],[8],[0,\\\"\\\\n\\\"]],\\\"parameters\\\":[2]},null],[0,\\\"            \\\"],[8],[0,\\\"\\\\n          \\\"],[8],[0,\\\"\\\\n\\\"]],\\\"parameters\\\":[]},null],[0,\\\"\\\\n\\\\n\\\"],[4,\\\"if\\\",[[19,1,[\\\"bubbles\\\"]]],null,{\\\"statements\\\":[[0,\\\"          \\\"],[6,\\\"p\\\"],[7],[0,\\\"\\\\n            \\\"],[6,\\\"hr\\\"],[7],[8],[0,\\\"\\\\n            \\\"],[6,\\\"h1\\\"],[9,\\\"class\\\",\\\"title is-6\\\"],[7],[1,[19,1,[\\\"bubblesTitle\\\"]],false],[8],[0,\\\"\\\\n            \\\"],[5,\\\"bubble-chart\\\",[],[[\\\"@list\\\"],[[19,1,[\\\"bubbles\\\"]]]],{\\\"statements\\\":[],\\\"parameters\\\":[]}],[0,\\\"\\\\n          \\\"],[8],[0,\\\"\\\\n\\\"]],\\\"parameters\\\":[]},null],[0,\\\"\\\\n      \\\"],[8],[0,\\\"\\\\n    \\\"],[8],[0,\\\"\\\\n    \\\"],[6,\\\"hr\\\"],[7],[8],[0,\\\"\\\\n\\\"]],\\\"parameters\\\":[1]},null],[0,\\\"\\\\n  \\\"],[6,\\\"p\\\"],[9,\\\"class\\\",\\\"content\\\"],[7],[0,\\\"\\\\n    \\\"],[6,\\\"h1\\\"],[9,\\\"class\\\",\\\"title is-4\\\"],[7],[0,\\\"Extras\\\"],[8],[0,\\\"\\\\n    \\\"],[6,\\\"ul\\\"],[7],[0,\\\"\\\\n      \\\"],[6,\\\"li\\\"],[7],[0,\\\"Authored iOS App featured on the Apple App Store\\\"],[8],[0,\\\"\\\\n      \\\"],[6,\\\"li\\\"],[7],[0,\\\"Founding member of the Code-heads Club\\\"],[8],[0,\\\"\\\\n      \\\"],[6,\\\"li\\\"],[7],[0,\\\"Coding Instructor at Oaklawn Language Academy (8th grade)\\\"],[8],[0,\\\"\\\\n    \\\"],[8],[0,\\\"\\\\n  \\\"],[8],[0,\\\"\\\\n\\\"],[8],[0,\\\"\\\\n\\\"]],\\\"hasEval\\\":false}\",\"meta\":{\"specifier\":\"template:/website/components/about-resume\"}};","export default {\"id\":\"RHtZ0CA1\",\"block\":\"{\\\"symbols\\\":[\\\"@article\\\",\\\"@didRead\\\"],\\\"prelude\\\":[[6,\\\"div\\\"]],\\\"head\\\":[[10,\\\"class\\\",[26,[\\\"was-read-\\\",[19,1,[\\\"read\\\"]]]]],[7]],\\\"statements\\\":[[0,\\\"\\\\n\\\"],[0,\\\"  \\\"],[6,\\\"h1\\\"],[9,\\\"class\\\",\\\"title is-5\\\"],[7],[1,[19,1,[\\\"title\\\"]],false],[8],[0,\\\"\\\\n  \\\"],[6,\\\"p\\\"],[7],[0,\\\"\\\\n    \\\"],[1,[19,1,[\\\"description\\\"]],false],[0,\\\" \\\"],[6,\\\"a\\\"],[9,\\\"href\\\",\\\"#\\\"],[10,\\\"onclick\\\",[19,2,[]],null],[7],[1,[19,1,[\\\"teaser\\\"]],false],[8],[0,\\\"\\\\n  \\\"],[8],[0,\\\"\\\\n\\\"],[8],[0,\\\"\\\\n\\\"]],\\\"hasEval\\\":false}\",\"meta\":{\"specifier\":\"template:/website/components/article-card\"}};","import Component from '@glimmer/component';\n\nexport default class ArticleModal extends Component {\n};\n","export default {\"id\":\"BRvguZhl\",\"block\":\"{\\\"symbols\\\":[\\\"@content\\\"],\\\"prelude\\\":[[6,\\\"div\\\"]],\\\"head\\\":[[9,\\\"class\\\",\\\"modal\\\"],[7]],\\\"statements\\\":[[0,\\\"\\\\n  \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"modal-background\\\"],[7],[8],[0,\\\"\\\\n  \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"modal-content\\\"],[7],[0,\\\"\\\\n    \\\"],[1,[19,1,[]],false],[0,\\\"\\\\n  \\\"],[8],[0,\\\"\\\\n  \\\"],[6,\\\"button\\\"],[9,\\\"class\\\",\\\"modal-close\\\"],[7],[8],[0,\\\"\\\\n\\\"],[8],[0,\\\"\\\\n\\\"]],\\\"hasEval\\\":false}\",\"meta\":{\"specifier\":\"template:/website/components/article-modal\"}};","import Component, { tracked } from '@glimmer/component';\n\nexport default class BubbleChart extends Component {\n  // TODO make these routable\n\n  @tracked highlighted: Object = null;\n\n  private shade(e) {\n    e.preventDefault();\n\n    this.highlighted = null;\n  }\n\n  private highlight(path, bubble, e) {\n    e.preventDefault();\n\n    this.highlighted = bubble;\n  }\n};\n","export default {\"id\":\"zhK5534b\",\"block\":\"{\\\"symbols\\\":[\\\"bubble\\\",\\\"@list\\\"],\\\"prelude\\\":[[6,\\\"div\\\"]],\\\"head\\\":[[7]],\\\"statements\\\":[[0,\\\"\\\\n\\\"],[4,\\\"if\\\",[[19,0,[\\\"highlighted\\\"]]],null,{\\\"statements\\\":[[0,\\\"    \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"details content\\\"],[7],[0,\\\"\\\\n      \\\"],[6,\\\"h2\\\"],[9,\\\"class\\\",\\\"subtitle is-6\\\"],[7],[0,\\\"\\\\n        \\\"],[6,\\\"a\\\"],[9,\\\"href\\\",\\\"#\\\"],[10,\\\"onclick\\\",[25,\\\"action\\\",[[19,0,[\\\"shade\\\"]]],null],null],[7],[0,\\\"\\\\n          < All projects\\\\n        \\\"],[8],[0,\\\"\\\\n      \\\"],[8],[0,\\\"\\\\n      \\\"],[6,\\\"p\\\"],[7],[0,\\\"\\\\n        \\\"],[1,[25,\\\"html-safe\\\",[[19,0,[\\\"highlighted\\\",\\\"description\\\"]]],null],false],[0,\\\"\\\\n      \\\"],[8],[0,\\\"\\\\n    \\\"],[8],[0,\\\"\\\\n\\\"]],\\\"parameters\\\":[]},{\\\"statements\\\":[[0,\\\"    \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"bubble-chart\\\"],[7],[0,\\\"\\\\n      \\\"],[6,\\\"ul\\\"],[7],[0,\\\"\\\\n\\\"],[4,\\\"each\\\",[[19,2,[]]],[[\\\"key\\\"],[\\\"@index\\\"]],{\\\"statements\\\":[[0,\\\"          \\\"],[6,\\\"li\\\"],[10,\\\"class\\\",[26,[\\\"bubble \\\",[19,1,[\\\"size\\\"]]]]],[7],[0,\\\"\\\\n            \\\"],[6,\\\"a\\\"],[9,\\\"href\\\",\\\"#\\\"],[10,\\\"onclick\\\",[25,\\\"action\\\",[[19,0,[\\\"highlight\\\"]],[19,1,[\\\"path\\\"]],[19,1,[]]],null],null],[7],[0,\\\"\\\\n              \\\"],[1,[25,\\\"html-safe\\\",[[19,1,[\\\"text\\\"]]],null],false],[0,\\\"\\\\n            \\\"],[8],[0,\\\"\\\\n          \\\"],[8],[0,\\\"\\\\n\\\"]],\\\"parameters\\\":[1]},null],[0,\\\"      \\\"],[8],[0,\\\"\\\\n    \\\"],[8],[0,\\\"\\\\n\\\"]],\\\"parameters\\\":[]}],[8],[0,\\\"\\\\n\\\"]],\\\"hasEval\\\":false}\",\"meta\":{\"specifier\":\"template:/website/components/bubble-chart\"}};","export default function equals(params) {\n  return params[0] === params[1];\n};\n","/**\n@module ember\n@submodule ember-glimmer\nhttps://github.com/emberjs/ember.js/blob/v2.12.0/packages/ember-glimmer/lib/utils/string.js#L100\n*/\n\n\nclass SafeString {\n  constructor(string) {\n    this.string = string;\n  }\n\n  public string:string = '';\n\n  toString() {\n    return `${this.string}`;\n  }\n\n  toHTML() {\n    return this.toString();\n  }\n}\n\n\nconst escape = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  // jscs:disable\n  \"'\": '&#x27;',\n  // jscs:enable\n  '`': '&#x60;',\n  '=': '&#x3D;'\n};\n\nconst possible = /[&<>\"'`=]/;\nconst badChars = /[&<>\"'`=]/g;\n\nfunction escapeChar(chr) {\n  return escape[chr];\n}\n\nfunction escapeExpression(string) {\n  if (typeof string !== 'string') {\n    // don't escape SafeStrings, since they're already safe\n    if (string && string.toHTML) {\n      return string.toHTML();\n    } else if (string == null) {\n      return '';\n    } else if (!string) {\n      return string + '';\n    }\n\n    // Force a string conversion as this will be done by the append regardless and\n    // the regex test will do this transparently behind the scenes, causing issues if\n    // an object's to string has escaped characters in it.\n    string = '' + string;\n  }\n\n  if (!possible.test(string)) { return string; }\n  return string.replace(badChars, escapeChar);\n}\n\n/**\n  Mark a string as safe for unescaped output with Ember templates. If you\n  return HTML from a helper, use this function to\n  ensure Ember's rendering layer does not escape the HTML.\n\n  ```javascript\n  Ember.String.htmlSafe('<div>someString</div>')\n  ```\n\n  @method htmlSafe\n  @for Ember.String\n  @static\n  @return {Handlebars.SafeString} A string that will not be HTML escaped by Handlebars.\n  @public\n*/\n\nexport default function htmlSafe(params) {\n  let str = params[0];\n  if (str === null || str === undefined) {\n    str = '';\n  } else if (typeof str !== 'string') {\n    str = '' + str;\n  }\n  return new SafeString(str);\n};\n","export default function strContains(params) {\n  // REVIEW consider indexOf\n  let a = (params[0]).toString();\n  let b = (params[1]).toString();\n  return (new RegExp(a, 'ig')).test(b);\n};\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n","import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n","import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n","import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n","import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n","import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n","import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/* global window */\nimport ponyfill from './ponyfill';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","import isPlainObject from 'lodash-es/isPlainObject';\nimport $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nexport var ActionTypes = {\n  INIT: '@@redux/INIT'\n};\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} enhancer The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\nexport default function createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    return currentState;\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected listener to be a function.');\n    }\n\n    var isSubscribed = true;\n\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      isSubscribed = false;\n\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i]();\n    }\n\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({ type: ActionTypes.INIT });\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/zenparsing/es-observable\n   */\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object') {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return { unsubscribe: unsubscribe };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ActionTypes.INIT });\n\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}","/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nexport default function warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n    /* eslint-disable no-empty */\n  } catch (e) {}\n  /* eslint-enable no-empty */\n}","/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nexport default function compose() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  var last = funcs[funcs.length - 1];\n  var rest = funcs.slice(0, -1);\n  return function () {\n    return rest.reduceRight(function (composed, f) {\n      return f(composed);\n    }, last.apply(undefined, arguments));\n  };\n}","import createStore from './createStore';\nimport combineReducers from './combineReducers';\nimport bindActionCreators from './bindActionCreators';\nimport applyMiddleware from './applyMiddleware';\nimport compose from './compose';\nimport warning from './utils/warning';\n\n/*\n* This is a dummy function to check if the function name has been altered by minification.\n* If the function has been minified and NODE_ENV !== 'production', warn the user.\n*/\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \\'production\\'. ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { createStore, combineReducers, bindActionCreators, applyMiddleware, compose };","// TODO fetch this lazily when async await is ready\nexport const articles = [\n  {\n    id: 0,\n    type: 'article',\n    title: 'A Practical Approach',\n    description: 'Content coming soon',\n    teaser: 'read more',\n    read: false,\n    markdown: './-utils/md/articles/foo.md'\n  },\n  {\n    id: 1,\n    type: 'article',\n    title: 'Keep Learning Free',\n    description: 'Content coming soon',\n    teaser: 'read more',\n    read: false,\n    markdown: './-utils/md/articles/foo.md'\n  },\n  {\n    id: 2,\n    type: 'article',\n    title: 'Contributors & Curators',\n    description: 'Content coming soon',\n    teaser: 'read more',\n    read: false,\n    markdown: './-utils/md/articles/foo.md'\n  },\n  {\n    id: 3,\n    type: 'article',\n    title: 'Start Learning on Your Own',\n    description: 'Content coming soon',\n    teaser: 'read more',\n    read: false,\n    markdown: './-utils/md/articles/foo.md'\n  }\n];\n\nexport const resume = [\n  {\n    id: 4,\n    type: 'resume',\n    employer: 'Ally Financial',\n    tenure: '2013 - Present',\n    titles: ['Senior Software Engineer', '+ Application Architect'],\n    technologies: [\n      'Vanilla JavaScript ES5/6/7',\n      'Node',\n      'Ember/Ember-Data/Ember-Engines',\n      'QUnit',\n      'REST API',\n      'Handlebars',\n      'Sass',\n      'Git CLI',\n      'Github Enterprise',\n      'Bitbucket Enterprise'\n    ],\n    company: 'A Leader in Digital Financial Services. The Ally Online Services web application has over 1 million active users',\n    overview: 'Architecting and engineering software infrastructure for various enterprise web applications that make up Ally Online Services. Project Lead responsible for oversight and code-review of first party, third party, and off-shore engineers and developers. Teaching repeatable patterns, intelligent abstractions, and best practices. Responsibilities for overall applications stability, maintainability, and scalability.',\n    leadership: [\n      'Project leadership',\n      'Architecting and Solutioning',\n      'Project and Timeline Management',\n      'Live coding reviews with off-shore teams, and staff augmentation teams',\n      'Oversight and live code review of third party feature contributors',\n      'Peer code review',\n      'Mentoring and Education',\n      'Spearheading Open Source Initiatives'\n    ],\n    bubblesTitle: 'Core contributor on:',\n    bubbles: [\n      {\n        id: 0,\n        path: '#!/about/resume/ally/bubbles/0',\n        text: 'Custom<br>Charts',\n        size: 'small',\n        description:'<h1 class=\"title is-5\"><small>2013</small> &nbsp;Custom charts and graphs with real-time feedback</h1> <ul> <li>Two way binding with the burgeoning Ember 0.X</li><li>An island implementation of Ember (pre ember-islands)</li><li>Pure CSS bar charts</li><li>Vanilla JS line graphs (due to dependency limitations)</li></ul>'\n      },\n      {\n        id: 1,\n        path: '#!/about/resume/ally/bubbles/1',\n        text: 'Single Page<br>Mobile Site',\n        size: 'medium',\n        description:'<h1 class=\"title is-5\"><small>2014</small> &nbsp;Single page mobile website</h1> <ul> <li>Routing implementation with Javascript and Apache</li><li>Leveraging/reusing existing desktop components</li><li>Google Maps API implementation (ATM locator)</li><li>Framework free (due to dependency limitations)</li></ul>'\n      },\n      {\n        id: 2,\n        path: '#!/about/resume/ally/bubbles/2',\n        text: 'Homepage<br>Login Access',\n        size: 'small',\n        description:'<h1 class=\"title is-5\"><small>2015</small> &nbsp;Homepage Login Widget</h1> <ul> <li>Authored Vanilla JS application micro-framework (due to dependency limitations)</li><li>Custom validation</li><li>Custom component state</li><li>Rudimentary Promise aware component rendering</li></ul>'\n      },\n      {\n        id: 4,\n        path: '#!/about/resume/ally/bubbles/3',\n        text: 'Authentication<br>Protocol Re-write',\n        size: 'large',\n        description: '<h1 class=\"title is-5\"><small>2016</small> &nbsp;Authentication Protocol Re-write</h1> <ul> <li>Multi-factor flows (with dozens of edge cases)</li><li>Custom adapter, serializer (endpoints were too overloaded for ember-data)</li><li>Intelligent routing and redirects</li><li>Re-usable client micro-services to perform auth related tasks</li><li>Secure third-party post-authentication hand-off</li><li>Modularization (in progress)</li></ul>'\n      },\n      {\n        id: 5,\n        path: '#!/about/resume/ally/bubbles/4',\n        text: 'Open Source<br>UI Component<br>Library',\n        size: 'medium',\n        description:'<h1 class=\"title is-5\"><small>2016</small> &nbsp;Open Source UI Component Library</h1> <ul> <li>Composable components</li><li>Stateless and logic-less (dumb)</li><li><a href=\"http://open-tux.github.io/ember-bulma/\" target=\"_blank\">Ember-Bulma</a></li></ul>'\n      },\n      {\n        id: 6,\n        path: '#!/about/resume/ally/bubbles/5',\n        text: 'Branded UI<br>Component Library',\n        size: 'medium',\n        description:'<h1 class=\"title is-5\"><small>2016</small> &nbsp;Ally Branded UI Component Library</h1> <ul> <li>Extends open source version</li><li>State-less and State-full (smart) components</li><li>Implementation of living style guide</li></ul>'\n      },\n      {\n        id: 7,\n        path: '#!/about/resume/ally/bubbles/6',\n        text: 'AOS Dashboard<br>Architecture',\n        size: 'x-large',\n        description:'<h1 class=\"title is-5\"><small>2016</small> &nbsp;SSO Dashboard Architecture</h1> <ul> <li>Exponential scalability</li><li>Truly de-coupled micro-applications</li><li>Universal UI patterns</li><li>SSO for various lines of business</li><li>Third party services integration</li><li>Universal application metrics</li><li>Simultaneous Responsive and Adaptive designs</li><li>Legacy code integration</li><li>Upgrade and deprecation paths</li><li>Migration to Ember Data</li></ul>'\n      },\n      {\n        id: 8,\n        path: '#!/about/resume/ally/bubbles/7',\n        text: 'Ember Engines<br>Architecture',\n        size: 'medium',\n        description:'<h1 class=\"title is-5\"><small>2017</small> &nbspEmber Engines Architecture</h1> <ul> <li>Ember 2.13 compatibility strategy (glimmer rendering)</li><li>Shared dependency audit</li><li>Shared services audit</li></ul>'\n      }\n    ]\n  },\n  {\n    id: 5,\n    type: 'resume',\n    employer: 'AM-to-PM Creative',\n    tenure: '2008 - 2013',\n    titles: ['Founder', '+ Full Stack Engineer', '+ Consultant'],\n    technologies: [\n      'JavaScript',\n      'Node',\n      'YUI',\n      'ActionScript',\n      'PHP',\n      'MySQL',\n      'AWS',\n      'Microsoft SQL',\n      'Oracle',\n      'Apache',\n      'Linux'\n    ],\n    overview: 'Engineering and consulting with a focus on data driven web applications, platform migrations, intranet/operations applications. Responsible for architectural and strategic consulting, API design/implementation, UX design/development.',\n    company: 'Whether it is a start up or a business re-inventing itself, AM-to-PM delivers big agency quality without the bloat.',\n    leadership: [\n      'Technical Sales',\n      'Resource Management',\n      'Estimates and Budgeting',\n      'Platform training and education'\n    ],\n    bubblesTitle: 'Projects of Note:',\n    bubbles: [\n      {\n        id: 0,\n        path: '#!/about/resume/ampm/bubbles/0',\n        text: 'Order Tracking<br>Application',\n        size: 'small',\n        description:'<h1 class=\"title is-5\"><small>2009</small> &nbsp;Order generation for large sales team</h1> <ul> <li>Automated order form generation</li><li>UI Design/Development</li></ul>'\n      },\n      {\n        id: 1,\n        path: '#!/about/resume/ampm/bubbles/1',\n        text: 'Claims Management<br>Application',\n        size: 'medium',\n        description:'<h1 class=\"title is-5\"><small>2010</small> &nbsp;Automation of claims for lost or stolen equipment</h1> <ul><li>Multi-tier Authentication</li><li>Email platform</li><li>Pre-populated claims forms</li><li>Automated inventory auditing</li><li>Automated reports</li></ul>'\n      },\n      {\n        id: 2,\n        path: '#!/about/resume/ampm/bubbles/2',\n        text: 'Project Management<br>Web Application',\n        size: 'large',\n        description:'<h1 class=\"title is-5\"><small>2011</small> &nbsp;Project Management Software</h1> <ul><li>Time tracking with stop-watch</li><li>Time sheets</li><li>Authentication</li><li>Gantt display</li><li>Email alerts</li><li>Semi-automated budget tracking</li><li>Internal messaging</li><li>Meeting scheduler</li><li>Automated reporting</li><li>Bug tracking</li></ul>'\n      },\n      {\n        id: 3,\n        path: '#!/about/resume/ampm/bubbles/3',\n        text: 'Keppler Speakers<br>Search API',\n        size: 'x-large',\n        description: '<h1 class=\"title is-5\"><small>2012</small> &nbsp;Search API re-write to support large-scale database and platform migration</h1><ul><li>Migration of platform from ASP to PHP</li><li>Aggregation middleware cross-referencing across Microsoft SQL Server and Oracle databases</li><li>Asynchrounous Results and Pagination</li><li>Mobile web implementation</li></li></ul>'\n      },\n      {\n        id: 4,\n        path: '#!/about/resume/ampm/bubbles/4',\n        text: 'Ecommerce<br>Application',\n        size: 'x-large',\n        description: '<h1 class=\"title is-5\"><small>2012</small> &nbsp;Etsy clone Ecommerce platform</h1><ul><li>Facebook Auth API</li><li>Custom page and content creation</li><li>Internal messaging</li><li>Search API</li><li>Payment Gateway Implementation</li><li>UX Design</li></ul>'\n      }\n    ]\n  },\n  {\n    id: 5,\n    type: 'resume',\n    employer: 'Dakota Group',\n    tenure: '2007 - 2008',\n    titles: ['Senior UI Developer'],\n    overview: 'Lead Developer primarily focused on intranet portals, web-based applications, and kiosk applications.',\n    company: 'The Dakota Group is a marketing communications firm, specializing in print and web communications.',\n    technologies: [\n      'JavaScript',\n      'HTML',\n      'CSS',\n      'ActionScript',\n      'PHP'\n    ]\n  },\n  {\n    id: 5,\n    type: 'resume',\n    employer: 'Starwood Hotels',\n    tenure: '2005 - 2007',\n    titles: ['ActionScript Developer'],\n    overview: 'Developed interactive data-driven Flash applications',\n    company: 'Starwood Hotels & Resorts and Marriott International are now one company. Marriott International is the worlds leading global hospitality company, with more brands, more hotels and more opportunities for associates to grow and succeed.',\n    technologies: [\n      'ActionScript',\n      'JavaScript',\n      'XML'\n    ]\n  },\n  {\n    id: 5,\n    type: 'resume',\n    employer: 'Worx Group',\n    tenure: '2004 - 2005',\n    titles: ['UI Designer'],\n    overview: 'Website, e-commerce and intranet/portal design',\n    company: 'The Worx Group is a nationally-recognized brand communications firm, named for a group of marketers who do what worx.',\n    technologies: [\n      'Photoshop',\n      'Dreamweaver',\n      'Fireworks',\n      'Illustrator'\n    ]\n  }\n];\n\n\nexport const content = [].concat(articles, resume);\n","// TODO import all the content as the state\nimport { content } from './content';\n\nexport default function ArticlesReducer (state=content, action) {\n  // TODO where would an async fetch belong?\n  switch (action.type) {\n    case 'MARK_AS_READ':\n      return state.map((article, index) => {\n        if (index === action.index && article.hasOwnProperty('read')) {\n          return {...article, read: true}\n        }\n        return article\n      })\n    default:\n      return state\n  }\n};\n","function isPushStateAvailable() {\n  return !!(\n    typeof window !== 'undefined' &&\n    window.history &&\n    window.history.pushState\n  );\n}\n\nfunction Navigo(r, useHash, hash) {\n  this.root = null;\n  this._routes = [];\n  this._useHash = useHash;\n  this._hash = typeof hash === 'undefined' ? '#' : hash;\n  this._paused = false;\n  this._destroyed = false;\n  this._lastRouteResolved = null;\n  this._notFoundHandler = null;\n  this._defaultHandler = null;\n  this._usePushState = !useHash && isPushStateAvailable();\n  this._onLocationChange = this._onLocationChange.bind(this);\n  this._genericHooks = null;\n\n  if (r) {\n    this.root = useHash ? r.replace(/\\/$/, '/' + this._hash) : r.replace(/\\/$/, '');\n  } else if (useHash) {\n    this.root = this._cLoc().split(this._hash)[0].replace(/\\/$/, '/' + this._hash);\n  }\n\n  this._listen();\n  this.updatePageLinks();\n}\n\nfunction clean(s) {\n  if (s instanceof RegExp) return s;\n  return s.replace(/\\/+$/, '').replace(/^\\/+/, '/');\n}\n\nfunction regExpResultToParams(match, names) {\n  if (names.length === 0) return null;\n  if (!match) return null;\n  return match\n    .slice(1, match.length)\n    .reduce((params, value, index) => {\n      if (params === null) params = {};\n      params[names[index]] = decodeURIComponent(value);\n      return params;\n    }, null);\n}\n\nfunction replaceDynamicURLParts(route) {\n  var paramNames = [], regexp;\n\n  if (route instanceof RegExp) {\n    regexp = route;\n  } else {\n    regexp = new RegExp(\n      clean(route)\n      .replace(Navigo.PARAMETER_REGEXP, function (full, dots, name) {\n        paramNames.push(name);\n        return Navigo.REPLACE_VARIABLE_REGEXP;\n      })\n      .replace(Navigo.WILDCARD_REGEXP, Navigo.REPLACE_WILDCARD) + Navigo.FOLLOWED_BY_SLASH_REGEXP\n    , Navigo.MATCH_REGEXP_FLAGS);\n  }\n  return { regexp, paramNames };\n}\n\nfunction getUrlDepth(url) {\n  return url.replace(/\\/$/, '').split('/').length;\n}\n\nfunction compareUrlDepth(urlA, urlB) {\n  return getUrlDepth(urlB) - getUrlDepth(urlA);\n}\n\nfunction findMatchedRoutes(url, routes = []) {\n  return routes\n    .map(route => {\n      var { regexp, paramNames } = replaceDynamicURLParts(route.route);\n      var match = url.match(regexp);\n      var params = regExpResultToParams(match, paramNames);\n\n      return match ? { match, route, params } : false;\n    })\n    .filter(m => m);\n}\n\nfunction match(url, routes) {\n  return findMatchedRoutes(url, routes)[0] || false;\n}\n\nfunction root(url, routes) {\n  var matched = findMatchedRoutes(\n    url,\n    routes.filter(route => {\n      let u = clean(route.route);\n\n      return u !== '' && u !== '*';\n    })\n  );\n  var fallbackURL = clean(url);\n\n  if (matched.length > 0) {\n    return matched\n      .map(m => clean(url.substr(0, m.match.index)))\n      .reduce((root, current) => {\n        return current.length < root.length ? current : root;\n      }, fallbackURL);\n  }\n  return fallbackURL;\n}\n\nfunction isHashChangeAPIAvailable() {\n  return !!(\n    typeof window !== 'undefined' &&\n    'onhashchange' in window\n  );\n}\n\nfunction extractGETParameters(url) {\n  return url.split(/\\?(.*)?$/).slice(1).join('');\n}\n\nfunction getOnlyURL(url, useHash, hash) {\n  var onlyURL = url.split(/\\?(.*)?$/)[0];\n\n  if (typeof hash === 'undefined') {\n    // To preserve BC\n    hash = '#';\n  }\n\n  if (isPushStateAvailable() && !useHash) {\n    onlyURL = onlyURL.split(hash)[0];\n  }\n\n  return onlyURL;\n}\n\nfunction manageHooks(handler, hooks, params) {\n  if (hooks && typeof hooks === 'object') {\n    if (hooks.before) {\n      hooks.before((shouldRoute = true) => {\n        if (!shouldRoute) return;\n        handler();\n        hooks.after && hooks.after(params);\n      }, params);\n    } else if (hooks.after) {\n      handler();\n      hooks.after && hooks.after(params);\n    }\n    return;\n  }\n  handler();\n};\n\nfunction isHashedRoot(url, useHash, hash) {\n  if (isPushStateAvailable() && !useHash) {\n    return false;\n  }\n\n  if (!url.match(hash)) {\n    return false;\n  }\n\n  let split = url.split(hash);\n\n  if (split.length < 2 || split[1] === '') {\n    return true;\n  }\n\n  return false;\n};\n\nNavigo.prototype = {\n  helpers: {\n    match,\n    root,\n    clean\n  },\n  navigate: function (path, absolute) {\n    var to;\n\n    path = path || '';\n    if (this._usePushState) {\n      to = (!absolute ? this._getRoot() + '/' : '') + path.replace(/^\\/+/, '/');\n      to = to.replace(/([^:])(\\/{2,})/g, '$1/');\n      history[this._paused ? 'replaceState' : 'pushState']({}, '', to);\n    } else if (typeof window !== 'undefined') {\n      path = path.replace(new RegExp('^' + this._hash), '');\n      window.location.href =\n        window.location.href\n          .replace(/#$/, '')\n          .replace(new RegExp(this._hash + '.*$'), '') + this._hash + path;\n    }\n    return this;\n  },\n  on: function (...args) {\n    if (typeof args[0] === 'function') {\n      this._defaultHandler = { handler: args[0], hooks: args[1] };\n    } else if (args.length >= 2) {\n      if (args[0] === '/') {\n        let func = args[1];\n\n        if (typeof args[1] === 'object') {\n          func = args[1].uses;\n        }\n\n        this._defaultHandler = { handler: func, hooks: args[2] };\n      } else {\n        this._add(args[0], args[1], args[2]);\n      }\n    } else if (typeof args[0] === 'object') {\n      let orderedRoutes = Object.keys(args[0]).sort(compareUrlDepth);\n\n      orderedRoutes.forEach(route => {\n        this.on(route, args[0][route]);\n      });\n    }\n    return this;\n  },\n  off: function (handler) {\n    if (this._defaultHandler !== null && handler === this._defaultHandler.handler) {\n      this._defaultHandler = null;\n    } else if (this._notFoundHandler !== null && handler === this._notFoundHandler.handler) {\n      this._notFoundHandler = null;\n    }\n    this._routes = this._routes.reduce((result, r) => {\n      if (r.handler !== handler) result.push(r);\n      return result;\n    }, []);\n    return this;\n  },\n  notFound: function (handler, hooks) {\n    this._notFoundHandler = { handler, hooks: hooks };\n    return this;\n  },\n  resolve: function (current) {\n    var handler, m;\n    var url = (current || this._cLoc()).replace(this._getRoot(), '');\n\n    if (this._useHash) {\n      url = url.replace(new RegExp('^\\/' + this._hash), '/');\n    }\n\n    let GETParameters = extractGETParameters(current || this._cLoc());\n    let onlyURL = getOnlyURL(url, this._useHash, this._hash);\n\n    if (\n      this._paused ||\n      (\n        this._lastRouteResolved &&\n        onlyURL === this._lastRouteResolved.url &&\n        GETParameters === this._lastRouteResolved.query\n      )\n    ) { return false; }\n\n    m = match(onlyURL, this._routes);\n\n    if (m) {\n      this._callLeave();\n      this._lastRouteResolved = { url: onlyURL, query: GETParameters, hooks: m.route.hooks };\n      handler = m.route.handler;\n      manageHooks(() => {\n        manageHooks(() => {\n          m.route.route instanceof RegExp ?\n            handler(...(m.match.slice(1, m.match.length))) :\n            handler(m.params, GETParameters);\n        }, m.route.hooks, m.params, this._genericHooks);\n      }, this._genericHooks);\n      return m;\n    } else if (this._defaultHandler && (\n        onlyURL === '' ||\n        onlyURL === '/' ||\n        onlyURL === this._hash ||\n        isHashedRoot(onlyURL, this._useHash, this._hash)\n    )) {\n      manageHooks(() => {\n        manageHooks(() => {\n          this._callLeave();\n          this._lastRouteResolved = { url: onlyURL, query: GETParameters, hooks: this._defaultHandler.hooks };\n          this._defaultHandler.handler(GETParameters);\n        }, this._defaultHandler.hooks);\n      }, this._genericHooks);\n      return true;\n    } else if (this._notFoundHandler) {\n      manageHooks(() => {\n        manageHooks(() => {\n          this._callLeave();\n          this._lastRouteResolved = { url: onlyURL, query: GETParameters, hooks: this._notFoundHandler.hooks };\n          this._notFoundHandler.handler(GETParameters);\n        }, this._notFoundHandler.hooks);\n      }, this._genericHooks);\n    }\n    return false;\n  },\n  destroy: function () {\n    this._routes = [];\n    this._destroyed = true;\n    clearTimeout(this._listenningInterval);\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('popstate', this._onLocationChange);\n      window.removeEventListener('hashchange', this._onLocationChange);\n    }\n  },\n  updatePageLinks: function () {\n    var self = this;\n\n    if (typeof document === 'undefined') return;\n\n    this._findLinks().forEach(link => {\n      if (!link.hasListenerAttached) {\n        link.addEventListener('click', function (e) {\n          var location = self.getLinkPath(link);\n\n          if (!self._destroyed) {\n            e.preventDefault();\n            self.navigate(clean(location));\n          }\n        });\n        link.hasListenerAttached = true;\n      }\n    });\n  },\n  generate: function (name, data = {}) {\n    var result = this._routes.reduce((result, route) => {\n      var key;\n\n      if (route.name === name) {\n        result = route.route;\n        for (key in data) {\n          result = result.toString().replace(':' + key, data[key]);\n        }\n      }\n      return result;\n    }, '');\n\n    return this._useHash ? this._hash + result : result;\n  },\n  link: function (path) {\n    return this._getRoot() + path;\n  },\n  pause: function (status = true) {\n    this._paused = status;\n  },\n  resume: function () {\n    this.pause(false);\n  },\n  disableIfAPINotAvailable: function () {\n    if (!isPushStateAvailable()) {\n      this.destroy();\n    }\n  },\n  lastRouteResolved() {\n    return this._lastRouteResolved;\n  },\n  getLinkPath(link) {\n    return link.pathname || link.getAttribute('href');\n  },\n  hooks(hooks) {\n    this._genericHooks = hooks;\n  },\n  _add: function (route, handler = null, hooks = null) {\n    if (typeof route === 'string') {\n      route = encodeURI(route);\n    }\n    if (typeof handler === 'object') {\n      this._routes.push({\n        route,\n        handler: handler.uses,\n        name: handler.as,\n        hooks: hooks || handler.hooks\n      });\n    } else {\n      this._routes.push({ route, handler, hooks: hooks });\n    }\n    return this._add;\n  },\n  _getRoot: function () {\n    if (this.root !== null) return this.root;\n    this.root = root(this._cLoc().split('?')[0], this._routes);\n    return this.root;\n  },\n  _listen: function () {\n    if (this._usePushState) {\n      window.addEventListener('popstate', this._onLocationChange);\n    } else if (isHashChangeAPIAvailable()) {\n      window.addEventListener('hashchange', this._onLocationChange);\n    } else {\n      let cached = this._cLoc(), current, check;\n\n      check = () => {\n        current = this._cLoc();\n        if (cached !== current) {\n          cached = current;\n          this.resolve();\n        }\n        this._listenningInterval = setTimeout(check, 200);\n      };\n      check();\n    }\n  },\n  _cLoc: function () {\n    if (typeof window !== 'undefined') {\n      if (typeof window.__NAVIGO_WINDOW_LOCATION_MOCK__ !== 'undefined') {\n        return window.__NAVIGO_WINDOW_LOCATION_MOCK__;\n      }\n      return clean(window.location.href);\n    }\n    return '';\n  },\n  _findLinks: function () {\n    return [].slice.call(document.querySelectorAll('[data-navigo]'));\n  },\n  _onLocationChange: function () {\n    this.resolve();\n  },\n  _callLeave() {\n    if (this._lastRouteResolved && this._lastRouteResolved.hooks && this._lastRouteResolved.hooks.leave) {\n      this._lastRouteResolved.hooks.leave();\n    }\n  }\n};\n\nNavigo.PARAMETER_REGEXP = /([:*])(\\w+)/g;\nNavigo.WILDCARD_REGEXP = /\\*/g;\nNavigo.REPLACE_VARIABLE_REGEXP = '([^\\/]+)';\nNavigo.REPLACE_WILDCARD = '(?:.*)';\nNavigo.FOLLOWED_BY_SLASH_REGEXP = '(?:\\/$|$)';\nNavigo.MATCH_REGEXP_FLAGS = '';\n\nexport default Navigo;\n","/*\n  Borrowing angular's url watcher\n  https://github.com/fracz/refactor-extractor/blob/2271f87be2585ceb65504b7df65eb8ffad64ff42/results/angular.js/d934054cfc22325d817eb0643dc061f9d212804d/before/Angular.js\n*/\n\nfunction UrlWatcher(location) {\n  this.location = location;\n  this.delay = 25;\n  this.setTimeout = function(fn, delay) {\n    window.setTimeout(fn, delay);\n  };\n  this.listener = function(url) {\n    return url;\n  };\n  this.expectedUrl = location.href;\n}\n\nUrlWatcher.prototype = {\n  listen: function(fn){\n    this.listener = fn;\n  },\n  watch: function() {\n    var self = this;\n    var pull = function() {\n      if (self.expectedUrl !== self.location.href) {\n        var notify = self.location.hash.match(/^#\\$iframe_notify=(.*)$/);\n        if (notify) {\n          if (!self.expectedUrl.match(/#/)) {\n            self.expectedUrl += \"#\";\n          }\n          self.location.href = self.expectedUrl;\n          var id = '_iframe_notify_' + notify[1];\n          var notifyFn = null;\n          var noop = function() { return; };\n          try {\n            (notifyFn||noop)();\n          } catch (e) {\n            alert(e);\n          }\n        } else {\n          self.listener(self.location.href);\n          self.expectedUrl = self.location.href;\n        }\n      }\n      self.setTimeout(pull, self.delay);\n    };\n    pull();\n  },\n\n  set: function(url) {\n    var existingURL = this.location.href;\n    if (!existingURL.match(/#/))\n      existingURL += '#';\n    if (existingURL != url)\n      this.location.href = url;\n    this.existingURL = url;\n  },\n\n  get: function() {\n    return window.location.href;\n  }\n};\n\nexport default UrlWatcher;\n","import Navigo from 'navigo';\nimport urlWatcher from './watcher';\n\nconst router = new Navigo(null, true, '#!');\nconst watcher = new urlWatcher(window.location);\n\nexport default class Router {\n  constructor(public opts = {debug:false}) {\n    this.opts = opts;\n    watcher.watch();\n  }\n\n  public listen(sendNameUpdate) {\n    watcher.listen((url) => {\n      if (this.opts.debug) {\n        console.log('Route:', url);\n      }\n      return this.handle(sendNameUpdate);\n    });\n\n    // send the intial update before listening begins\n    return this.handle(sendNameUpdate);\n  }\n\n  private handle(sendNameUpdate) {\n    return router\n    .on({\n      '/about': () => {\n        sendNameUpdate('about');\n       },\n      '/about/resume': () => {\n        sendNameUpdate('resume');\n      },\n      '/about/resume/:employer/bubbles/:id': (params) => {\n        sendNameUpdate(`resume|${params.employer}|bubbles|${params.id}`);\n      },\n      '': () => {\n        sendNameUpdate('');\n       }\n    })\n    .resolve();\n  }\n}\n","import Component, { tracked } from \"@glimmer/component\";\nimport { createStore } from 'redux';\nimport Reducers from './-utils/reducers';\nimport Router from './-utils/router/router';\n\nconst router = new Router({debug:true});\n\nexport default class Website extends Component {\n  constructor(options) {\n    super(options);\n    // this.loadMarkdown();\n\n    // subscribe to router listener\n    router.listen(this.routeNameUpdate.bind(this));\n  }\n\n  /**\n    Name of current route\n\n    @property routeName\n  */\n  @tracked routeName;\n\n  /**\n    Call back for route listener\n\n    @method routeUpdate\n  */\n  public routeNameUpdate(name) {\n    this.routeName = name;\n  }\n\n  /*\n    NOTE async await Throws regenaratorRuntime error https://github.com/glimmerjs/glimmer-website/issues/62\n  async loadMarkdown(file='foo') {\n    let req = await fetch(`./-utils/md/articles/${file}.md`);\n    let json = await request.json();\n    console.log('async response', json);\n  }\n  */\n\n  /**\n    Create a redux store using the reducer\n\n    @property store\n  */\n  private store: any = createStore(Reducers);\n\n  /**\n    Get the current state of the model from the store\n\n    @property articles\n  */\n  @tracked state: Array<any> = this.store.getState();\n\n  /**\n    An array of articles\n\n    @property articles\n  */\n  @tracked('state')\n  get articles() {\n    return this.state.filter((item) => item.type === 'article');\n  }\n\n  /**\n    An array of resume parts\n\n    @property resume\n  */\n  @tracked('state')\n  get resume() {\n    return this.state.filter((item) => item.type === 'resume');\n  }\n\n  /**\n    Proxy the store.dispatch function\n\n    @method dispatch\n  */\n  private dispatch(action: Object = {}) {\n    return this.store.dispatch(action);\n  }\n\n  /**\n    Tell the store that the item has been read\n\n    @method markAsRead\n  */\n  public markAsRead(index: Number, e) {\n    e.preventDefault();\n\n    // dispatch an action created on the fly to update the store\n    this.dispatch({\n      type: 'MARK_AS_READ',\n      index\n    });\n\n    // update glimmer tracked prop\n    this.state = this.store.getState();\n  }\n}\n","export default {\"id\":\"/OXaeUBv\",\"block\":\"{\\\"symbols\\\":[\\\"article\\\",\\\"index\\\"],\\\"prelude\\\":[[6,\\\"header\\\"]],\\\"head\\\":[[9,\\\"class\\\",\\\"no-print\\\"],[7]],\\\"statements\\\":[[0,\\\"\\\\n  \\\"],[6,\\\"nav\\\"],[9,\\\"class\\\",\\\"nav no-backgound\\\"],[7],[0,\\\"\\\\n    \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"nav-left\\\"],[7],[0,\\\"\\\\n      \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"nav--logo nav-item\\\"],[7],[0,\\\"\\\\n        \\\"],[6,\\\"a\\\"],[9,\\\"href\\\",\\\"#\\\"],[7],[0,\\\"\\\\n          \\\"],[6,\\\"img\\\"],[9,\\\"class\\\",\\\"minimal--logo\\\"],[9,\\\"alt\\\",\\\"Code-Heads Club\\\"],[9,\\\"src\\\",\\\"img/minimal_logo.svg\\\"],[7],[8],[0,\\\" Code-Heads Club\\\\n        \\\"],[8],[0,\\\"\\\\n      \\\"],[8],[0,\\\"\\\\n    \\\"],[8],[0,\\\"\\\\n    \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"nav-right\\\"],[7],[0,\\\"\\\\n      \\\"],[6,\\\"a\\\"],[9,\\\"class\\\",\\\"nav-item\\\"],[9,\\\"href\\\",\\\"#!/about\\\"],[7],[0,\\\"\\\\n        About\\\\n      \\\"],[8],[0,\\\"\\\\n      \\\"],[6,\\\"span\\\"],[9,\\\"class\\\",\\\"nav-item\\\"],[7],[0,\\\"\\\\n        \\\"],[6,\\\"a\\\"],[9,\\\"href\\\",\\\"https://github.com/crodriguez1a/code-heads\\\"],[9,\\\"target\\\",\\\"_blank\\\"],[9,\\\"class\\\",\\\"nav-item button is-info is-outlined\\\"],[7],[0,\\\"\\\\n          \\\"],[6,\\\"i\\\"],[9,\\\"class\\\",\\\"icon fa fa-github\\\"],[7],[8],[0,\\\"GitHub\\\\n        \\\"],[8],[0,\\\"\\\\n      \\\"],[8],[0,\\\"\\\\n    \\\"],[8],[0,\\\"\\\\n  \\\"],[8],[0,\\\"\\\\n\\\\n\\\"],[4,\\\"if\\\",[[25,\\\"equals\\\",[[19,0,[\\\"routeName\\\"]],\\\"\\\"],null]],null,{\\\"statements\\\":[[0,\\\"    \\\"],[6,\\\"section\\\"],[9,\\\"class\\\",\\\"hero is-info no-backgound has-text-centered\\\"],[7],[0,\\\"\\\\n      \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"hero-body\\\"],[7],[0,\\\"\\\\n        \\\"],[6,\\\"h1\\\"],[9,\\\"class\\\",\\\"title\\\"],[7],[0,\\\"\\\\n          \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"hero--logo\\\"],[7],[0,\\\"\\\\n            \\\"],[6,\\\"img\\\"],[9,\\\"src\\\",\\\"img/logo_single_color.svg\\\"],[9,\\\"alt\\\",\\\"Code-heads Club Logo\\\"],[7],[8],[0,\\\"\\\\n          \\\"],[8],[0,\\\"\\\\n        \\\"],[8],[0,\\\"\\\\n        \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"content subtitle\\\"],[7],[0,\\\"\\\\n          \\\"],[6,\\\"p\\\"],[7],[0,\\\"\\\\n            The Code-Heads Club is partnership between Engineers and Students.\\\\n            \\\"],[6,\\\"br\\\"],[7],[8],[0,\\\"\\\\n            Our mission is to maintain a \\\"],[6,\\\"strong\\\"],[7],[0,\\\"free\\\"],[8],[0,\\\" curriculum for young adults learning to code.\\\\n          \\\"],[8],[0,\\\"\\\\n        \\\"],[8],[0,\\\"\\\\n      \\\"],[8],[0,\\\"\\\\n    \\\"],[8],[0,\\\"\\\\n\\\"]],\\\"parameters\\\":[]},null],[8],[0,\\\"\\\\n\\\\n\\\"],[6,\\\"main\\\"],[7],[0,\\\"\\\\n  \\\"],[6,\\\"section\\\"],[9,\\\"class\\\",\\\"section\\\"],[7],[0,\\\"\\\\n    \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"columns\\\"],[7],[0,\\\"\\\\n\\\\n\\\"],[4,\\\"if\\\",[[25,\\\"equals\\\",[[19,0,[\\\"routeName\\\"]],\\\"\\\"],null]],null,{\\\"statements\\\":[[4,\\\"each\\\",[[19,0,[\\\"articles\\\"]]],[[\\\"key\\\"],[\\\"@index\\\"]],{\\\"statements\\\":[[0,\\\"          \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"column\\\"],[7],[0,\\\"\\\\n            \\\"],[6,\\\"div\\\"],[9,\\\"class\\\",\\\"box\\\"],[7],[0,\\\"\\\\n              \\\"],[5,\\\"article-card\\\",[],[[\\\"@article\\\",\\\"@didRead\\\"],[[19,1,[]],[25,\\\"action\\\",[[19,0,[\\\"markAsRead\\\"]],[19,2,[]]],null]]],{\\\"statements\\\":[],\\\"parameters\\\":[]}],[0,\\\"\\\\n            \\\"],[8],[0,\\\"\\\\n          \\\"],[8],[0,\\\"\\\\n\\\"]],\\\"parameters\\\":[1,2]},null]],\\\"parameters\\\":[]},null],[0,\\\"\\\\n\\\"],[4,\\\"if\\\",[[25,\\\"equals\\\",[[19,0,[\\\"routeName\\\"]],\\\"about\\\"],null]],null,{\\\"statements\\\":[[0,\\\"        \\\"],[5,\\\"about-overview\\\",[],[[],[]],{\\\"statements\\\":[],\\\"parameters\\\":[]}],[0,\\\"\\\\n\\\"]],\\\"parameters\\\":[]},null],[0,\\\"\\\\n\\\"],[4,\\\"if\\\",[[25,\\\"equals\\\",[[19,0,[\\\"routeName\\\"]],\\\"resume\\\"],null]],null,{\\\"statements\\\":[[0,\\\"        \\\"],[5,\\\"about-resume\\\",[],[[\\\"@resume\\\",\\\"@routeName\\\"],[[18,\\\"resume\\\"],[18,\\\"routeName\\\"]]],{\\\"statements\\\":[],\\\"parameters\\\":[]}],[0,\\\"\\\\n\\\"]],\\\"parameters\\\":[]},null],[0,\\\"\\\\n    \\\"],[8],[0,\\\"\\\\n  \\\"],[8],[0,\\\"\\\\n\\\"],[8],[0,\\\"\\\\n\\\\n\\\"],[5,\\\"article-modal\\\",[],[[\\\"@content\\\"],[[18,\\\"content\\\"]]],{\\\"statements\\\":[],\\\"parameters\\\":[]}],[0,\\\"\\\\n\\\"]],\\\"hasEval\\\":false}\",\"meta\":{\"specifier\":\"template:/website/components/website-app\"}};","import { default as __ui_components_about_overview_component__ } from '../src/ui/components/about-overview/component';\nimport { default as __ui_components_about_overview_template__ } from '../src/ui/components/about-overview/template';\nimport { default as __ui_components_about_resume_component__ } from '../src/ui/components/about-resume/component';\nimport { default as __ui_components_about_resume_template__ } from '../src/ui/components/about-resume/template';\nimport { default as __ui_components_article_card_component__ } from '../src/ui/components/article-card/component';\nimport { default as __ui_components_article_card_template__ } from '../src/ui/components/article-card/template';\nimport { default as __ui_components_article_modal_component__ } from '../src/ui/components/article-modal/component';\nimport { default as __ui_components_article_modal_template__ } from '../src/ui/components/article-modal/template';\nimport { default as __ui_components_bubble_chart_component__ } from '../src/ui/components/bubble-chart/component';\nimport { default as __ui_components_bubble_chart_template__ } from '../src/ui/components/bubble-chart/template';\nimport { default as __ui_components_equals_helper__ } from '../src/ui/components/equals/helper';\nimport { default as __ui_components_html_safe_helper__ } from '../src/ui/components/html-safe/helper';\nimport { default as __ui_components_str_contains_helper__ } from '../src/ui/components/str-contains/helper';\nimport { default as __ui_components_website_app_component__ } from '../src/ui/components/website-app/component';\nimport { default as __ui_components_website_app_template__ } from '../src/ui/components/website-app/template';\nexport default {'component:/website-app/components/about-overview': __ui_components_about_overview_component__,'template:/website-app/components/about-overview': __ui_components_about_overview_template__,'component:/website-app/components/about-resume': __ui_components_about_resume_component__,'template:/website-app/components/about-resume': __ui_components_about_resume_template__,'component:/website-app/components/article-card': __ui_components_article_card_component__,'template:/website-app/components/article-card': __ui_components_article_card_template__,'component:/website-app/components/article-modal': __ui_components_article_modal_component__,'template:/website-app/components/article-modal': __ui_components_article_modal_template__,'component:/website-app/components/bubble-chart': __ui_components_bubble_chart_component__,'template:/website-app/components/bubble-chart': __ui_components_bubble_chart_template__,'helper:/website-app/components/equals': __ui_components_equals_helper__,'helper:/website-app/components/html-safe': __ui_components_html_safe_helper__,'helper:/website-app/components/str-contains': __ui_components_str_contains_helper__,'component:/website-app/components/website-app': __ui_components_website_app_component__,'template:/website-app/components/website-app': __ui_components_website_app_template__};\n","export default {\"app\":{\"name\":\"website-app\",\"rootName\":\"website-app\"},\"types\":{\"application\":{\"definitiveCollection\":\"main\"},\"component\":{\"definitiveCollection\":\"components\"},\"helper\":{\"definitiveCollection\":\"components\"},\"renderer\":{\"definitiveCollection\":\"main\"},\"template\":{\"definitiveCollection\":\"components\"}},\"collections\":{\"main\":{\"types\":[\"application\",\"renderer\"]},\"components\":{\"group\":\"ui\",\"types\":[\"component\",\"template\",\"helper\"],\"defaultType\":\"component\",\"privateCollections\":[\"utils\"]},\"styles\":{\"group\":\"ui\",\"unresolvable\":true},\"utils\":{\"unresolvable\":true}}};\n","import Application from '@glimmer/application';\nimport Resolver, { BasicModuleRegistry } from '@glimmer/resolver';\nimport moduleMap from '../config/module-map';\nimport resolverConfiguration from '../config/resolver-configuration';\n\nexport default class App extends Application {\n  constructor() {\n    let moduleRegistry = new BasicModuleRegistry(moduleMap);\n    let resolver = new Resolver(resolverConfiguration, moduleRegistry);\n\n    super({\n      rootName: resolverConfiguration.app.rootName,\n      resolver\n    });\n  }\n}\n","import App from './main';\nimport { ComponentManager, setPropertyDidChange } from '@glimmer/component';\n\nconst app = new App();\nconst containerElement = document.getElementById('app');\n\nsetPropertyDidChange(() => {\n  app.scheduleRerender();\n});\n\napp.registerInitializer({\n  initialize(registry) {\n    registry.register(`component-manager:/${app.rootName}/component-managers/main`, ComponentManager)\n  }\n});\n\napp.renderComponent('website-app', containerElement, null);\n\napp.boot();\n"],"names":["unwrap","val","undefined","Error","expect","message","unreachable","debugAssert","test","msg","LogLevel","NullConsole","log","_message","warn","error","trace","ALWAYS","Logger","console","level","f","force","skipped","stackTrace","Trace","debug","Debug","Warn","_console","LOG_LEVEL","objKeys","Object","keys","assign","obj","i","arguments","length","assignment","j","key","fillNulls","count","arr","Array","GUID","initializeGuid","object","_guid","ensureGuid","proto","create","EmptyObject","prototype","dict","DictSet","add","delete","forEach","callback","toArray","Stack","stack","current","push","item","pop","len","isEmpty","ListNode","value","next","prev","LinkedList","clear","fromSlice","slice","list","forEachNode","append","n","clone","head","_head","tail","_tail","out","splice","start","end","reference","before","nextNode","node","prevNode","contains","needle","insertBefore","remove","prepend","ListSlice","toList","EMPTY_SLICE","HAS_NATIVE_WEAKMAP","hasWeakMap","WeakMap","instance","toString","call","HAS_TYPED_ARRAYS","Uint32Array","A","EMPTY_ARRAY","freeze","Register","debugSlice","env","AppendOpcodes","evaluateOpcode","name","evaluate","vm","opcode","type","func","APPEND_OPCODES","AbstractOpcode","toJSON","guid","UpdatingOpcode","CONSTANT","INITIAL","VOLATILE","NaN","RevisionTag","validate","snapshot","id","VALUE","VALIDATE","TagWrapper","inner","register","Type","tag","_tag","CONSTANT_TAG","VOLATILE_TAG","$REVISION","CURRENT_TAG","DirtyableTag","revision","dirty","combineTagged","tagged","optimized","l","_combine","combineSlice","combine","tags","TagsPair","TagsCombinator","CachedTag","lastChecked","lastValue","compute","invalidate","first","second","Math","max","UpdatableTag","lastUpdated","update","CachedReference","lastRevision","MapperReference","mapper","map","ReferenceCache","initialized","peek","initialize","revalidate","NOT_MODIFIED","isModified","ConstReference","isConst","ListItem","iterable","result","valueReferenceFor","retained","seen","memo","memoReferenceFor","updateValueReference","updateMemoReference","shouldRemove","reset","IterationArtifacts","iterator","iterate","has","get","wasSeen","move","ReferenceIterator","artifacts","Phase","IteratorSynchronizer","target","sync","phase","Append","nextAppend","Prune","nextPrune","Done","nextDone","advanceToKey","seek","startPrune","nextRetain","nextMove","nextInsert","retain","found","insert","done","ConcatReference","parts","castToString","join","String","PrimitiveReference","UNDEFINED_REFERENCE","NULL_REFERENCE","TRUE_REFERENCE","FALSE_REFERENCE","ValueReference","StringReference","_key","lengthReference","ConditionalReference","toBool","_helper","op1","helper","constants","getFunction","args","_function","symbol","expr","referenceForSymbol","scope","bindSymbol","_name","getString","locals","getPartialMap","ref","getSelf","symbols","bindCallerScope","op2","pushRootScope","_block","block","getBlock","hasBlock","hasBlockParams","symbolTable","parameters","reverse","pushChildScope","popScope","pushDynamicScope","popDynamicScope","number","other","getOther","primitive","flag","offset","position","fetchValue","dup","load","fetch","_names","names","getArray","bindDynamicScope","pushFrame","popFrame","enter","exit","compileDynamic","compiled","compileStatic","_invoker","invoker","invoke","goto","cache","updateWith","Assert","return","ConstTest","_env","SimpleTest","EnvironmentTest","toConditionalReference","_func","operand","throw","expected","JSON","stringify","e","JumpIfNotModifiedOpcode","alwaysRevalidate","didModify","inspect","DidModifyOpcode","LabelOpcode","label","Arguments","positional","PositionalArguments","named","NamedArguments","empty","setup","positionalCount","synthetic","fromTop","namedCount","at","pos","capture","pops","_references","CapturedPositionalArguments","references","valueOf","idx","parseInt","_realNames","indexOf","CapturedNamedArguments","sliceName","_map","text","elements","appendText","appendComment","openElement","tagName","operations","elementRef","nextSiblingRef","element","nextSibling","isConstReference","pushRemoteElement","popRemoteElement","ClassList","toReference","toClassName","ClassListReference","ret","SimpleElementOperations","opcodes","classList","addStaticAttribute","addClass","getAppendOperations","setAttribute","addStaticAttributeNS","namespace","addDynamicAttribute","isTrusting","attributeManager","attributeFor","attribute","DynamicAttribute","addAttribute","addDynamicAttributeNS","nsAttribute","flush","ComponentElementOperations","attributeNames","attributes","shouldAddAttribute","StaticAttribute","action","expectOperations","expectConstructing","flushElement","closeElement","_value","_namespace","op3","setStaticAttributeNS","setStaticAttribute","_manager","manager","constructing","updateOperations","dynamicScope","modifier","scheduleInstallModifier","destructor","getDestructor","newDestroyable","UpdateModifierOpcode","scheduleUpdateModifier","patch","updateAttribute","PatchElementOpcode","formattedElement","formatElement","toLowerCase","trusting","setDynamicAttributeNS","setDynamicAttribute","operation","_definition","definition","component","ARGS","_state","preparedArgs","prepareArgs","flags","state","hasDefaultBlock","UpdateComponentOpcode","beginCacheGroup","pushSimpleBlock","didCreateElement","layoutFor","bounds","popBlock","didRenderLayout","didCreate","DidUpdateLayoutOpcode","commitCacheGroup","componentTag","getTag","_vm","didUpdateLayout","didUpdate","Cursor","ConcreteBounds","parentNode","last","parentElement","firstNode","lastNode","SingleNodeBounds","single","parent","removeChild","isSafeString","isNode","isString","Upsert","cautiousInsert","dom","cursor","TextUpsert","SafeStringUpsert","NodeUpsert","trustingInsert","HTMLUpsert","textNode","createTextNode","_dom","nodeValue","insertHTMLBefore","lastStringValue","stringValue","toHTML","insertNodeBefore","COMPONENT_DEFINITION_BRAND","isComponentDefinition","ComponentDefinition","ComponentClass","First","Last","Fragment","ElementStack","elementStack","nextSiblingStack","blockStack","getDOM","defaultOperations","forInitialRender","resume","tracker","pushBlockTracker","method","popElement","topElement","SimpleBlockTracker","pushUpdatableBlock","UpdatableBlockTracker","isRemote","newBounds","pushBlockList","BlockListTracker","finalize","_operations","createElement","pushElement","RemoteBlockTracker","d","string","newNode","comment","createComment","destroyables","nesting","destroy","didDestroy","boundList","_element","_node","_bounds","_d","_stack","normalizeTextValue","normalizeTrustedValue","normalizeValue","AppendDynamicOpcode","normalized","normalize","upsert","IsComponentDefinitionReference","UpdateOpcode","OptimizedCautiousAppendOpcode","_reference","OptimizedCautiousUpdateOpcode","OptimizedTrustingAppendOpcode","OptimizedTrustingUpdateOpcode","debugCallback","context","info","ScopeInspector","evalInfo","slot","getSymbol","path","split","evalScope","getEvalScope","reduce","part","_symbols","_evalInfo","inspector","template","asPartial","IterablePresenceReference","listRef","iterableFor","enterList","exitList","breaks","tryOpcode","enterItem","Opcodes","is","variant","isArray","Expressions","isUnknown","Unknown","isGet","Get","isConcat","Concat","isHelper","Helper","isHasBlock","HasBlock","isHasBlockParams","HasBlockParams","isUndefined","Undefined","isClientSide","ClientSideExpression","isMaybeLocal","MaybeLocal","isPrimitiveValue","Statements","isText","Text","isAppend","isComment","Comment","isModifier","Modifier","isBlock","Block","isComponent","Component","isOpenElement","OpenElement","isFlushElement","FlushElement","isCloseElement","CloseElement","isStaticAttr","StaticAttr","isDynamicAttr","DynamicAttr","isYield","Yield","isPartial","Partial","isDynamicArg","DynamicArg","isStaticArg","StaticArg","isTrustingAttr","TrustingAttr","isDebugger","Debugger","ClientSideStatement","isAttribute","isArgument","isParameter","getParameterName","s","isInElementHead","CompiledStaticTemplate","CompiledDynamicTemplate","Labels","labels","targets","index","Target","set","BasicOpcodeBuilder","meta","program","labelsStack","upvars","reserve","pushArgs","startLabels","stopLabels","pushComponentManager","pushDynamicComponentManager","initializeComponentState","createComponent","hasDefault","hasInverse","registerComponentDestructor","beginComponentTransaction","commitComponentTransaction","pushComponentOperations","getComponentSelf","getComponentLayout","getPartialTemplate","resolveMaybeLocal","debugger","array","dynamicContent","Opcode","cautiousAppend","content","trustingAppend","openPrimitiveElement","openElementWithOperations","openDynamicElement","staticAttr","dynamicAttrNS","dynamicAttr","_comment","putIterator","setVariable","getVariable","getProperty","concat","size","function","sp","nextPos","returnTo","ra","pushImmediate","_primitive","pushBlock","compileDynamicBlock","invokeDynamic","invokeStatic","callerCount","calleeCount","min","fp","testFunc","jump","jumpIf","jumpUnless","_string","isCompilableExpression","OpcodeBuilder","ComponentBuilder","compileArgs","params","hash","p","v","compile","guardedAppend","expression","invokeComponent","guardedCautiousAppend","guardedTrustingAppend","attrs","inverse","s0","InvokeDynamicLayout","scan","RawInlineBlock","statements","ComponentLayoutBuilder","wrapLayout","layout","WrappedBuilder","fromLayout","UnwrappedBuilder","ComponentTagBuilder","ComponentAttrsBuilder","templateMeta","dynamicTag","getDynamic","staticTag","getStatic","b","builder","s1","asBlock","hasEval","ATTRS_BLOCK","asLayout","isDynamic","isStatic","staticTagName","dynamicTagName","static","dynamic","Ops","ClientSide","FunctionExpression","buffer","_default","definitionArgs","getDefinition","OpcodeBuilderDSL","compileStatement","statement","CompilableTemplate","compiledStatic","compiledDynamic","compileStatements","staticBlock","GlimmerDebug","prelude","body","OpenComponentElement","DidCreateElement","attrsSymbol","DidRenderLayout","Scanner","scanEntryPoint","RawProgram","scanBlock","scanLayout","WireFormat","RawBlock","scanStatements","child","Compilers","funcs","sexp","STATEMENTS","CLIENT_SIDE","_sexp","hasModifier","lookupModifier","macros","inlines","returned","E","_template","_inverse","templateBlock","inverseBlock","blocks","bindSelf","bindBlock","lookup","$eval","callerNames","inverseSymbol","defaultSymbol","defaultBlock","bindEvalScope","hasComponentDefinition","attrsBlock","getComponentDefinition","attr","PartialInvoker","outerSymbols","_partial","partial","partialSymbols","outerScope","partialScope","getCallerScope","bind","bindPartialMap","nameRef","hasPartial","lookupPartial","InvokeDynamicYield","pushCallerScope","table","fromBase","to","compileList","EXPRESSIONS","CLIENT_SIDE_EXPRS","hasHelper","lookupHelper","Blocks","addMissing","missing","handled","BLOCKS","Inlines","INLINES","populateBuiltins","_hash","values","_params","expressions","Constants","strings","arrays","functions","others","getReference","getExpression","getNames","badProtocols","badTags","badTagsForDataURI","badAttributes","badAttributesForDataURI","checkURI","checkDataURI","requiresSanitization","sanitizeAttributeValue","toUpperCase","str","protocol","protocolForURL","normalizeProperty","slotName","lower","preferAttr","ATTR_OVERRIDES","form","propName","innerHTMLWrapper","depth","after","domChanges","document","DOMChangesClass","shouldApplyFix","div","html","parentTag","wrapper","fixInnerHTML","treeConstruction","DOMTreeConstructionClass","wrappedHtml","innerHTML","childNodes","moveNodesBefore","SVG_NAMESPACE","svgNamespace","namespaceURI","fixSVG","TreeConstructionClass","firstChild","svg","createElementNS","uselessComment","didSetUselessComment","nextPrevious","previousSibling","lastChild","mergingTextDiv","insertAdjacentHTML","SVG_INTEGRATION_POINTS","foreignObject","desc","title","BLACKLIST_TABLE","doc","source","DOM","TreeConstruction","setupUselessElement","uselessElement","isElementInSVGNamespace","isHTMLIntegrationPoint","setAttributeNS","data","appliedTreeContruction","treeConstructionNodeMergingFix","treeConstructionTableElementFix","treeConstructionSvgElementFix","DOMTreeConstruction","DOMChanges","removeAttribute","removeAttributeNS","_parent","isDocumentFragment","insertTextBefore","insertAfter","_useless","_nextSibling","useless","HTMLElement","nodeType","Node","DOCUMENT_FRAGMENT_NODE","domChangesNodeMergingFix","domChangesTableElementFix","domChangesSvgElementFix","defaultManagers","_isTrusting","isSVG","defaultAttributeManagers","defaultPropertyManagers","SafePropertyManager","isUserInputValue","INPUT_VALUE_PROPERTY_MANAGER","isOptionSelected","OPTION_SELECTED_MANAGER","PropertyManager","SafeAttributeManager","AttributeManager","normalizedValue","normalizeAttributeValue","isAttrRemovalValue","InputValuePropertyManager","input","currentValue","OptionSelectedManager","option","selected","Scope","callerScope","slots","partialMap","root","self","refs","init","sized","RangeError","Transaction","scheduledInstallManagers","scheduledInstallModifiers","scheduledUpdateModifierManagers","scheduledUpdateModifiers","createdComponents","createdManagers","updatedComponents","updatedManagers","destructors","commit","install","Program","_offset","_opcode","Environment","appendOperations","_macros","_transaction","getIdentity","begin","transaction","UpdatingVM","frameStack","execute","handler","try","frame","nextStatement","op","ops","UpdatingVMFrame","handleException","BlockOpcode","children","details","TryOpcode","didInitializeChildren","VM","updating","EvaluationStack","restore","updatingOpcodeStack","json","ListRevalidationDelegate","marker","didInsert","didDelete","vmForInsertion","_item","_memo","entry","ListBlockOpcode","lastIterated","listDidChange","synchronizer","exceptionHandler","RenderResult","rerender","seal","top","items","dynamicScopeStack","scopeStack","cacheGroups","listBlockStack","pc","t0","t1","loadValue","initial","END","guard","didEnter","listBlock","childScope","bindCaller","TemplateIterator","clientId","templateFactory","templateId","parsedBlock","envMeta","newMeta","parse","ScannableTemplate","rawBlock","entryPoint","scanner","render","appendTo","asEntryPoint","compilationMeta","NodeType","EMPTY_CACHE","PathReference","property","chains","lastParentValue","parentValue","_parentValue","ReferenceType","Meta","for","referenceTypeFor","PropertyReference","prop","_getChains","RootReference","chainFor","referenceFromParts","NOOP_DESTROY","ConstPath","_property","chain","notify","ConstRoot","_parts","_prop","ConstMeta","CLASS_META","hasOwnProperty","RootReferenceFactory","DefaultPathReferenceFactory","referenceTypes","propertyMetadata","_meta","isExtensible","MetaToUse","constructor","classMeta","InstanceMetaConstructor","exists","metadataForProperty","addReference","addReferenceTypeFor","removeReference","getReferenceTypes","referencesFor","getSlots","rootCache","_outer","isSpecifierObjectAbsolute","freeGlobal","global","freeSelf","Function","Symbol","objectProto","nativeObjectToString","symToStringTag","toStringTag","getRawTag","isOwn","unmasked","objectToString","nullTag","undefinedTag","baseGetTag","overArg","transform","arg","getPrototype","getPrototypeOf","isObjectLike","objectTag","funcProto","funcToString","objectCtorString","isPlainObject","Ctor","symbolObservablePonyfill","observable","window","module","ponyfill","ActionTypes","createStore","reducer","preloadedState","enhancer","_ref2","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","getState","subscribe","listener","isSubscribed","unsubscribe","dispatch","listeners","replaceReducer","nextReducer","INIT","_ref","outerSubscribe","observer","TypeError","observeState","$$observable","warning","isCrushed","isPushStateAvailable","history","pushState","Navigo","r","useHash","_routes","_useHash","_paused","_destroyed","_lastRouteResolved","_notFoundHandler","_defaultHandler","_usePushState","_onLocationChange","_genericHooks","replace","_cLoc","_listen","updatePageLinks","clean","RegExp","regExpResultToParams","match","decodeURIComponent","replaceDynamicURLParts","route","paramNames","regexp","PARAMETER_REGEXP","full","dots","REPLACE_VARIABLE_REGEXP","WILDCARD_REGEXP","REPLACE_WILDCARD","FOLLOWED_BY_SLASH_REGEXP","MATCH_REGEXP_FLAGS","getUrlDepth","url","compareUrlDepth","urlA","urlB","findMatchedRoutes","routes","filter","m","matched","u","fallbackURL","substr","isHashChangeAPIAvailable","extractGETParameters","getOnlyURL","onlyURL","manageHooks","hooks","shouldRoute","isHashedRoot","absolute","_getRoot","location","href","babelHelpers.typeof","uses","_add","orderedRoutes","sort","on","GETParameters","query","_callLeave","_listenningInterval","removeEventListener","_findLinks","link","hasListenerAttached","addEventListener","getLinkPath","preventDefault","navigate","status","pause","pathname","getAttribute","encodeURI","as","cached","check","resolve","setTimeout","__NAVIGO_WINDOW_LOCATION_MOCK__","querySelectorAll","leave","router","__ui_components_about_overview_component__","__ui_components_about_overview_template__","__ui_components_about_resume_component__","__ui_components_about_resume_template__","__ui_components_article_card_component__","__ui_components_article_card_template__","__ui_components_article_modal_component__","__ui_components_article_modal_template__","__ui_components_bubble_chart_component__","__ui_components_bubble_chart_template__","__ui_components_equals_helper__","__ui_components_html_safe_helper__","__ui_components_str_contains_helper__","__ui_components_website_app_component__","__ui_components_website_app_template__"],"mappings":"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"}